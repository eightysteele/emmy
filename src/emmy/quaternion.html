<!DOCTYPE html>
<html><head><title>Quaternions</title><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="The quaternion number system is an extension of the complex number system. By introducing three &quot;imaginary&quot; numbers i, j and k, William Hamilton was able to devise a number system capable of representing rotations in 3-dimensional space, analogous to the ability of complex numbers to represent rotation and scaling in the 2d plane." property="og:description"><meta content="Quaternions" property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><script src="https://cdn.tailwindcss.com?plugins=typography" type="text/javascript"></script><script>tailwind.config = {
  darkMode: "class",
  content: ["./tw/viewer.js", "./tw/**/*.edn"],
  safelist: ['dark'],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["Fira Sans", "-apple-system", "BlinkMacSystemFont", "sans-serif"],
      serif: ["PT Serif", "serif"],
      mono: ["Fira Mono", "monospace"]
    }
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
</script><style type="text/tailwindcss">@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 18px;
  }
  @media (max-width: 600px) {
    html {
      font-size: 16px;
    }
  }
  .font-condensed { font-family: "Fira Sans Condensed", sans-serif; }
  .font-inter     { font-family: "Inter", sans-serif; }
  body {
    @apply font-serif antialiased text-gray-900 sm:overscroll-y-none;
  }
  code, .code {
    @apply font-mono text-sm text-gray-900 bg-slate-50 px-0.5 py-px rounded dark:bg-gray-800;
  }
  code::before, code::after { @apply content-none !important; }
  h1, h3, h4, h5, h6 {
    @apply font-condensed font-bold mt-8 first:mt-0;
  }
  h2 {
    /*We cannot collapse margins due to nesting but we want to*/
    /*keep the h2’s large margin visible*/
    @apply font-condensed font-bold mt-8 first:mt-2;
  }
  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }

  @media print {
      h1 { @apply text-2xl !important; }
      h2 { @apply text-xl !important; }
      h3 { @apply text-lg !important; }
  }

  button { @apply focus:outline-none; }
  strong { @apply font-bold; }
  em     { @apply italic; }
  pre    { @apply m-0 font-mono; }
}

/* Compatibility */
/* --------------------------------------------------------------- */
/* TODO: Verify which colors are in use and replace with Tailwind
   colors accordingly. Move Nj-specific styles out of here. */

:root {
  --teal-color: #31afd0;
  --dark-teal-color: #095960;
  --near-black-color: #2e2e2c;
  --red-color: #d64242;
  --dark-blue-color: #1f2937;
  --dark-blue-60-color: rgba(28, 42, 56, 0.6);
  --gray-panel-color: rgba(239, 241, 245, 1.000);
  --brand-color: var(--dark-blue-color);
  --link-color: #5046e4;
  --command-bar-selected-color: var(--teal-color);
}

.serif      { @apply font-serif; }
.sans-serif { @apply font-sans; }
.monospace  { @apply font-mono; }
.inter      { @apply font-inter; }

.border-color-teal { border-color: var(--dark-teal-color); }
.teal { color: var(--teal-color); }
.bg-dark-blue { background: var(--dark-blue-color); }
.bg-dark-blue-60 { background: rgba(28, 42, 56, 0.6); }
.bg-gray-panel { background: var(--gray-panel-color); }
.text-dark-blue  { color: var(--dark-blue-color); }
.text-dark-blue-60 { color: var(--dark-blue-60-color); }
.border-dark-blue-30 { border-color: rgba(28, 42, 56, 0.6); }
.text-brand { color: var(--dark-blue-color); }
.bg-brand { background: var(--dark-blue-color); }
.text-selected { color: white; }
.red { color: var(--red-color); }

/* Disclose Button */
/* --------------------------------------------------------------- */

.disclose {
  @apply content-none border-solid cursor-pointer inline-block relative mr-[3px] top-[-2px] transition-all;
  border-color: var(--near-black-color) transparent;
  border-width: 6px 4px 0;
}
.disclose:hover {
  border-color: var(--near-black-color) transparent;
}
.dark .disclose,
.dark .disclose:hover {
  border-color: white transparent;
}
.disclose.collapsed {
  @apply rotate-[-90deg];
}

/* Layout */
/* --------------------------------------------------------------- */

.page {
  @apply max-w-5xl mx-auto px-12 box-border flex-shrink-0;
}
.max-w-prose { @apply max-w-[46rem] !important; }
.max-w-wide  { @apply max-w-3xl !important; }

/* List Styles */
/* --------------------------------------------------------------- */

.task-list-item + .task-list-item,
.markdown-viewer ul ul {
  @apply mt-1 mb-0;
}

/* compact TOC */
.markdown-viewer .toc ul {
  list-style: none;
  @apply my-1;
}

/* Code Viewer */
/* --------------------------------------------------------------- */

.code-viewer {
  @apply font-mono bg-slate-100 rounded-sm text-sm overflow-x-auto dark:bg-gray-800;
}
.code-listing  {
    @apply -ml-8 -mr-8 relative !important;
}
.code-viewer .cm-content {
  @apply py-4 px-8;
}
@media (min-width: 960px){
    .notebook-viewer .code-viewer .cm-content {
        @apply py-4 pl-12;
    }
    .notebook-viewer .code-listing {
        width: 48rem !important;
        @apply -ml-12 mr-0 !important;
    }
}
/* Don’t show focus outline when double-clicking cell in Safari */
.cm-scroller { @apply focus:outline-none; }

/* Syntax Highlighting */
/* --------------------------------------------------------------- */

.inspected-value { @apply text-xs font-mono leading-[1.25rem]; }
.cmt-strong, .cmt-heading { @apply font-bold; }
.cmt-italic, .cmt-emphasis { @apply italic; }
.cmt-strikethrough { @apply line-through; }
.cmt-link { @apply underline; }
.untyped-value { @apply whitespace-nowrap; }

.cm-editor, .cmt-default, .result-viewer {
  @apply text-slate-800 dark:text-slate-300;
}
.cmt-keyword {
  @apply text-purple-800 dark:text-pink-400;
}
.cmt-atom, .cmt-bool, .cmt-url, .cmt-contentSeparator, .cmt-labelName {
  @apply text-blue-900 dark:text-blue-300;
}
.cmt-inserted, .cmt-literal {
  @apply text-emerald-700 dark:text-emerald-200;
}
.cmt-string, .cmt-deleted {
  @apply text-rose-700 dark:text-sky-300;
}
.cmt-italic.cmt-string {
  @apply dark:text-sky-200;
}
.cmt-regexp, .cmt-escape {
  @apply text-orange-500 dark:text-orange-300;
}
.cmt-variableName {
  @apply text-blue-800 dark:text-sky-300;
}
.cmt-typeName, .cmt-namespace {
  @apply text-emerald-600 dark:text-emerald-300;
}
.cmt-className {
  @apply text-teal-600 dark:text-teal-200;
}
.cmt-macroName {
  @apply text-teal-700 dark:text-teal-200;
}
.cmt-propertyName {
  @apply text-blue-700 dark:text-blue-200;
}
.cmt-comment {
  @apply text-slate-500 dark:text-slate-400;
}
.cmt-meta {
  @apply text-slate-600 dark:text-slate-400;
}
.cmt-invalid {
  @apply text-red-500 dark:text-red-300;
}

.result-data {
  @apply font-mono text-sm overflow-x-auto whitespace-nowrap leading-normal;
}
.result-data::-webkit-scrollbar, .path-nav::-webkit-scrollbar {
  @apply h-0;
}
.result-data-collapsed {
  @apply whitespace-nowrap;
}
.result-data-field {
  @apply ml-4 whitespace-nowrap;
}
.result-data-field-link{
  @apply ml-4 whitespace-nowrap cursor-pointer;
}
.result-data-field-link:hover {
  @apply text-black bg-black/5;
}
.result-text-empty {
  color: rgba(0,0,0,.3);
}
.browsify-button:hover {
  box-shadow: -2px 0 0 2px #edf2f7;
}

/* Prose */
/* --------------------------------------------------------------- */

.notebook-viewer,
.markdown-viewer {
  @apply prose
    dark:prose-invert
    prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline
    dark:prose-a:text-blue-300
    prose-p:mt-4 prose-p:leading-snug
    prose-ol:mt-4 prose-ol:mb-6 prose-ol:leading-snug
    prose-ul:mt-4 prose-ul:mb-6 prose-ul:leading-snug
    prose-blockquote:mt-4 prose-blockquote:leading-snug
    prose-hr:mt-6 prose-hr:border-t-2 prose-hr:border-solid prose-hr:border-slate-200
    prose-figure:mt-4
    prose-figcaption:mt-2 prose-figcaption:text-xs
    prose-headings:mb-4
    prose-table:mt-0
    prose-th:mb-0
    prose-img:my-0
    prose-code:font-medium prose-code:bg-slate-100
    max-w-none;
}
.markdown-viewer blockquote p:first-of-type:before,
.markdown-viewer blockquote p:last-of-type:after {
  @apply content-none;
}
.markdown-node-viewer.result-viewer.fragment-item {
    @apply mb-0 !important;
}

/* Images */
/* --------------------------------------------------------------- */


/* Todo Lists */
/* --------------------------------------------------------------- */

.contains-task-list {
  @apply pl-6 list-none;
}
.contains-task-list input[type="checkbox"] {
  @apply appearance-none h-4 w-4 rounded border border-slate-200 relative mr-[0.3rem] ml-[-1.5rem] top-[0.15rem];
}
.contains-task-list input[type="checkbox"]:checked {
  @apply border-indigo-600 bg-indigo-600 bg-no-repeat bg-contain;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

/* Markdown TOC */
/* --------------------------------------------------------------- */

.markdown-viewer .toc      { @apply mt-4; }
.markdown-viewer h1 + .toc { @apply mt-8; }

.markdown-viewer .toc h1,
.markdown-viewer .toc h2,
.markdown-viewer .toc h3,
.markdown-viewer .toc h4,
.markdown-viewer .toc h5,
.markdown-viewer .toc h6 {
  @apply text-base text-indigo-600 font-sans my-0;
}
.markdown-viewer .toc a {
  @apply text-indigo-600 font-normal no-underline hover:underline;
}
.markdown-viewer .toc li    { @apply m-0; }
.markdown-viewer .toc ul ul { @apply pl-4; }

/* Notebook Spacing */
/* --------------------------------------------------------------- */

.notebook-viewer { @apply py-16; }
#clerk-static-app .notebook-viewer { @apply pt-[0.8rem] pb-16; }
.markdown-viewer *:first-child:not(.code-viewer):not(li):not(h2):not(.sidenote) { @apply mt-0; }
/*.viewer + .viewer { @apply mt-6; }*/
.viewer + .result-viewer { @apply mt-0; }
.code-viewer + .result-viewer { @apply mt-3; }
.markdown-viewer + .markdown-viewer { @apply mt-0; }

/* Sidenotes */
/* --------------------------------------------------------------- */

.sidenote-ref {
  @apply top-[-0.5em] w-auto h-auto inline border-0 bg-transparent m-0 pointer-events-none;
}
.sidenote {
  @apply block font-sans text-xs mt-4 bg-slate-100 dark:bg-slate-800 p-4;
  font-style: normal;
  font-weight: normal;
}
.sidenote-container {
  @apply mb-4;
}
@media (min-width: 860px) {
  .sidenote sup { @apply inline; }
  .sidenote-column {
    @apply w-[165px] absolute right-0 top-0 -mr-[205px];
  }
  .sidenote {
    @apply bg-transparent dark:bg-transparent p-0;
  }
  .sidenote:first-child {
    @apply mt-1;
  }
  .sidenotes-layout .markdown-viewer {
    @apply pr-[241px];
  }
  .sidenote-container {
    @apply relative mb-0;
  }
  .sidenotes-layout h1 {
    @apply w-[756px] !important;
  }
}
.code-viewer + .viewer:not(.code-viewer):not(.code-viewer-folded),
.code-viewer-folded + .viewer:not(.code-viewer):not(.code-viewer-folded),
.result-viewer:not(.markdown-node-viewer) + .result-viewer {
  @apply mt-2;
}
.code-viewer + .code-viewer-folded {
  @apply mt-4;
}
.result-viewer {
  @apply leading-tight mb-6;
}
.code-viewer.fragment-item.result-viewer {
  @apply mb-0 !important;
}
.result-viewer figure {
  @apply mt-0 !important;
}
@media (min-width: 768px) {
  .devcard-desc > div {
    @apply max-w-full m-0;
  }
}

/* Command Palette */
/* --------------------------------------------------------------- */

.nj-commands-input {
  @apply bg-transparent text-white;
}
.nj-context-menu-item:hover:not([disabled]) {
  @apply cursor-pointer;
  background-color: rgba(255,255,255,.14);
}

/* Devdocs */
/* --------------------------------------------------------------- */

.logo, .logo-white {
  @apply block indent-[-999em];
  background: url(/images/nextjournal-logo.svg) center center no-repeat;
}
.devdocs-body {
  @apply font-inter;
}

/* Workarounds */
/* --------------------------------------------------------------- */

/* Fixes vega viewer resizing into infinity */
.vega-embed .chart-wrapper { @apply h-auto !important; }
/* fixes fraction separators being overridden by tw’s border-color */
.katex * { @apply border-black; }

@media print {
    .dark-mode-toggle,
    .toc-toggle { @apply hidden; }
    .notebook-viewer { @apply pt-0; font-size: 12pt !important; margin-left: 0 !important; }
    .code-viewer .cm-content,
    .viewer-code .cm-content { @apply whitespace-pre-wrap !important; overflow: none; }
    .code-viewer .cm-line { font-size: 12pt !important; }
    html * { page-break-inside: avoid !important; }
    .toc-panel { @apply hidden; }
}
</style><script src="https://storage.clerk.garden/nextjournal/clerk-assets@4NdW4yYfmUzzw9xCkmyrJ75nH75d/viewer.js?immutable=true" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"></head><body><div id="clerk-static-app"></div><script type="module">let state = "{:out-path \"public/build\", :path->doc {\"src/emmy/quaternion.cljc\" {:path [], :nextjournal/value {:toc {:type :toc, :children [{:type :toc, :content [{:type :text, :text \"Quaternions\"}], :heading-level 1, :attrs {:id \"quaternions\"}, :path [:content 0], :children [{:children [{:type :toc, :content [{:type :text, :text \"Sources\"}], :heading-level 3, :attrs {:id \"sources\"}, :path [:content 6]}], :type :toc} {:type :toc, :content [{:type :text, :text \"Quaternion Type Definition\"}], :heading-level 2, :attrs {:id \"quaternion-type-definition\"}, :path [:content 11]} {:type :toc, :content [{:type :text, :text \"Component Accessors\"}], :heading-level 2, :attrs {:id \"component-accessors\"}, :path [:content 15]} {:type :toc, :content [{:type :text, :text \"Quaternion Predicates\"}], :heading-level 2, :attrs {:id \"quaternion-predicates\"}, :path [:content 17]} {:type :toc, :content [{:type :text, :text \"Constructors\"}], :heading-level 2, :attrs {:id \"constructors\"}, :path [:content 18]} {:type :toc, :content [{:type :text, :text \"Quaternions with Function Coefficients\"}], :heading-level 2, :attrs {:id \"quaternions-with-function-coefficients\"}, :path [:content 19]} {:type :toc, :content [{:type :text, :text \"Algebra\"}], :heading-level 2, :attrs {:id \"algebra\"}, :path [:content 22]} {:type :toc, :content [{:type :text, :text \"Transcendental Functions\"}], :heading-level 2, :attrs {:id \"transcendental-functions\"}, :path [:content 24]} {:type :toc, :content [{:type :text, :text \"Quaternions and 3D rotations\"}], :heading-level 2, :attrs {:id \"quaternions-and-3d-rotations\"}, :path [:content 25], :children [{:type :toc, :content [{:type :text, :text \"Conversion to/from Angle-Axis\"}], :heading-level 3, :attrs {:id \"conversion-to/from-angle-axis\"}, :path [:content 28]}]} {:type :toc, :content [{:type :text, :text \"Quaternion / Matrix Relationships\"}], :heading-level 2, :attrs {:id \"quaternion-/-matrix-relationships\"}, :path [:content 29], :children [{:type :toc, :content [{:type :text, :text \"Complex 2x2\"}], :heading-level 3, :attrs {:id \"complex-2x2\"}, :path [:content 30]} {:type :toc, :content [{:type :text, :text \"Real 4x4 matrices\"}], :heading-level 3, :attrs {:id \"real-4x4-matrices\"}, :path [:content 31]} {:type :toc, :content [{:type :text, :text \"Tensor Representations of Quaternions\"}], :heading-level 3, :attrs {:id \"tensor-representations-of-quaternions\"}, :path [:content 32]} {:type :toc, :content [{:type :text, :text \"3x3 Rotation Matrix Representations\"}], :heading-level 3, :attrs {:id \"3x3-rotation-matrix-representations\"}, :path [:content 33]}]} {:type :toc, :content [{:type :text, :text \"Generic Method Installation\"}], :heading-level 2, :attrs {:id \"generic-method-installation\"}, :path [:content 34], :children [{:type :toc, :content [{:type :text, :text \"Equality\"}], :heading-level 3, :attrs {:id \"equality\"}, :path [:content 35]} {:type :toc, :content [{:type :text, :text \"Arithmetic\"}], :heading-level 3, :attrs {:id \"arithmetic\"}, :path [:content 37]} {:type :toc, :content [{:type :text, :text \"Transcendental Functions\"}], :heading-level 3, :attrs {:id \"transcendental-functions-2\"}, :path [:content 38]}]}]}]}, :sidenotes? false, :toc-visibility true, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns emmy.quaternion), :auto-expand-results? nil, :scope emmy.quaternion, :bundle? false, :open-graph {:type \"article:clerk\", :title \"Quaternions\", :description \"The quaternion number system is an extension of the complex number system. By introducing three \\\"imaginary\\\" numbers i, j and k, William Hamilton was able to devise a number system capable of representing rotations in 3-dimensional space, analogous to the ability of complex numbers to represent rotation and scaling in the 2d plane.\"}, :title \"Quaternions\", :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5drAEDkzdy2ETMJEvAhjPW2hTuVH1N\"} [\"h1\" {:id \"quaternions\"} [:<> \"Quaternions\"]] [:p [:<> \"The \"] [:a {:href \"https://en.wikipedia.org/wiki/Quaternion\"} [:<> \"quaternion number system\"]] [:<> \" is\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"an extension of the complex number system. By introducing \"] [:em [:<> \"three\"]] [:<> \" \\\"imaginary\\\"\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"numbers \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"i\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5dspkZgXrsvrVyyn8N8QfXTGXbEniK\"}}] [:<> \", \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"j\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5dspkZgXrsvrVyyn8N8QfXTGXbEniK\"}}] [:<> \" and \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"k\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5dspkZgXrsvrVyyn8N8QfXTGXbEniK\"}}] [:<> \", William Hamilton was able to devise a number system\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"capable of representing rotations in 3-dimensional space, analogous to the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"ability of complex numbers to represent rotation and scaling in the 2d plane.\"]] [:p [:<> \"The book \"] [:a {:href \"https://www.amazon.com/History-Vector-Analysis-Evolution-Mathematics/dp/0486679101\"} [:<> \"\\\"A History of Vector\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Analysis\\\"\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"tells the full historical tale, from Hamilton's discovery of quaternions up\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"through modern vector analysis. This namespace is mostly concerned with the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"implementation and manipulation of quaternions, but I expect more writing\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"will appear in the library on this fascinating topic.\"]] [:p [:<> \"This namespace begins with an implementation of a [[Quaternion]] type along\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"with a number of accessors and constructors. Next comes a suite of arithmetic\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"functions, followed by transcendental functions\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"like [[exp]], [[log]], [[sin]] etc.\"]] [:p [:<> \"Next comes an API for describing rotations in various ways, and converting\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"between quaternions and other representations of rotations, like 3D and 4D\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"matrices, Euler angles and more.\"]] [:p [:<> \"Finally, the namespace ends by installing the [[Quaternion]] type into the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"generic system. Quaternions are compatible with complex numbers and real\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"numbers, and interact with them by casting them up to [[Quaternion]]\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"instances.\"]] [\"h3\" {:id \"sources\"} [:<> \"Sources\"]] [:p [:<> \"This implementation was inspired by a number of excellent Quaternion\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"libraries:\"]] [:ul [:li [:<> [:<> \"The original scmutils implementation in Scheme, of course\"]]] [:li [:<> [:a {:href \"https://github.com/typelevel/spire/blob/main/core/src/main/scala/spire/math/Quaternion.scala#L202\"} [:<> \"Spire's implementation in Scala\"]]]] [:li [:<> [:a {:href \"https://github.com/weavejester/euclidean\"} [:<> \"weavejester's Euclidean library in\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Clojure\"]] [:<> \" and his \"] [:a {:href \"https://www.booleanknot.com/slides/functional-3d-game-design.pdf\"} [:<> \"associated\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"talk\"]]]] [:li [:<> [:a {:href \"https://www.boost.org/doc/libs/1_78_0/libs/math/doc/html/quaternions.html\"} [:<> \"Boost's C++ Quaternion package\"]]]] [:li [:<> [:a {:href \"https://github.com/ferd36/quaternions\"} [:<> \"quaternions in C++, by ferd36\"]]]] [:li [:<> [:a {:href \"https://github.com/infusion/Quaternion.js/\"} [:<> \"Quaternion.js\"]]]]] [:p [:<> \"For more reading, see:\"]] [:ul [:li [:<> [:a {:href \"https://en.wikipedia.org/wiki/Quaternion\"} [:<> \"\\\"Quaternion\\\"\"]] [:<> \" on Wikipedia\"]]] [:li [:<> [:a {:href \"https://en.wikipedia.org/wiki/Octonion\"} [:<> \"\\\"Octonion\\\" on Wikipedia\"]] [:<> \", for an\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"extension of the quaternions to 8 dimensions\"]]] [:li [:<> [:a {:href \"https://en.wikipedia.org/wiki/Cayley%E2%80%93Dickson_construction\"} [:<> \"\\\"Cayley-Dickson\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Construction\\\"\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"for a method that allows you to build successively higher-order extensions\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"of the real, complex, quaternion, octonion, sedonion tower.\"]]]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5drAEDkzdy2ETMJEvAhjPW2hTuVH1N\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(declare arity eq evaluate zero? one?)\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5duDnBSBhSek5dC3Hkm22NYxiJS6UD-code\", :loc {:line 83, :end-line 83, :column 1, :end-column 39}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$evaluate 0x506c1f16 \\\"emmy.quaternion$evaluate@506c1f16\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5duDnBSBhSek5dC3Hkm22NYxiJS6UD-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5duDnBSBhSek5dC3Hkm22NYxiJS6UD-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5dtpvmExiVZByiAhbCGh9rfGFt1pUT\"} [\"h2\" {:id \"quaternion-type-definition\"} [:<> \"Quaternion Type Definition\"]] [:p [:<> \"The [[Quaternion]] type is a container for the four coefficients $(a, b, c,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"d)$ of a quaternion of the form \"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value \"a + bi + cj + dk\", :nextjournal/viewer {:name :nextjournal.markdown/formula, :render-fn #viewer-fn (fn [tex] (nextjournal.clerk.render/render-katex tex {:inline? true})), :hash \"5dspkZgXrsvrVyyn8N8QfXTGXbEniK\"}}] [:<> \", along with an optional\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"metadata entry \"] [:code [:<> \"m\"]] [:<> \". (The coefficient fields are named \"] [:code [:<> \"r\"]] [:<> \", \"] [:code [:<> \"i\"]] [:<> \", \"] [:code [:<> \"j\"]] [:<> \" and \"] [:code [:<> \"k\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"after the associated imaginary.)\"]] [:p [:<> \"The type implements a number of protocols, designed to achieve the following\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"goals:\"]] [:ul [:li [:p [:<> \"Quaternions should be \"] [:code [:<> \"seq\"]] [:<> \"-able into a sequence of the coefficient\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"entries, but also act like vectors with a fixed count of 4, capable of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"supporting \"] [:code [:<> \"rseq\"]] [:<> \", indexed lookups and efficient reductions.\"]]] [:li [:p [:<> \"Unlike a vector, if a [[Quaternion]] has function entries, applying the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"quaternion as a function should apply each component to the arguments and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"return a new quaternion with the results as the new coefficients.\"]]] [:li [:p [:<> \"The \"] [:code [:<> \"D\"]] [:<> \" operator should work on quaternions, so derivatives of functions\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"that return quaternions work well.\"]]] [:li [:p [:<> \"All [[emmy.value/Value]] functions should work well.\"]]]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5dtpvmExiVZByiAhbCGh9rfGFt1pUT\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(deftype Quaternion [r i j k m]\\n  f/IArity\\n  (arity [this] (arity this))\\n\\n  d/IPerturbed\\n  (perturbed? [_]\\n    (or (d/perturbed? r)\\n        (d/perturbed? i)\\n        (d/perturbed? j)\\n        (d/perturbed? k)))\\n\\n  (replace-tag [_ old new]\\n    (Quaternion.\\n     (d/replace-tag r old new)\\n     (d/replace-tag i old new)\\n     (d/replace-tag j old new)\\n     (d/replace-tag k old new)\\n     m))\\n\\n  (extract-tangent [_ tag]\\n    (Quaternion.\\n     (d/extract-tangent r tag)\\n     (d/extract-tangent i tag)\\n     (d/extract-tangent j tag)\\n     (d/extract-tangent k tag)\\n     m))\\n\\n  v/Value\\n  (zero? [this] (zero? this))\\n  (one? [this] (one? this))\\n  (identity? [this] (one? this))\\n\\n  (zero-like [_]\\n    (Quaternion. (v/zero-like r) 0 0 0 m))\\n  (one-like [_]\\n    (Quaternion. (v/one-like r) 0 0 0 m))\\n  (identity-like [_]\\n    (Quaternion. (v/one-like r) 0 0 0 m))\\n\\n  (exact? [_]\\n    (and (v/exact? r)\\n         (v/exact? i)\\n         (v/exact? j)\\n         (v/exact? k)))\\n  (freeze [_]\\n    (list 'quaternion\\n          (v/freeze r)\\n          (v/freeze i)\\n          (v/freeze j)\\n          (v/freeze k)))\\n  (kind [_] ::quaternion)\\n\\n  #?@(:clj\\n      [Object\\n       (equals [self q] (eq self q))\\n       (toString [_] (str \\\"#emmy/quaternion [\\\" r \\\" \\\" i  \\\" \\\" j \\\" \\\" k \\\"]\\\"))\\n\\n       IObj\\n       (meta [_] m)\\n       (withMeta [_ m] (Quaternion. r i j k m))\\n\\n       Sequential\\n\\n       Associative\\n       (assoc [_ key v]\\n              (if (int? key)\\n                (case (int key)\\n                  0 (Quaternion. v i j k m)\\n                  1 (Quaternion. r v j k m)\\n                  2 (Quaternion. r i v k m)\\n                  3 (Quaternion. r i j v m)\\n                  (throw (IndexOutOfBoundsException.)))\\n                (throw (IllegalArgumentException.))))\\n\\n       (containsKey [_ k] (boolean (#{0 1 2 3} k)))\\n       (entryAt [this k]\\n                (when-let [v (.valAt ^Associative this k nil)]\\n                  (MapEntry. k v)))\\n       (cons [_ _]\\n             (throw\\n              (UnsupportedOperationException.\\n               (str \\\"cons not suported on Quaternion instances. convert to\\\"\\n                    \\\" vector first!\\\"))))\\n       (count [_] 4)\\n       (seq [_] (list r i j k))\\n       (valAt [this key]\\n              (.valAt ^Associative this key nil))\\n       (valAt [_ key not-found]\\n              (if (int? key)\\n                (case (int key)\\n                  0 r\\n                  1 i\\n                  2 j\\n                  3 k\\n                  not-found)\\n                not-found))\\n       (empty [_] (Quaternion. 0 0 0 0 m))\\n       (equiv [this that] (.equals this that))\\n\\n       Indexed\\n       (nth [this k] (.valAt ^Associative this k))\\n       (nth [this k default] (.valAt ^Associative this k default))\\n\\n       IReduce\\n       (reduce [_ f] (f (f (f r i) j) k))\\n       (reduce [_ f start] (f (f (f (f start r) i) j) k))\\n\\n       IKVReduce\\n       (kvreduce [_ f init]\\n                 (-> (f init r 0)\\n                     (f i 1)\\n                     (f j 2)\\n                     (f k 3)))\\n\\n       Reversible\\n       (rseq [_] (list k j i r))\\n\\n       IFn\\n       (invoke [this]\\n               (evaluate this []))\\n       (invoke [this a]\\n               (evaluate this [a]))\\n       (invoke [this a b]\\n               (evaluate this [a b]))\\n       (invoke [this a b c]\\n               (evaluate this [a b c]))\\n       (invoke [this a b c d]\\n               (evaluate this [a b c d]))\\n       (invoke [this a b c d e]\\n               (evaluate this [a b c d e]))\\n       (invoke [this a b c d e f]\\n               (evaluate this [a b c d e f]))\\n       (invoke [this a b c d e f g]\\n               (evaluate this [a b c d e f g]))\\n       (invoke [this a b c d e f g h]\\n               (evaluate this [a b c d e f g h]))\\n       (invoke [this a b c d e f g h i]\\n               (evaluate this [a b c d e f g h i]))\\n       (invoke [this a b c d e f g h i j]\\n               (evaluate this [a b c d e f g h i j]))\\n       (invoke [this a b c d e f g h i j k]\\n               (evaluate this [a b c d e f g h i j k]))\\n       (invoke [this a b c d e f g h i j k l]\\n               (evaluate this [a b c d e f g h i j k l]))\\n       (invoke [this a b c d e f g h i j k l m]\\n               (evaluate this [a b c d e f g h i j k l m]))\\n       (invoke [this a b c d e f g h i j k l m n]\\n               (evaluate this [a b c d e f g h i j k l m n]))\\n       (invoke [this a b c d e f g h i j k l m n o]\\n               (evaluate this [a b c d e f g h i j k l m n o]))\\n       (invoke [this a b c d e f g h i j k l m n o p]\\n               (evaluate this [a b c d e f g h i j k l m n o p]))\\n       (invoke [this a b c d e f g h i j k l m n o p q]\\n               (evaluate this [a b c d e f g h i j k l m n o p q]))\\n       (invoke [this a b c d e f g h i j k l m n o p q r]\\n               (evaluate this [a b c d e f g h i j k l m n o p q r]))\\n       (invoke [this a b c d e f g h i j k l m n o p q r s]\\n               (evaluate this [a b c d e f g h i j k l m n o p q r s]))\\n       (invoke [this a b c d e f g h i j k l m n o p q r s t]\\n               (evaluate this [a b c d e f g h i j k l m n o p q r s t]))\\n       (invoke [this a b c d e f g h i j k l m n o p q r s t rest]\\n               (evaluate this (into [a b c d e f g h i j k l m n o p q r s t] rest)))\\n       (applyTo [s xs] (AFn/applyToHelper s xs))]\\n\\n      :cljs\\n      [Object\\n       (toString [_]\\n                 (str \\\"#emmy/quaternion [\\\" r \\\" \\\" i  \\\" \\\" j \\\" \\\" k \\\"]\\\"))\\n\\n       IEquiv\\n       (-equiv [this that] (eq this that))\\n\\n       IPrintWithWriter\\n       (-pr-writer [x writer _]\\n                   (write-all writer (.toString x)))\\n\\n       IMeta\\n       (-meta [_] m)\\n\\n       IWithMeta\\n       (-with-meta [_ meta] (Quaternion. r i j k meta))\\n\\n       ISequential\\n\\n       IEmptyableCollection\\n       (-empty [_] (Quaternion. 0 0 0 0 m))\\n\\n       ICollection\\n       (-conj [_ _]\\n              (throw\\n               (js/Error.\\n                (str \\\"conj not suported on Quaternion instances. convert to\\\"\\n                     \\\" vector first!\\\"))))\\n\\n       ISeqable\\n       (-seq [_] (list r i j k))\\n\\n       ICounted\\n       (-count [_] 4)\\n\\n       IIndexed\\n       (-nth [this n] (-nth this n nil))\\n       (-nth [_ n default]\\n             (case n\\n               0 r\\n               1 i\\n               2 j\\n               3 k\\n               default))\\n\\n       ILookup\\n       (-lookup [this key] (-lookup this key nil))\\n       (-lookup [this key not-found]\\n                (if (number? key)\\n                  (-nth this key not-found)\\n                  not-found))\\n\\n       IAssociative\\n       (-assoc [_ key v]\\n               (case key\\n                 0 (Quaternion. v i j k m)\\n                 1 (Quaternion. r v j k m)\\n                 2 (Quaternion. r i v k m)\\n                 3 (Quaternion. r i j v m)\\n                 (throw\\n                  (js/Error.\\n                   \\\"Quaternion's key for assoc must be 0, 1, 2 or 3.\\\"))))\\n       (-contains-key? [_ k]\\n                       (boolean\\n                        (#{0 1 2 3} k)))\\n\\n       IFind\\n       (-find [this n]\\n              (when (-contains-key? this n)\\n                (MapEntry. n (-nth this n nil) nil)))\\n\\n       IReduce\\n       (-reduce [_ f] (f (f (f r i) j) k))\\n       (-reduce [_ f start] (f (f (f (f start r) i) j) k))\\n\\n       IKVReduce\\n       (-kv-reduce [_ f init]\\n                   (-> (f init r 0)\\n                       (f i 1)\\n                       (f j 2)\\n                       (f k 3)))\\n\\n       IReversible\\n       (-rseq [_] (list k j i r))\\n\\n       IIterable\\n       (-iterator [this] (ranged-iterator (vec this) 0 4))\\n\\n       IFn\\n       (-invoke [this]\\n                (evaluate this []))\\n       (-invoke [this a]\\n                (evaluate this [a]))\\n       (-invoke [this a b]\\n                (evaluate this [a b]))\\n       (-invoke [this a b c]\\n                (evaluate this [a b c]))\\n       (-invoke [this a b c d]\\n                (evaluate this [a b c d]))\\n       (-invoke [this a b c d e]\\n                (evaluate this [a b c d e]))\\n       (-invoke [this a b c d e f]\\n                (evaluate this [a b c d e f]))\\n       (-invoke [this a b c d e f g]\\n                (evaluate this [a b c d e f g]))\\n       (-invoke [this a b c d e f g h]\\n                (evaluate this [a b c d e f g h]))\\n       (-invoke [this a b c d e f g h i]\\n                (evaluate this [a b c d e f g h i]))\\n       (-invoke [this a b c d e f g h i j]\\n                (evaluate this [a b c d e f g h i j]))\\n       (-invoke [this a b c d e f g h i j k]\\n                (evaluate this [a b c d e f g h i j k]))\\n       (-invoke [this a b c d e f g h i j k l]\\n                (evaluate this [a b c d e f g h i j k l]))\\n       (-invoke [this a b c d e f g h i j k l m]\\n                (evaluate this [a b c d e f g h i j k l m]))\\n       (-invoke [this a b c d e f g h i j k l m n]\\n                (evaluate this [a b c d e f g h i j k l m n]))\\n       (-invoke [this a b c d e f g h i j k l m n o]\\n                (evaluate this [a b c d e f g h i j k l m n o]))\\n       (-invoke [this a b c d e f g h i j k l m n o p]\\n                (evaluate this [a b c d e f g h i j k l m n o p]))\\n       (-invoke [this a b c d e f g h i j k l m n o p q]\\n                (evaluate this [a b c d e f g h i j k l m n o p q]))\\n       (-invoke [this a b c d e f g h i j k l m n o p q r]\\n                (evaluate this [a b c d e f g h i j k l m n o p q r]))\\n       (-invoke [this a b c d e f g h i j k l m n o p q r s]\\n                (evaluate this [a b c d e f g h i j k l m n o p q r s]))\\n       (-invoke [this a b c d e f g h i j k l m n o p q r s t]\\n                (evaluate this [a b c d e f g h i j k l m n o p q r s t]))\\n       (-invoke [this a b c d e f g h i j k l m n o p q r s t rest]\\n                (evaluate this (into [a b c d e f g h i j k l m n o p q r s t] rest)))]))\", :nextjournal/opts {:id \"emmy.quaternion/->Quaternion-code\", :loc {:line 108, :end-line 405, :column 1, :end-column 90}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value emmy.quaternion/->Quaternion, :nextjournal/opts {:id \"emmy.quaternion/->Quaternion-result\"}, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] [:span.inspected-value [:span.cmt-meta \"#'\" (str x)]]), :hash \"5drVRdpy8ciJYX39zFxxrNrNizFH2i\"}}, :nextjournal/blob-id \"5dqreomJM46onrFhcbJ95vKNoXu7nr\"}, :nextjournal/opts {:id \"emmy.quaternion/->Quaternion-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(do (ns-unmap 'emmy.quaternion '->Quaternion)\\n    (defn ->Quaternion\\n      \\\"Positional factory function for [[Quaternion]].\\n\\n  The final metadata argument `m` defaults to nil if not supplied.\\\"\\n      ([r i j k]\\n       (Quaternion. r i j k nil))\\n      ([r i j k m]\\n       (Quaternion. r i j k m))))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsuNs7bVEsWZVkHh9gTLkUwdgHtpG-code\", :loc {:line 408, :end-line 416, :column 1, :end-column 34}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value emmy.quaternion/->Quaternion, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsuNs7bVEsWZVkHh9gTLkUwdgHtpG-result\"}, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] [:span.inspected-value [:span.cmt-meta \"#'\" (str x)]]), :hash \"5drVRdpy8ciJYX39zFxxrNrNizFH2i\"}}, :nextjournal/blob-id \"5dsNC8uvdThQBVXZh5kext9SrFs5xx\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsuNs7bVEsWZVkHh9gTLkUwdgHtpG-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"#?(:clj\\n   (defmethod print-method Quaternion\\n     [^Quaternion q ^java.io.Writer w]\\n     (.write w (.toString q))))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsegiZPRNu2sBM9AHnoZeEu3xtqEB-code\", :loc {:line 418, :end-line 421, :column 1, :end-column 32}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x6700dae2 \\\"clojure.lang.MultiFn@6700dae2\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsegiZPRNu2sBM9AHnoZeEu3xtqEB-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5du7TLTHQJSRVdjhGXf97ceQmEButX\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsegiZPRNu2sBM9AHnoZeEu3xtqEB-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn quaternion?\\n  \\\"Returns `true` if `q` is an instance of [[Quaternion]], false otherwise.\\\"\\n  [q]\\n  (instance? Quaternion q))\", :nextjournal/opts {:id \"emmy.quaternion/quaternion?-code\", :loc {:line 423, :end-line 426, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$quaternion_QMARK_ 0x7a49e797 \\\"emmy.quaternion$quaternion_QMARK_@7a49e797\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/quaternion?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/quaternion?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5dsAtChBF9woswg3zmVmdUUzsN7CMu\"} [\"h2\" {:id \"component-accessors\"} [:<> \"Component Accessors\"]] [:p [:<> \"The following functions provide access to specific components, or\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"coefficients, of a quaternion \"] [:code [:<> \"q\"]] [:<> \", as well as other named things you might\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"like to extract, like the quaternion's vector or real components.\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5dsAtChBF9woswg3zmVmdUUzsN7CMu\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn get-r\\n  \\\"Returns the `r` component of the supplied quaternion `q`.\\n\\n  Identical to [[real-part]].\\\"\\n  [^Quaternion q]\\n  (.-r q))\", :nextjournal/opts {:id \"emmy.quaternion/get-r-code\", :loc {:line 434, :end-line 439, :column 1, :end-column 11}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$get_r 0x47f1d67a \\\"emmy.quaternion$get_r@47f1d67a\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/get-r-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/get-r-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn real-part\\n  \\\"Returns the `r` component of the supplied quaternion `q`.\\n\\n  Identical to [[get-r]].\\\"\\n  [^Quaternion q]\\n  (.-r q))\", :nextjournal/opts {:id \"emmy.quaternion/real-part-code\", :loc {:line 441, :end-line 446, :column 1, :end-column 11}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$real_part 0x3de2fb2a \\\"emmy.quaternion$real_part@3de2fb2a\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/real-part-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/real-part-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn get-i\\n  \\\"Returns the `i` component of the supplied quaternion `q`.\\\"\\n  [^Quaternion q]\\n  (.-i q))\", :nextjournal/opts {:id \"emmy.quaternion/get-i-code\", :loc {:line 448, :end-line 451, :column 1, :end-column 11}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$get_i 0xd46d72f \\\"emmy.quaternion$get_i@d46d72f\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/get-i-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/get-i-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn get-j\\n  \\\"Returns the `j` component of the supplied quaternion `q`.\\\"\\n  [^Quaternion q]\\n  (.-j q))\", :nextjournal/opts {:id \"emmy.quaternion/get-j-code\", :loc {:line 453, :end-line 456, :column 1, :end-column 11}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$get_j 0x3886ec4f \\\"emmy.quaternion$get_j@3886ec4f\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/get-j-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/get-j-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn get-k\\n  \\\"Returns the `k` component of the supplied quaternion `q`.\\\"\\n  [^Quaternion q]\\n  (.-k q))\", :nextjournal/opts {:id \"emmy.quaternion/get-k-code\", :loc {:line 458, :end-line 461, :column 1, :end-column 11}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$get_k 0x718daf23 \\\"emmy.quaternion$get_k@718daf23\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/get-k-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/get-k-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn complex-1\\n  \\\"Returns the `r` and `i` components of the quaternion `q` as a `Complex` number\\n  instance.\\\"\\n  [q]\\n  (sc/complex (get-r q) (get-i q)))\", :nextjournal/opts {:id \"emmy.quaternion/complex-1-code\", :loc {:line 463, :end-line 467, :column 1, :end-column 36}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$complex_1 0x5b1c3193 \\\"emmy.quaternion$complex_1@5b1c3193\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/complex-1-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/complex-1-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn complex-2\\n  \\\"Returns the `j` and `k` components of the quaternion `q` as a `Complex` number\\n  instance.\\\"\\n  [q]\\n  (sc/complex (get-j q) (get-k q)))\", :nextjournal/opts {:id \"emmy.quaternion/complex-2-code\", :loc {:line 469, :end-line 473, :column 1, :end-column 36}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$complex_2 0x60587a70 \\\"emmy.quaternion$complex_2@60587a70\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/complex-2-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/complex-2-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ->complex-pair\\n  \\\"Returns a pair of complex number created respectively from the `(r,i)`\\n  and `(j,k)` components of the supplied quaternion `q`.\\n\\n  NOTE that this only works if the coefficients of `q` are real numbers, due to\\n  restrictions on the current complex number implementation. \\\"\\n  [q]\\n  {:pre [(quaternion? q)]}\\n  [(complex-1 q) (complex-2 q)])\", :nextjournal/opts {:id \"emmy.quaternion/->complex-pair-code\", :loc {:line 475, :end-line 483, :column 1, :end-column 33}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$__GT_complex_pair 0x6fb306a0 \\\"emmy.quaternion$__GT_complex_pair@6fb306a0\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/->complex-pair-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/->complex-pair-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ->vector\\n  \\\"Returns a 4-vector of the coefficients of quaternion `q`.\\n\\n  Works identically to `(vec q)`, but more efficient as we are able to create\\n  the new vector in one shot.\\\"\\n  [q]\\n  {:pre [(quaternion? q)]}\\n  [(get-r q) (get-i q) (get-j q) (get-k q)])\", :nextjournal/opts {:id \"emmy.quaternion/->vector-code\", :loc {:line 485, :end-line 492, :column 1, :end-column 45}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$__GT_vector 0x735b48c2 \\\"emmy.quaternion$__GT_vector@735b48c2\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/->vector-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/->vector-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn three-vector\\n  \\\"Returns a 3-vector holding the coefficients of the non-real (imaginary)\\n  components of the quaternion `q`.\\\"\\n  [q]\\n  {:pre [(quaternion? q)]}\\n  [(get-i q) (get-j q) (get-k q)])\", :nextjournal/opts {:id \"emmy.quaternion/three-vector-code\", :loc {:line 494, :end-line 499, :column 1, :end-column 35}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$three_vector 0x49f17f93 \\\"emmy.quaternion$three_vector@49f17f93\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/three-vector-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/three-vector-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5dsDuLc5Jttc2qLFH5iLVkH76wTNHt\"} [\"h2\" {:id \"quaternion-predicates\"} [:<> \"Quaternion Predicates\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5dsDuLc5Jttc2qLFH5iLVkH76wTNHt\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn real?\\n  \\\"Returns true if the quaternion `q` has zero entries for all non-real fields,\\n  false otherwise.\\\"\\n  [q]\\n  (and (v/zero? (get-i q))\\n       (v/zero? (get-j q))\\n       (v/zero? (get-k q))))\", :nextjournal/opts {:id \"emmy.quaternion/real?-code\", :loc {:line 503, :end-line 509, :column 1, :end-column 29}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$real_QMARK_ 0x6ad90727 \\\"emmy.quaternion$real_QMARK_@6ad90727\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/real?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/real?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn zero?\\n  \\\"Returns true if `q` is a quaternion with zeros in all coefficient positions,\\n  false otherwise.\\\"\\n  [q]\\n  (and (real? q) (v/zero? (get-r q))))\", :nextjournal/opts {:id \"emmy.quaternion/zero?-code\", :loc {:line 511, :end-line 515, :column 1, :end-column 39}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$zero_QMARK_ 0x1da89ada \\\"emmy.quaternion$zero_QMARK_@1da89ada\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/zero?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/zero?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn one?\\n  \\\"Returns true if `q` is a [[real?]] quaternion with a one-like coefficient in\\n  the real position, false otherwise.\\\"\\n  [q]\\n  (and (real? q) (v/one? (get-r q))))\", :nextjournal/opts {:id \"emmy.quaternion/one?-code\", :loc {:line 517, :end-line 521, :column 1, :end-column 38}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$one_QMARK_ 0x341cdcf5 \\\"emmy.quaternion$one_QMARK_@341cdcf5\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/one?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/one?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn pure?\\n  \\\"Returns true if the quaternion `q` has a zero real entry, false otherwise.\\n\\n  A 'pure' quaternion is sometimes called an 'imaginary' quaternion.\\\"\\n  [q]\\n  (v/zero? (get-r q)))\", :nextjournal/opts {:id \"emmy.quaternion/pure?-code\", :loc {:line 523, :end-line 528, :column 1, :end-column 23}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$pure_QMARK_ 0x76d32002 \\\"emmy.quaternion$pure_QMARK_@76d32002\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/pure?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/pure?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(declare magnitude-sq)\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drSgb88GpUbY4gkJYVu2TcGhJWoKm-code\", :loc {:line 530, :end-line 530, :column 1, :end-column 23}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$magnitude_sq 0x5411f1c0 \\\"emmy.quaternion$magnitude_sq@5411f1c0\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drSgb88GpUbY4gkJYVu2TcGhJWoKm-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drSgb88GpUbY4gkJYVu2TcGhJWoKm-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn unit?\\n  \\\"Returns true if `q` is a unit quaternion (i.e., a 'versor', a quaternion\\n  with [[magnitude]] equal to one), false otherwise.\\n\\n  To check if the [[magnitude]] of `q` is /approximately/ equal to one, pass a\\n  tolerance via the `:epsilon` keyword argument.\\n\\n  For more control, use [[magnitude]] to compute the magnitude directly.\\\"\\n  ([q & {:keys [epsilon]}]\\n   (let [mag-sq (magnitude-sq q)]\\n     (if epsilon\\n       ((v/within epsilon) 1 (g/sqrt mag-sq))\\n       (v/one? mag-sq)))))\", :nextjournal/opts {:id \"emmy.quaternion/unit?-code\", :loc {:line 532, :end-line 544, :column 1, :end-column 27}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$unit_QMARK_ 0xd36cfd2 \\\"emmy.quaternion$unit_QMARK_@d36cfd2\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/unit?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/unit?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn eq\\n  \\\"Returns true if the supplied quaternion `q1` is equal to the value `q2`. The\\n  rules for [[eq]] are as follows:\\n\\n  - If `q2` is a quaternion, returns true if all coefficients match, false\\n    otherwise\\n\\n  - If `q2` is complex, returns true if the real and `i` coefficients are equal,\\n    with `j` and `k` coefficients of `q1` equal to zero, false otherwise\\n\\n  - If `q2` is sequential with a count of 4, it's interpreted as a vector of\\n    quaternion coefficients.\\n\\n  Else, if `q1` is a [[real?]] quaternion, returns true if the real component of\\n  `q1` is [[emmy.value/=]] to `q2`, false otherwise.\\\"\\n  [q1 q2]\\n  (or (identical? q1 q2)\\n      (let [r (get-r q1)\\n            i (get-i q1)\\n            j (get-j q1)\\n            k (get-k q1)]\\n        (cond\\n          (quaternion? q2)\\n          (let [q2 ^Quaternion q2]\\n            (and (v/= r (.-r q2))\\n                 (v/= i (.-i q2))\\n                 (v/= j (.-j q2))\\n                 (v/= k (.-k q2))))\\n\\n          (sc/complex? q2)\\n          (and (v/= r (sc/real q2))\\n               (v/= i (sc/imaginary q2))\\n               (v/zero? j)\\n               (v/zero? k))\\n\\n          (sequential? q2)\\n          (and (= (count q2) 4)\\n               (= r (nth q2 0))\\n               (= i (nth q2 1))\\n               (= j (nth q2 2))\\n               (= k (nth q2 3)))\\n\\n          :else (and (real? q1)\\n                     (v/= r q2))))))\", :nextjournal/opts {:id \"emmy.quaternion/eq-code\", :loc {:line 546, :end-line 589, :column 1, :end-column 37}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$eq 0x5f9f41f5 \\\"emmy.quaternion$eq@5f9f41f5\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/eq-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/eq-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5dsSWzyJmdRMUSxv3pJFYmtKZuLJ7Z\"} [\"h2\" {:id \"constructors\"} [:<> \"Constructors\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5dsSWzyJmdRMUSxv3pJFYmtKZuLJ7Z\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(def ZERO\\n  \\\"The zero quaternion. All coefficients are equal to 0.\\\"\\n  (->Quaternion 0 0 0 0))\", :nextjournal/opts {:id \"emmy.quaternion/ZERO-code\", :loc {:line 593, :end-line 595, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/opts {:id \"emmy.quaternion/ZERO-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}, :nextjournal/blob-id \"5drwcj5aBcC4SaM18AU9PgkZbsej7Y\"}, :nextjournal/opts {:id \"emmy.quaternion/ZERO-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ONE\\n  \\\"The identity quaternion. The real coefficient is equal to 1, and all\\n  coefficients are equal to 0.\\\"\\n  (->Quaternion 1 0 0 0))\", :nextjournal/opts {:id \"emmy.quaternion/ONE-code\", :loc {:line 597, :end-line 600, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/opts {:id \"emmy.quaternion/ONE-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}, :nextjournal/blob-id \"5dt5nhULF4AGQpG8PRyJr2JX3pkao5\"}, :nextjournal/opts {:id \"emmy.quaternion/ONE-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def I\\n  \\\"Unit quaternion with `i` coefficient equal to 1, all other coefficients equal\\n  to 0.\\\"\\n  (->Quaternion 0 1 0 0))\", :nextjournal/opts {:id \"emmy.quaternion/I-code\", :loc {:line 602, :end-line 605, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/opts {:id \"emmy.quaternion/I-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}, :nextjournal/blob-id \"5dtqi3YJtWYGnAWyTdXwmj1Gg9wFJ7\"}, :nextjournal/opts {:id \"emmy.quaternion/I-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def J\\n  \\\"Unit quaternion with `j` coefficient equal to 1, all other coefficients equal\\n  to 0.\\\"\\n  (->Quaternion 0 0 1 0))\", :nextjournal/opts {:id \"emmy.quaternion/J-code\", :loc {:line 607, :end-line 610, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/opts {:id \"emmy.quaternion/J-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}, :nextjournal/blob-id \"5drX46RwsQFCdAAS78N9Nn2A5AxkxE\"}, :nextjournal/opts {:id \"emmy.quaternion/J-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def K\\n  \\\"Unit quaternion with `k` coefficient equal to 1, all other coefficients equal\\n  to 0.\\\"\\n  (->Quaternion 0 0 0 1))\", :nextjournal/opts {:id \"emmy.quaternion/K-code\", :loc {:line 612, :end-line 615, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/opts {:id \"emmy.quaternion/K-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}, :nextjournal/blob-id \"5dt68heRVDrQ5mvWhbSwGhnkdUaYAQ\"}, :nextjournal/opts {:id \"emmy.quaternion/K-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn make\\n  \\\"Constructor that builds [[Quaternion]] instances out of a variety of types.\\n  Given:\\n\\n  - a quaternion `x`, acts as identity.\\n\\n  - a sequential `x`, returns a quaternion with coefficients built from the\\n    first four entries.\\n\\n  - a complex number `x`, returns a quaternion built from the real and imaginary\\n    components of `x` with `j` and `k` components equal to zero.\\n\\n  - a real number `x` and 3-vector, returns a quaternion with real coefficient\\n    equal to `x` and imaginary components equal to the elements of the vector\\n\\n  - 4 distinct arguments `r`, `i`, `j` and `k`, returns a quaternion with these\\n    as the coefficients.\\\"\\n  ([x]\\n   (cond (quaternion? x) x\\n         (sequential? x) (apply ->Quaternion (take 4 x))\\n         (sc/complex? x) (->Quaternion\\n                          (sc/real x) (sc/imaginary x) 0 0)\\n         :else (->Quaternion x 0 0 0)))\\n  ([r [i j k]]\\n   (->Quaternion r i j k))\\n  ([r i j k]\\n   (->Quaternion r i j k)))\", :nextjournal/opts {:id \"emmy.quaternion/make-code\", :loc {:line 617, :end-line 643, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$make 0x30a3a934 \\\"emmy.quaternion$make@30a3a934\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/make-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/make-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ^:no-doc parse-quaternion\\n  \\\"Implementation of a reader literal that turns literal 4-vectors into calls\\n  to [[make]]. For all other input, call [[make]] directly.\\n\\n  Installed by default under #emmy/quaternion.\\\"\\n  [x]\\n  (if (vector? x)\\n    (if (= (count x) 4)\\n      (let [[r i j k] x]\\n        `(make ~r ~i ~j ~k))\\n      (u/illegal\\n       (str \\\"Quaternion literal vectors require 4 elements. Received: \\\" x)))\\n    `(make ~x)))\", :nextjournal/opts {:id \"emmy.quaternion/parse-quaternion-code\", :loc {:line 645, :end-line 657, :column 1, :end-column 17}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$parse_quaternion 0x6be7d111 \\\"emmy.quaternion$parse_quaternion@6be7d111\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/parse-quaternion-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/parse-quaternion-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn from-complex\\n  \\\"Given two complex numbers `a` and `b`, returns a quaternion instance with\\n\\n  - `r` and `i` components set to the real and imaginary components of `a`\\n  - `j` and `k` components set to the real and imaginary components of `b`\\\"\\n  [a b]\\n  (make (g/real-part a)\\n        (g/imag-part a)\\n        (g/real-part b)\\n        (g/imag-part b)))\", :nextjournal/opts {:id \"emmy.quaternion/from-complex-code\", :loc {:line 659, :end-line 668, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$from_complex 0x5014cbe0 \\\"emmy.quaternion$from_complex@5014cbe0\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/from-complex-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/from-complex-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(declare scale-l)\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsxhnLhaFFEj6kLtB7XXwo1AFi9gE-code\", :loc {:line 670, :end-line 670, :column 1, :end-column 18}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$scale_l 0x7521a8fe \\\"emmy.quaternion$scale_l@7521a8fe\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsxhnLhaFFEj6kLtB7XXwo1AFi9gE-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsxhnLhaFFEj6kLtB7XXwo1AFi9gE-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn spherical\\n  \\\"Generates a [[Quaternion]] instance, given:\\n\\n  - a magnitude `r`\\n  - a rotation angle `theta`, with a natural range of `-2*pi` to `2*pi`\\n  - `colat`, the [colatitude](https://mathworld.wolfram.com/Colatitude.html) of\\n    the (non-real) vectorial part of the quaternion\\n  - `lon`, the longitude of the vectorial part of the quaternion\\\"\\n  [r theta colat lon]\\n  (let [half-t (g// theta 2)\\n        cos-ht (g/cos half-t)\\n        sin-ht (g/sin half-t)\\n        sin-co (g/sin colat)\\n        r*sin-ht (g/* r sin-ht)\\n        r*sin-ht*sin-co (g/* r*sin-ht sin-co)]\\n    (make (g/* r cos-ht)\\n          (g/* r*sin-ht*sin-co (g/cos lon))\\n          (g/* r*sin-ht*sin-co (g/sin lon))\\n          (g/* r*sin-ht (g/cos colat)))))\", :nextjournal/opts {:id \"emmy.quaternion/spherical-code\", :loc {:line 672, :end-line 690, :column 1, :end-column 42}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$spherical 0x58664567 \\\"emmy.quaternion$spherical@58664567\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/spherical-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/spherical-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn semipolar\\n  \\\"Returns a [[Quaternion]] `q` with magnitude `rho`, built such that:\\n\\n  - the magnitude of `q` equals `rho`\\n  - the magnitude `([[complex-1]] q)` equals `(* rho (cos alpha))`\\n  - the angle of `([[complex-1]] q)` equals `theta1`\\n  - The magnitude `([[complex-2]] q)` equals `(* rho (cos alpha))`\\n  - the angle of `([[complex-2]] q)` equals `theta12`\\n\\n  This strange, possibly unnecessary constructor taken from the [Boost\\n  quaternion\\n  implementation](https://www.boost.org/doc/libs/1_78_0/libs/math/doc/html/math_toolkit/create.html).\\\"\\n  [r alpha theta1 theta2]\\n  (let [r*cos-a (g/* r (g/cos alpha))\\n        r*sin-a (g/* r (g/sin alpha))]\\n    (make (g/* r*cos-a (g/cos theta1))\\n          (g/* r*cos-a (g/sin theta1))\\n          (g/* r*sin-a (g/cos theta2))\\n          (g/* r*sin-a (g/sin theta2)))))\", :nextjournal/opts {:id \"emmy.quaternion/semipolar-code\", :loc {:line 692, :end-line 710, :column 1, :end-column 42}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$semipolar 0xd5c6823 \\\"emmy.quaternion$semipolar@d5c6823\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/semipolar-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/semipolar-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn multipolar\\n  \\\"Returns a [[Quaternion]] instance with [[complex-1]] part built from the polar\\n  coordinates `r1` and `theta1` and [[complex-2]] part built from `r2` and\\n  `theta2`\\\"\\n  [r1 theta1 r2 theta2]\\n  (make (g/* r1 (g/cos theta1))\\n        (g/* r1 (g/sin theta1))\\n        (g/* r2 (g/cos theta2))\\n        (g/* r2 (g/sin theta2))))\", :nextjournal/opts {:id \"emmy.quaternion/multipolar-code\", :loc {:line 712, :end-line 720, :column 1, :end-column 34}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$multipolar 0x7b61f9a3 \\\"emmy.quaternion$multipolar@7b61f9a3\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/multipolar-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/multipolar-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn cylindrospherical\\n  \\\"Returns a [[Quaternion]] `q` with [[real-part]] equal to `t` and\\n  the [[three-vector]] part built from the spherical coordinates `r`, `colat`\\n  and `lon`.\\\"\\n  [t r theta phi]\\n  (let [r*sin-theta (g/* r (g/sin theta))]\\n    (make t\\n          (g/* r*sin-theta (g/cos phi))\\n          (g/* r*sin-theta (g/sin phi))\\n          (g/* r (g/cos theta)))))\", :nextjournal/opts {:id \"emmy.quaternion/cylindrospherical-code\", :loc {:line 722, :end-line 731, :column 1, :end-column 35}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$cylindrospherical 0x37fd869 \\\"emmy.quaternion$cylindrospherical@37fd869\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/cylindrospherical-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/cylindrospherical-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn cylindrical\\n  \\\"Returns a [[Quaternion]] `q` with [[complex-1]] built from the polar\\n  coordinates `mag` and `angle`, and `j` and `k` components equal to the\\n  supplied `j` and `k`.\\\"\\n  [mag angle j k]\\n  (make (g/* mag (g/cos angle))\\n        (g/* mag (g/sin angle))\\n        j\\n        k))\", :nextjournal/opts {:id \"emmy.quaternion/cylindrical-code\", :loc {:line 733, :end-line 741, :column 1, :end-column 12}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$cylindrical 0x69d8f81c \\\"emmy.quaternion$cylindrical@69d8f81c\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/cylindrical-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/cylindrical-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5du9zLi6YEbq7YjfE1VuQCHadC7LYs\"} [\"h2\" {:id \"quaternions-with-function-coefficients\"} [:<> \"Quaternions with Function Coefficients\"]] [:p [:<> \"These functions apply specifically to quaternions with function coefficients.\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5du9zLi6YEbq7YjfE1VuQCHadC7LYs\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn arity\\n  \\\"Given a quaternion `q` with function coefficients, returns an arity compatible\\n  with all function coefficient entries.\\n\\n  NOTE that by default, if any arities are incompatible, the function will\\n  return `[:at-least 0]`. To force strict arity checks,\\n  bind [[emmy.function/*strict-arity-checks*]] to `true`.\\\"\\n  [q]\\n  (f/seq-arity\\n   (->vector q)))\", :nextjournal/opts {:id \"emmy.quaternion/arity-code\", :loc {:line 747, :end-line 756, :column 1, :end-column 18}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$arity 0x7ab9874 \\\"emmy.quaternion$arity@7ab9874\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/arity-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/arity-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn evaluate\\n  \\\"Given a quaternion `q` with function coefficients and a sequence `args` of\\n  arguments, and returns a new [[Quaternion]] generated by replacing each\\n  coefficient with the result of applying the (functional) coefficient to\\n  `args`.\\\"\\n  [q args]\\n  (->Quaternion\\n   (apply (get-r q) args)\\n   (apply (get-i q) args)\\n   (apply (get-j q) args)\\n   (apply (get-k q) args)))\", :nextjournal/opts {:id \"emmy.quaternion/evaluate-code\", :loc {:line 758, :end-line 768, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$evaluate 0x506c1f16 \\\"emmy.quaternion$evaluate@506c1f16\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/evaluate-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/evaluate-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5dtwzBT38bduXK5ye6U6fwLwdmEaZ6\"} [:p [:<> \"NOTE: the definition for [[partial-derivative]] comes from \"] [:code [:<> \"quaternion.scm\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"in the original scmutils library. \"] [:a {:href \"http://home.ewha.ac.kr/~bulee/quaternion.pdf\"} [:<> \"This\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"pdf\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"and \"] [:a {:href \"https://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation#Differentiation_with_respect_to_the_rotation_quaternion\"} [:<> \"Wikipedia\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"seem to state that the derivative of, say, a quaternion-valued function with\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"respect to a quaternion should \"] [:em [:<> \"not\"]] [:<> \" be defined this way. If you run into\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"trouble, study these sources and please correct this issue! Or if this\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"implementation is correct, please add some exposition and delete the comment.\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5dtwzBT38bduXK5ye6U6fwLwdmEaZ6\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn partial-derivative\\n  \\\"Given a quaternion `q` with function coefficients and a possibly-empty sequence\\n  of partial derivative `selectors`, returns a new [[Quaternion]] generated by\\n  replacing each (functional) coefficient with its derivative with respect to\\n  `selectors`.\\\"\\n  [q selectors]\\n  (->Quaternion\\n   (g/partial-derivative (get-r q) selectors)\\n   (g/partial-derivative (get-i q) selectors)\\n   (g/partial-derivative (get-j q) selectors)\\n   (g/partial-derivative (get-k q) selectors)))\", :nextjournal/opts {:id \"emmy.quaternion/partial-derivative-code\", :loc {:line 779, :end-line 789, :column 1, :end-column 48}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$partial_derivative 0x73f3d5c3 \\\"emmy.quaternion$partial_derivative@73f3d5c3\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/partial-derivative-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/partial-derivative-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5droRB6nmX69EUy9ZQdEhQuPR8ue9b\"} [\"h2\" {:id \"algebra\"} [:<> \"Algebra\"]] [:p [:<> \"The next section implements quaternion arithmetic. These implementations are\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"installed into the generic arithmetic system at the bottom of the namespace.\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5droRB6nmX69EUy9ZQdEhQuPR8ue9b\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn add\\n  \\\"Variadic function that returns the sum of all supplied quaternions.\\n\\n  Given 1 argument `q`, acts as identity. Given no arguments, returns [[ZERO]],\\n  the additive identity.\\n\\n  The sum of two or more quaternions is a new quaternion with coefficients equal\\n  to the elementwise sum of the coefficients of all supplied quaternions.\\\"\\n  ([] ZERO)\\n  ([q] q)\\n  ([q1 q2]\\n   (->Quaternion\\n    (g/add (get-r q1) (get-r q2))\\n    (g/add (get-i q1) (get-i q2))\\n    (g/add (get-j q1) (get-j q2))\\n    (g/add (get-k q1) (get-k q2))))\\n  ([q1 q2 & more]\\n   (reduce add (add q1 q2) more)))\", :nextjournal/opts {:id \"emmy.quaternion/add-code\", :loc {:line 796, :end-line 813, :column 1, :end-column 35}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$add 0xe32e744 \\\"emmy.quaternion$add@e32e744\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/add-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/add-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ^:no-doc scalar+quaternion\\n  \\\"Returns the quaternion result of adding scalar `s` to the real part of\\n  quaternion `q`. Addition occurs with scalar `s` on the left.\\n\\n  See [[quaternion+scalar]] for right addition.\\\"\\n  [s q]\\n  (->Quaternion\\n   (g/add s (get-r q))\\n   (get-i q)\\n   (get-j q)\\n   (get-k q)))\", :nextjournal/opts {:id \"emmy.quaternion/scalar+quaternion-code\", :loc {:line 815, :end-line 825, :column 1, :end-column 15}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$scalar_PLUS_quaternion 0x2084f686 \\\"emmy.quaternion$scalar_PLUS_quaternion@2084f686\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/scalar+quaternion-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/scalar+quaternion-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ^:no-doc quaternion+scalar\\n  \\\"Returns the quaternion result of adding scalar `s` to the real part of\\n  quaternion `q`. Addition occurs with scalar `s` on the right.\\n\\n  See [[scalar+quaternion]] for left addition.\\\"\\n  [q s]\\n  (->Quaternion\\n   (g/add (get-r q) s)\\n   (get-i q)\\n   (get-j q)\\n   (get-k q)))\", :nextjournal/opts {:id \"emmy.quaternion/quaternion+scalar-code\", :loc {:line 827, :end-line 837, :column 1, :end-column 15}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$quaternion_PLUS_scalar 0x7bb7a2da \\\"emmy.quaternion$quaternion_PLUS_scalar@7bb7a2da\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/quaternion+scalar-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/quaternion+scalar-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn negate\\n  \\\"Returns the negation (additive inverse) of the supplied quaternion `q`.\\n\\n  The additive inverse of a quaternion is a new quaternion that, when [[add]]ed\\n  to `q`, will produce the [[ZERO]] quaternion (the additive identity).\\\"\\n  [q]\\n  (->Quaternion\\n   (g/negate (get-r q))\\n   (g/negate (get-i q))\\n   (g/negate (get-j q))\\n   (g/negate (get-k q))))\", :nextjournal/opts {:id \"emmy.quaternion/negate-code\", :loc {:line 839, :end-line 849, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$negate 0x16873da2 \\\"emmy.quaternion$negate@16873da2\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/negate-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/negate-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn sub\\n  \\\"Variadic function for subtracting quaternion arguments.\\n\\n  - Given no arguments, returns [[ZERO]], the additive identity.\\n  - Given 1 argument `q`, acts as identity.\\n  - Given 2 arguments, returns the difference of quaternions `q1` and `q2`.\\n  - Given more than 2 arguments, returns the difference of the first quaternion\\n    `q1` with the sum of all remaining arguments.\\n\\n  The difference of two quaternions is a new quaternion with coefficients equal\\n  to the pairwise difference of the coefficients of `q1` and `q2`.\\\"\\n  ([] ZERO)\\n  ([q] (negate q))\\n  ([q1 q2]\\n   (->Quaternion\\n    (g/sub (get-r q1) (get-r q2))\\n    (g/sub (get-i q1) (get-i q2))\\n    (g/sub (get-j q1) (get-j q2))\\n    (g/sub (get-k q1) (get-k q2))))\\n  ([q1 q2 & more]\\n   (sub q1 (apply add q2 more))))\", :nextjournal/opts {:id \"emmy.quaternion/sub-code\", :loc {:line 851, :end-line 871, :column 1, :end-column 34}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$sub 0xf96f0f1 \\\"emmy.quaternion$sub@f96f0f1\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/sub-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/sub-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ^:no-doc scalar-quaternion\\n  \\\"Returns the quaternion result of subtracting `s` from the real part of\\n  quaternion `q` and negating all imaginary entries.\\n\\n  See [[quaternion-scalar]] for a similar function with arguments reversed.\\\"\\n  [s q]\\n  (->Quaternion\\n   (g/sub s (get-r q))\\n   (g/negate (get-i q))\\n   (g/negate (get-j q))\\n   (g/negate (get-k q))))\", :nextjournal/opts {:id \"emmy.quaternion/scalar-quaternion-code\", :loc {:line 873, :end-line 883, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$scalar_quaternion 0x8a10743 \\\"emmy.quaternion$scalar_quaternion@8a10743\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/scalar-quaternion-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/scalar-quaternion-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ^:no-doc quaternion-scalar\\n  \\\"Returns the quaternion result of subtracting `s` from the real part of\\n  quaternion `q` and negating all imaginary entries.\\n\\n  See [[quaternion-scalar]] for a similar function with arguments reversed.\\\"\\n  [q s]\\n  (->Quaternion\\n   (g/sub (get-r q) s)\\n   (get-i q)\\n   (get-j q)\\n   (get-k q)))\", :nextjournal/opts {:id \"emmy.quaternion/quaternion-scalar-code\", :loc {:line 885, :end-line 895, :column 1, :end-column 15}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$quaternion_scalar 0x4ec6d5ff \\\"emmy.quaternion$quaternion_scalar@4ec6d5ff\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/quaternion-scalar-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/quaternion-scalar-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn mul\\n  \\\"Variadic function that returns the product of all supplied quaternions.\\n\\n  Given 1 argument `q`, acts as identity. Given no arguments, returns [[ONE]],\\n  the multiplicative identity.\\n\\n  The product of two or more quaternions is a new quaternion generated by\\n  multiplying together each quaternion of the form `(r+ai+bj+ck)`, respecting\\n  the quaternion rules:\\n\\n  i^2 == j^2 == k^2 == -1\\n  ijk == -1,\\n  ij  == k,  jk == i,  ki == j\\n  ji  == -k, kj == -i, ik == -j\\\"\\n  ([] ONE)\\n  ([q] q)\\n  ([q1 q2]\\n   (let [r1 (get-r q1) i1 (get-i q1) j1 (get-j q1) k1 (get-k q1)\\n         r2 (get-r q2) i2 (get-i q2) j2 (get-j q2) k2 (get-k q2)]\\n     (->Quaternion\\n      (g/- (g/* r1 r2) (g/+ (g/* i1 i2) (g/* j1 j2) (g/* k1 k2)))\\n      (g/+ (g/* r1 i2) (g/* i1 r2) (g/* j1 k2) (g/* -1 k1 j2))\\n      (g/+ (g/* r1 j2) (g/* -1 i1 k2) (g/* j1 r2) (g/* k1 i2))\\n      (g/+ (g/* r1 k2) (g/* i1 j2) (g/* -1 j1 i2) (g/* k1 r2)))))\\n  ([q1 q2 & more]\\n   (reduce mul (mul q1 q2) more)))\", :nextjournal/opts {:id \"emmy.quaternion/mul-code\", :loc {:line 897, :end-line 922, :column 1, :end-column 35}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$mul 0x61838ba8 \\\"emmy.quaternion$mul@61838ba8\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/mul-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/mul-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn scale-l\\n  \\\"Returns a new quaternion generated by multiplying each coefficient of the\\n  supplied quaternion `q` by the supplied scalar `s` on the left.\\\"\\n  [s q]\\n  (->Quaternion\\n   (g/* s (get-r q))\\n   (g/* s (get-i q))\\n   (g/* s (get-j q))\\n   (g/* s (get-k q))))\", :nextjournal/opts {:id \"emmy.quaternion/scale-l-code\", :loc {:line 924, :end-line 932, :column 1, :end-column 23}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$scale_l 0x7521a8fe \\\"emmy.quaternion$scale_l@7521a8fe\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/scale-l-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/scale-l-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn scale\\n  \\\"Returns a new quaternion generated by multiplying each coefficient of the\\n  supplied quaternion `q` by the supplied scalar `s` on the right.\\\"\\n  [q s]\\n  (->Quaternion\\n   (g/* (get-r q) s)\\n   (g/* (get-i q) s)\\n   (g/* (get-j q) s)\\n   (g/* (get-k q) s)))\", :nextjournal/opts {:id \"emmy.quaternion/scale-code\", :loc {:line 934, :end-line 942, :column 1, :end-column 23}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$scale 0x592afe11 \\\"emmy.quaternion$scale@592afe11\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/scale-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/scale-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn conjugate\\n  \\\"Returns the conjugate of the supplied quaternion `q`.\\n\\n  The conjugate of a quaternion is a new quaternion with real coefficient equal\\n  to that of `q` and each imaginary coefficient negated. `(mul q (conjugate q))`\\n  will return a [[real?]] quaternion.\\\"\\n  [q]\\n  (->Quaternion\\n   (get-r q)\\n   (g/negate (get-i q))\\n   (g/negate (get-j q))\\n   (g/negate (get-k q))))\", :nextjournal/opts {:id \"emmy.quaternion/conjugate-code\", :loc {:line 944, :end-line 955, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$conjugate 0x59b17168 \\\"emmy.quaternion$conjugate@59b17168\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/conjugate-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/conjugate-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn q-div-scalar\\n  \\\"Returns a new quaternion generated by dividing each coefficient of the supplied\\n  quaternion `q` by the supplied scalar `s`.\\\"\\n  [q s]\\n  (->Quaternion\\n   (g// (get-r q) s)\\n   (g// (get-i q) s)\\n   (g// (get-j q) s)\\n   (g// (get-k q) s)))\", :nextjournal/opts {:id \"emmy.quaternion/q-div-scalar-code\", :loc {:line 957, :end-line 965, :column 1, :end-column 23}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$q_div_scalar 0x21203e8c \\\"emmy.quaternion$q_div_scalar@21203e8c\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/q-div-scalar-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/q-div-scalar-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn dot-product\\n  \\\"Returns the quaternion dot product of the supplied quaternions `l` and `r`.\\n\\n  The quaternion dot product is the sum of the products of the corresponding\\n  coefficients of each quaternion, equal to\\n\\n  $$r_l * r_r + i_l * i_r + j_l * j_r + k_l * k_r$$\\\"\\n  [l r]\\n  (let [[lr li lj lk] l\\n        [rr ri rj rk] r]\\n    (g/+ (g/* lr rr)\\n         (g/* li ri)\\n         (g/* lj rj)\\n         (g/* lk rk))))\", :nextjournal/opts {:id \"emmy.quaternion/dot-product-code\", :loc {:line 967, :end-line 980, :column 1, :end-column 24}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$dot_product 0x5c033fcb \\\"emmy.quaternion$dot_product@5c033fcb\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/dot-product-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/dot-product-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn cross-product\\n  \\\"Returns a quaternion representing the (vector) cross product of the two pure\\n  sides (retrieved via [[three-vector]]) of the supplied quaternions `l` and\\n  `r`.\\n\\n  NOTE that the suggestion for this function comes from this [C++ quaternion\\n  library](https://github.com/ferd36/quaternions/blob/master/include/quaternion.h#L1109).\\n  Strictly, this is not the 'cross product of two quaternions'.\\\"\\n  [l r]\\n  (make 0 (ss/cross-product\\n           (three-vector l)\\n           (three-vector r))))\", :nextjournal/opts {:id \"emmy.quaternion/cross-product-code\", :loc {:line 982, :end-line 993, :column 1, :end-column 31}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$cross_product 0x52d7982c \\\"emmy.quaternion$cross_product@52d7982c\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/cross-product-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/cross-product-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn invert\\n  \\\"Returns the multiplicative inverse of the supplied quaternion `q`.\\n\\n  The inverse of a quaternion is a new quaternion that, when [[mul]]tiplied by\\n  `q`, will produce the [[ONE]] quaternion (the multiplicative identity).\\\"\\n  [q]\\n  (q-div-scalar\\n   (conjugate q)\\n   (magnitude-sq q)))\", :nextjournal/opts {:id \"emmy.quaternion/invert-code\", :loc {:line 995, :end-line 1003, :column 1, :end-column 22}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$invert 0x3f992f \\\"emmy.quaternion$invert@3f992f\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/invert-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/invert-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn div\\n  \\\"Variadic function for dividing quaternion arguments.\\n\\n  - Given no arguments, returns [[ONE]], the multiplicative identity.\\n  - Given 1 argument `q`, acts as identity.\\n  - Given 2 arguments, returns the quotient of quaternions `q1` and `q2`.\\n  - Given more than 2 arguments, returns the quotient of the first quaternion\\n    `q1` with the product of all remaining arguments.\\n\\n  The quotient of two quaternions is a new quaternion equal to the product of\\n  `q1` and the multiplicative inverse of `q2`\\\"\\n  ([] ONE)\\n  ([q] (invert q))\\n  ([q1 q2]\\n   (mul q1 (invert q2)))\\n  ([q1 q2 & more]\\n   (div q1 (apply mul q2 more))))\", :nextjournal/opts {:id \"emmy.quaternion/div-code\", :loc {:line 1005, :end-line 1021, :column 1, :end-column 34}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$div 0x204b03fa \\\"emmy.quaternion$div@204b03fa\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/div-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/div-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn magnitude-sq\\n  \\\"Returns the square of the [[magnitude]] of the supplied quaternion `q`,\\n  equivalent to taking the [[dot-product]] of `q` with itself.\\\"\\n  [q]\\n  (g/+ (g/square (get-r q))\\n       (g/square (get-i q))\\n       (g/square (get-j q))\\n       (g/square (get-k q))))\", :nextjournal/opts {:id \"emmy.quaternion/magnitude-sq-code\", :loc {:line 1023, :end-line 1030, :column 1, :end-column 30}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$magnitude_sq 0x5411f1c0 \\\"emmy.quaternion$magnitude_sq@5411f1c0\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/magnitude-sq-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/magnitude-sq-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn magnitude\\n  \\\"Returns the norm of the supplied quaternion `q`.\\n\\n  The norm of a quaternion is the square root of the sum of the squares of the\\n  quaternion's coefficients.\\\"\\n  [q]\\n  (g/sqrt\\n   (magnitude-sq q)))\", :nextjournal/opts {:id \"emmy.quaternion/magnitude-code\", :loc {:line 1032, :end-line 1039, :column 1, :end-column 22}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$magnitude 0x65f39d5f \\\"emmy.quaternion$magnitude@65f39d5f\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/magnitude-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/magnitude-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn normalize\\n  \\\"Returns a new quaternion generated by dividing each coefficient of the supplied\\n  quaternion `q` by the [[magnitude]] of `q`. (If the [[magnitude]]\\n  is [[zero?]], returns the zero quaternion `q`.)\\n\\n  The returned quaternion will have [[magnitude]] (approximately) equal to\\n  1. [[unit?]] will return true for a [[normalize]]d quaternion, though you may\\n  need to supply an `:epsilon`.\\\"\\n  [q]\\n  (if (zero? q)\\n    q\\n    (q-div-scalar q (magnitude q))))\", :nextjournal/opts {:id \"emmy.quaternion/normalize-code\", :loc {:line 1041, :end-line 1052, :column 1, :end-column 37}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$normalize 0xb0b7f35 \\\"emmy.quaternion$normalize@b0b7f35\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/normalize-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/normalize-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn commutator\\n  \\\"Returns the commutator of the supplied quaternions `l` and `r`.\\n\\n  The commutator of two quaternions is equal to\\n\\n  ```clj\\n  (- (* l r) (* r l))\\n  ```\\\"\\n  [l r]\\n  (sub\\n   (mul l r)\\n   (mul r l)))\", :nextjournal/opts {:id \"emmy.quaternion/commutator-code\", :loc {:line 1054, :end-line 1065, :column 1, :end-column 15}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$commutator 0x7781799a \\\"emmy.quaternion$commutator@7781799a\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/commutator-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/commutator-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5dtCipb1M34xwXR5LMcuPXmnyEgThr\"} [\"h2\" {:id \"transcendental-functions\"} [:<> \"Transcendental Functions\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5dtCipb1M34xwXR5LMcuPXmnyEgThr\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn log\\n  \\\"Returns the logarithm $\\\\\\\\ln q$ of the supplied quaternion `q`.\\n\\n  Given a quaternion $q$ with real part $r$ and non-real vector $\\\\\\\\vec{v}$, the\\n  logarithm [is computed\\n  as](https://en.wikipedia.org/wiki/Quaternion#Exponential,_logarithm,_and_power_functions)\\n\\n  $$\\n  \\\\\\\\ln(q) = \\\\\\\\ln \\\\\\\\|q\\\\\\\\| + \\\\\\\\frac{\\\\\\\\mathbf{v}}{\\\\\\\\|\\\\\\\\mathbf{v}\\\\\\\\|} \\\\\\\\\\n  \\\\\\\\arccos \\\\\\\\frac{r}{\\\\\\\\|\\\\\\\\q\\\\\\\\|}\\n  $$\\\"\\n  [q]\\n  (let [[r i j k] q]\\n    (if (and (v/zero? j)\\n             (v/zero? k))\\n      (if (v/zero? i)\\n        (make (g/log r))\\n        (make (g/log (g/abs [r i]))\\n              (g/atan i r)\\n              0 0))\\n      (let [q-mag (magnitude q)\\n            v     (three-vector q)\\n            v-mag (g/abs v)]\\n        (make (g/log q-mag)\\n              (g/mul (g/acos (g/div r q-mag))\\n                     (g/div v v-mag)))))))\", :nextjournal/opts {:id \"emmy.quaternion/log-code\", :loc {:line 1069, :end-line 1094, :column 1, :end-column 43}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$log 0xfade043 \\\"emmy.quaternion$log@fade043\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/log-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/log-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn exp\\n  \\\"Returns the exponential $e^q$ of the supplied quaternion `q`.\\n\\n  Given a quaternion $q$ with real part $r$ and non-real vector $\\\\\\\\vec{v}$, the\\n  exponential [is computed\\n  as](https://en.wikipedia.org/wiki/Quaternion#Exponential,_logarithm,_and_power_functions)\\n\\n  $$\\n  \\\\\\\\exp(q) = e^r \\\\\\\\left(\\\\\\\\cos \\\\\\\\|\\\\\\\\mathbf{v}\\\\\\\\| \\\\\\\\\\n  + \\\\\\\\frac{\\\\\\\\mathbf{v}}{\\\\\\\\|\\\\\\\\mathbf{v}\\\\\\\\|} \\\\\\\\sin\\\\\\\\|\\\\\\\\mathbf{v}\\\\\\\\| \\\\\\\\right)\\n  $$\\\"\\n  [q]\\n  (let [r     (real-part q)\\n        exp-r (g/exp r)\\n        v     (three-vector q)\\n        v-mag (g/abs v)]\\n    (if (v/zero? v-mag)\\n      (make exp-r 0 0 0)\\n      (make (g/* exp-r (g/cos v-mag))\\n            (g/* exp-r (g/sinc v-mag) v)))))\", :nextjournal/opts {:id \"emmy.quaternion/exp-code\", :loc {:line 1096, :end-line 1115, :column 1, :end-column 45}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$exp 0x764d8d8c \\\"emmy.quaternion$exp@764d8d8c\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/exp-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/exp-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn cos\\n  \\\"Returns the cosine of the supplied quaternion `q`.\\n\\n  See the [Boost\\n  documentation](https://www.boost.org/doc/libs/1_78_0/libs/math/doc/html/math_toolkit/trans.html)\\n  and [source](https://www.boost.org/doc/libs/1_78_0/boost/math/quaternion.hpp)\\n  for a reference implementation.\\\"\\n  [q]\\n  (let [r     (real-part q)\\n        v     (three-vector q)\\n        v-mag (g/abs v)]\\n    (make (g/* (g/cos r) (g/cosh v-mag))\\n          (g/* (g/* (g/- (g/sin r))\\n                    (g/sinhc v-mag))\\n               v))))\", :nextjournal/opts {:id \"emmy.quaternion/cos-code\", :loc {:line 1117, :end-line 1131, :column 1, :end-column 21}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$cos 0x266fa6a7 \\\"emmy.quaternion$cos@266fa6a7\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/cos-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/cos-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn sin\\n  \\\"Returns the sine of the supplied quaternion `q`.\\n\\n  See the [Boost\\n  documentation](https://www.boost.org/doc/libs/1_78_0/libs/math/doc/html/math_toolkit/trans.html)\\n  and [source](https://www.boost.org/doc/libs/1_78_0/boost/math/quaternion.hpp)\\n  for a reference implementation.\\\"\\n  [q]\\n  (let [r     (real-part q)\\n        v     (three-vector q)\\n        v-mag (g/abs v)]\\n    (make (g/* (g/sin r) (g/cosh v-mag))\\n          (g/* (g/* (g/cos r)\\n                    (g/sinhc v-mag))\\n               v))))\", :nextjournal/opts {:id \"emmy.quaternion/sin-code\", :loc {:line 1133, :end-line 1147, :column 1, :end-column 21}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$sin 0x5ade5659 \\\"emmy.quaternion$sin@5ade5659\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/sin-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/sin-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn tan\\n  \\\"Returns the tangent of the supplied quaternion `q`.\\n\\n  [[tan]] is defined as `(/ (sin q) (cos q))`.\\\"\\n  [q]\\n  (div (sin q) (cos q)))\", :nextjournal/opts {:id \"emmy.quaternion/tan-code\", :loc {:line 1149, :end-line 1154, :column 1, :end-column 25}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$tan 0x3a910ab9 \\\"emmy.quaternion$tan@3a910ab9\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/tan-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/tan-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn cosh\\n  \\\"Returns the hyperbolic cosine of the supplied quaternion `q`.\\n\\n  [[cosh]] is defined in terms of the [[exp]] function as `(e^q + e^{-q}) / 2`.\\\"\\n  [q]\\n  (-> (add (exp q) (exp (negate q)))\\n      (q-div-scalar 2)))\", :nextjournal/opts {:id \"emmy.quaternion/cosh-code\", :loc {:line 1156, :end-line 1162, :column 1, :end-column 25}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$cosh 0x20aad18a \\\"emmy.quaternion$cosh@20aad18a\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/cosh-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/cosh-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn sinh\\n  \\\"Returns the hyperbolic sine of the supplied quaternion `q`.\\n\\n  [[sinh]] is defined in terms of the [[exp]] function as `(e^q - e^{-q}) / 2`.\\\"\\n  [q]\\n  (-> (sub (exp q) (exp (negate q)))\\n      (q-div-scalar 2)))\", :nextjournal/opts {:id \"emmy.quaternion/sinh-code\", :loc {:line 1164, :end-line 1170, :column 1, :end-column 25}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$sinh 0x7b2b01a6 \\\"emmy.quaternion$sinh@7b2b01a6\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/sinh-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/sinh-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn tanh\\n  \\\"Returns the hyperbolic tangent of the supplied quaternion `q`.\\n\\n  [[tan]] is defined as `(/ (sinh q) (cosh q))`.\\\"\\n  [q]\\n  (div (sinh q) (cosh q)))\", :nextjournal/opts {:id \"emmy.quaternion/tanh-code\", :loc {:line 1172, :end-line 1177, :column 1, :end-column 27}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$tanh 0x53effc04 \\\"emmy.quaternion$tanh@53effc04\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/tanh-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/tanh-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn expt\\n  \\\"Returns the result of raising quaternion `q` to the real, complex or quaternion\\n  power `p`.\\\"\\n  [q p]\\n  (if (v/native-integral? p)\\n    (g/default-expt q p)\\n    (exp\\n     (if (quaternion? p)\\n       (mul (log q) p)\\n       (scale (log q) p)))))\", :nextjournal/opts {:id \"emmy.quaternion/expt-code\", :loc {:line 1179, :end-line 1188, :column 1, :end-column 29}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$expt 0x6119e002 \\\"emmy.quaternion$expt@6119e002\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/expt-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/expt-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn sqrt\\n  \\\"Returns the square root of the supplied quaternion `q`.\\n\\n  `([[sqrt]] q)` is identical to, but more efficient than, raising `q` to the\\n  1/2 power.\\n\\n  Thanks to the [Spire\\n  library](https://github.com/typelevel/spire/blob/82f607714f94ba1c70b13fd4751063dfdcd155f5/core/src/main/scala/spire/math/Quaternion.scala#L217)\\n  for the correct implementation used here.\\\"\\n  [q]\\n  (let [r (get-r q)]\\n    (if (real? q)\\n      (if (g/negative? r)\\n        (make 0 (g/sqrt (g/abs r)) 0 0)\\n        (make (g/sqrt r) 0 0 0))\\n      (let [n   (g/sqrt (g/+ r (magnitude q)))\\n            rt2 (g/sqrt 2)]\\n        (make (g// n rt2)\\n              (g// (three-vector q)\\n                   (g/* n rt2)))))))\", :nextjournal/opts {:id \"emmy.quaternion/sqrt-code\", :loc {:line 1190, :end-line 1209, :column 1, :end-column 37}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$sqrt 0x17c95b2a \\\"emmy.quaternion$sqrt@17c95b2a\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/sqrt-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/sqrt-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5dt1MpfZ7gRduyTc9onWSojvUioB3Y\"} [\"h2\" {:id \"quaternions-and-3d-rotations\"} [:<> \"Quaternions and 3D rotations\"]] [:p [:<> \"The story of quaternions, from their discovery to their modern day usage, is\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"tightly connected to their \"] [:a {:href \"https://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation\"} [:<> \"utility in describing rotations in 3-dimensional\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"space\"]] [:<> \".\"]] [:p [:<> \"The following section provides a number of utilities for building quaternions\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"that represent rotations, and moving quaternions and other representations of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"rotations in 3d and 4d space.\"]] [\"h3\" {:id \"conversion-to/from-angle-axis\"} [:<> \"Conversion to/from Angle-Axis\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5dt1MpfZ7gRduyTc9onWSojvUioB3Y\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn from-angle-normal-axis\\n  \\\"Returns a [[Quaternion]] that represents a rotation of `angle` radians around\\n  the unit (normalized) vector described by the second argument, a 3-vector with\\n  components `x`, `y` and `z`.\\n\\n  The second argument represents an axis of rotation.\\n\\n  NOTE: If you have an UN-normalized axis, prefer [[from-angle-axis]].\\\"\\n  [angle [x y z]]\\n  (let [half-angle (g/div angle 2)\\n        half-sine  (g/sin half-angle)]\\n    (->Quaternion (g/cos half-angle)\\n                  (g/* half-sine x)\\n                  (g/* half-sine y)\\n                  (g/* half-sine z))))\", :nextjournal/opts {:id \"emmy.quaternion/from-angle-normal-axis-code\", :loc {:line 1224, :end-line 1238, :column 1, :end-column 39}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$from_angle_normal_axis 0x34cc4e44 \\\"emmy.quaternion$from_angle_normal_axis@34cc4e44\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/from-angle-normal-axis-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/from-angle-normal-axis-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn from-angle-axis\\n  \\\"Returns a [[Quaternion]] that represents a rotation of `angle` radians around a\\n  normalized version of the vector described by `axis`. `axis` must be a\\n  3-vector with components `x`, `y` and `z`.\\n\\n  Given an `axis` with numeric entries, [[from-angle-axis]] will explicitly\\n  normalize `axis` before calling [[from-angle-normal-axis]]. If any entries are\\n  non-numerical (i.e., symbolic), [[from-angle-axis]] will instead log an\\n  assumption that the magnitude of `axis` == 1 and proceed.\\n\\n  NOTE: If you have an already-normalized axis,\\n  prefer [[from-angle-normal-axis]].\\\"\\n  [angle axis]\\n  (if (every? v/number? axis)\\n    (let [v-mag  (g/abs axis)\\n          normal (g/div axis v-mag)]\\n      (from-angle-normal-axis angle normal))\\n    (let [vv (g/simplify\\n              (ss/vector-dot-product axis axis))]\\n      (and (ul/assume! (list '= vv 1) 'from-angle-axis)\\n           (from-angle-normal-axis angle axis)))))\", :nextjournal/opts {:id \"emmy.quaternion/from-angle-axis-code\", :loc {:line 1240, :end-line 1260, :column 1, :end-column 51}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$from_angle_axis 0x186f9b05 \\\"emmy.quaternion$from_angle_axis@186f9b05\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/from-angle-axis-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/from-angle-axis-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn pitch\\n  \\\"Create a quaternion representing a pitch rotation by the supplied\\n  `angle` (specified in radians).\\\"\\n  [angle]\\n  (from-angle-normal-axis angle [1 0 0]))\", :nextjournal/opts {:id \"emmy.quaternion/pitch-code\", :loc {:line 1262, :end-line 1266, :column 1, :end-column 42}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$pitch 0x365861fa \\\"emmy.quaternion$pitch@365861fa\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/pitch-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/pitch-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn yaw\\n  \\\"Create a quaternion representing a yaw rotation by the supplied\\n  `angle` (specified in radians).\\\"\\n  [angle]\\n  (from-angle-normal-axis angle [0 1 0]))\", :nextjournal/opts {:id \"emmy.quaternion/yaw-code\", :loc {:line 1268, :end-line 1272, :column 1, :end-column 42}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$yaw 0x6b156c10 \\\"emmy.quaternion$yaw@6b156c10\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/yaw-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/yaw-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn roll\\n  \\\"Create a quaternion representing a roll rotation by the supplied\\n  `angle` (specified in radians).\\\"\\n  [angle]\\n  (from-angle-normal-axis angle [0 0 1]))\", :nextjournal/opts {:id \"emmy.quaternion/roll-code\", :loc {:line 1274, :end-line 1278, :column 1, :end-column 42}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$roll 0x3dfda158 \\\"emmy.quaternion$roll@3dfda158\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/roll-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/roll-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:dynamic *angle-axis-tolerance*\\n  \\\"Tolerance setting for [[->angle-axis]].\\\"\\n  1e-8)\", :nextjournal/opts {:id \"emmy.quaternion/*angle-axis-tolerance*-code\", :loc {:line 1280, :end-line 1282, :column 1, :end-column 8}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value 1.0E-8, :nextjournal/opts {:id \"emmy.quaternion/*angle-axis-tolerance*-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}, :nextjournal/blob-id \"5dsRHDULPakrQ66bHhbhGD7RfC9wSc\"}, :nextjournal/opts {:id \"emmy.quaternion/*angle-axis-tolerance*-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ->angle-axis\\n  \\\"Given a unit quaternion `q` [representing a spatial\\n  rotation](https://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation) (sometimes\\n  called a 'versor'), returns a pair of\\n\\n  - `theta`, the rotation in radians about the rotation axis\\n  - `axis`, a 3-element unit vector with elements `x`, `y` and `z` representing\\n    an axis of rotation in 3d Euclidean space.\\n\\n  If the unit quaternion `q` represents NO rotation, the axis is undefined; this\\n  manifests as the squared norm of the non-real vector part of `q` sitting\\n  within [[*angle-axis-tolerance*]] of 0.\\n\\n  In this case, the conversion is degenerate and [[->angle-axis]] returns the\\n  pair [0 [1 0 0]] as a default. (This check only occurs with a quaternion with\\n  all numeric elements in the non-real positions.)\\\"\\n  [q]\\n  {:pre [(quaternion? q)]}\\n  (let [v  (three-vector q)\\n        vv (ss/vector-dot-product v v)]\\n    (if (and (every? v/number? v)\\n             ((v/within *angle-axis-tolerance*) 0.0 vv))\\n      [0 [1 0 0]]\\n      (let [v-mag (g/sqrt vv)\\n            theta (g/mul 2 (g/atan v-mag (real-part q)))\\n            axis (g/div v v-mag)]\\n        [theta axis]))))\", :nextjournal/opts {:id \"emmy.quaternion/->angle-axis-code\", :loc {:line 1284, :end-line 1310, :column 1, :end-column 25}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$__GT_angle_axis 0x59aeb251 \\\"emmy.quaternion$__GT_angle_axis@59aeb251\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/->angle-axis-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/->angle-axis-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5dtzpa8Wc6jfhFTQ1JVgDjsKYwVTii\"} [\"h2\" {:id \"quaternion-/-matrix-relationships\"} [:<> \"Quaternion / Matrix Relationships\"]] [\"h3\" {:id \"complex-2x2\"} [:<> \"Complex 2x2\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5dtzpa8Wc6jfhFTQ1JVgDjsKYwVTii\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn from-complex-matrix\\n  \\\"Given a 2x2 complex matrix `M` of the form\\n\\n  ```\\n  [ a + b i,  c + d i]\\n  [ -c + d i, a - b i]\\n  ```\\n\\n  Returns a [[Quaternion]] instance with coefficients `[a b c d]`.\\\"\\n  [M]\\n  (let [[[a+bi c+di]] (m/matrix->vector M)]\\n    (->Quaternion\\n     (g/real-part a+bi)\\n     (g/imag-part a+bi)\\n     (g/real-part c+di)\\n     (g/imag-part c+di))))\", :nextjournal/opts {:id \"emmy.quaternion/from-complex-matrix-code\", :loc {:line 1316, :end-line 1331, :column 1, :end-column 27}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$from_complex_matrix 0x2c8c5f2f \\\"emmy.quaternion$from_complex_matrix@2c8c5f2f\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/from-complex-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/from-complex-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ->complex-matrix\\n  \\\"Returns a 2x2 complex matrix representation of the supplied Quaternion `q`.\\n\\n  For a quaternion with coefficients `[a b c d]`, the returned matrix will have\\n  the following form:\\n\\n  ```\\n  [ a + b i,  c + d i]\\n  [ -c + d i, a - b i]\\n  ```\\n\\n  NOTE that this currently only works for quaternions `q` with real or symbolic\\n  entries.\\\"\\n  [q]\\n  (let [[r i j k] q]\\n    (m/by-rows\\n     [(g/make-rectangular r i)\\n      (g/make-rectangular j k)]\\n     [(g/make-rectangular (g/negate j) k)\\n      (g/make-rectangular r (g/negate i))])))\", :nextjournal/opts {:id \"emmy.quaternion/->complex-matrix-code\", :loc {:line 1333, :end-line 1352, :column 1, :end-column 46}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$__GT_complex_matrix 0x6cb9c342 \\\"emmy.quaternion$__GT_complex_matrix@6cb9c342\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/->complex-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/->complex-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5drauc2T1VxWkKUXY7S5ArztZ2jWV8\"} [\"h3\" {:id \"real-4x4-matrices\"} [:<> \"Real 4x4 matrices\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5drauc2T1VxWkKUXY7S5ArztZ2jWV8\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(def ONE-matrix\\n  \\\"4x4 matrix representation of the quaternion [[ONE]].\\\"\\n  (m/by-rows\\n   [1 0 0 0]\\n   [0 1 0 0]\\n   [0 0 1 0]\\n   [0 0 0 1]))\", :nextjournal/opts {:id \"emmy.quaternion/ONE-matrix-code\", :loc {:line 1356, :end-line 1362, :column 1, :end-column 15}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 2], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 3], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\" \")\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}}], :nextjournal/opts {:id \"emmy.quaternion/ONE-matrix-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}, :nextjournal/blob-id \"5dtxD9y4HvRQpGv3rE6JMaupF9rSCn\"}, :nextjournal/opts {:id \"emmy.quaternion/ONE-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def I-matrix\\n  \\\"4x4 matrix representation of the quaternion [[I]].\\\"\\n  (m/by-rows\\n   [0 1 0 0]\\n   [-1 0 0 0]\\n   [0 0 0 -1]\\n   [0 0 1 0]))\", :nextjournal/opts {:id \"emmy.quaternion/I-matrix-code\", :loc {:line 1364, :end-line 1370, :column 1, :end-column 15}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value -1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 3], :nextjournal/value -1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 2], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\" \")\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}}], :nextjournal/opts {:id \"emmy.quaternion/I-matrix-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}, :nextjournal/blob-id \"5dtxsAWZrFi2Pd6B1QVrFBmy7rq6wh\"}, :nextjournal/opts {:id \"emmy.quaternion/I-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def J-matrix\\n  \\\"4x4 matrix representation of the quaternion [[J]].\\\"\\n  (m/by-rows\\n   [0 0 1 0]\\n   [0 0 0 1]\\n   [-1 0 0 0]\\n   [0 -1 0 0]))\", :nextjournal/opts {:id \"emmy.quaternion/J-matrix-code\", :loc {:line 1372, :end-line 1378, :column 1, :end-column 16}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 2], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 3], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value -1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 1], :nextjournal/value -1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\" \")\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}}], :nextjournal/opts {:id \"emmy.quaternion/J-matrix-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}, :nextjournal/blob-id \"5dtAZrkhr1fdH4tJJXkWwoJ2JBtFAa\"}, :nextjournal/opts {:id \"emmy.quaternion/J-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def K-matrix\\n  \\\"4x4 matrix representation of the quaternion [[K]].\\\"\\n  (m/by-rows\\n   [0 0 0 1]\\n   [0 0 -1 0]\\n   [0 1 0 0]\\n   [-1 0 0 0]))\", :nextjournal/opts {:id \"emmy.quaternion/K-matrix-code\", :loc {:line 1380, :end-line 1386, :column 1, :end-column 16}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 3], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 2], :nextjournal/value -1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value -1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\" \")\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}}], :nextjournal/opts {:id \"emmy.quaternion/K-matrix-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}, :nextjournal/blob-id \"5dsssdxztsCXTj5sp9ZR8esomCURxe\"}, :nextjournal/opts {:id \"emmy.quaternion/K-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn from-4x4-matrix\\n  \\\"Given a 4x4 matrix representation of a quaternion, returns the associated\\n  quaternion by extracting the first row.\\\"\\n  [four-matrix]\\n  (make\\n   (nth four-matrix 0)))\", :nextjournal/opts {:id \"emmy.quaternion/from-4x4-matrix-code\", :loc {:line 1388, :end-line 1393, :column 1, :end-column 25}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$from_4x4_matrix 0x3c1e58ec \\\"emmy.quaternion$from_4x4_matrix@3c1e58ec\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/from-4x4-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/from-4x4-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ->4x4-matrix\\n  \\\"Returns the 4x4 matrix representation of the supplied [[Quaternion]] `q`.\\\"\\n  [q]\\n  (g/+ (g/* (get-r q) ONE-matrix)\\n       (g/* (get-i q) I-matrix)\\n       (g/* (get-j q) J-matrix)\\n       (g/* (get-k q) K-matrix)))\", :nextjournal/opts {:id \"emmy.quaternion/->4x4-matrix-code\", :loc {:line 1395, :end-line 1401, :column 1, :end-column 34}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$__GT_4x4_matrix 0x100e5904 \\\"emmy.quaternion$__GT_4x4_matrix@100e5904\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/->4x4-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/->4x4-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5dtCEzXK5tC1uTmbEmNbGRpWpbMTBr\"} [\"h3\" {:id \"tensor-representations-of-quaternions\"} [:<> \"Tensor Representations of Quaternions\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5dtCEzXK5tC1uTmbEmNbGRpWpbMTBr\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(def ONE-tensor\\n  \\\"4x4 down-up tensor representation of the quaternion [[ONE]].\\\"\\n  (m/->structure ONE-matrix))\", :nextjournal/opts {:id \"emmy.quaternion/ONE-tensor-code\", :loc {:line 1405, :end-line 1407, :column 1, :end-column 30}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 2], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 3], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\" \")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}], :nextjournal/opts {:id \"emmy.quaternion/ONE-tensor-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}, :nextjournal/blob-id \"5dtruigYvgqCH96PYskbv9D6Cy1sE7\"}, :nextjournal/opts {:id \"emmy.quaternion/ONE-tensor-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def I-tensor\\n  \\\"4x4 down-up tensor representation of the quaternion [[I]].\\\"\\n  (m/->structure I-matrix))\", :nextjournal/opts {:id \"emmy.quaternion/I-tensor-code\", :loc {:line 1409, :end-line 1411, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 1], :nextjournal/value -1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 3], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 2], :nextjournal/value -1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\" \")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}], :nextjournal/opts {:id \"emmy.quaternion/I-tensor-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}, :nextjournal/blob-id \"5dtWxKcknVMaonedmAfn5XPkyUC2z6\"}, :nextjournal/opts {:id \"emmy.quaternion/I-tensor-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def J-tensor\\n  \\\"4x4 down-up tensor representation of the quaternion [[J]].\\\"\\n  (m/->structure J-matrix))\", :nextjournal/opts {:id \"emmy.quaternion/J-tensor-code\", :loc {:line 1413, :end-line 1415, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 2], :nextjournal/value -1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 3], :nextjournal/value -1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 1], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\" \")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}], :nextjournal/opts {:id \"emmy.quaternion/J-tensor-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}, :nextjournal/blob-id \"5dtrrgnFtueJXMSJHcp24ffBquZbkP\"}, :nextjournal/opts {:id \"emmy.quaternion/J-tensor-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def K-tensor\\n  \\\"4x4 down-up tensor representation of the quaternion [[K]].\\\"\\n  (m/->structure K-matrix))\", :nextjournal/opts {:id \"emmy.quaternion/K-tensor-code\", :loc {:line 1417, :end-line 1419, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [0 3], :nextjournal/value -1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 2], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [1 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 1], :nextjournal/value -1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [2 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value 1, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 1], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 2], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}} {:path [3 3], :nextjournal/value 0, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}], :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :closing-paren (\")\" \")\"), :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}], :nextjournal/opts {:id \"emmy.quaternion/K-tensor-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"(\", :page-size 20, :hash \"5drCaZg3GZ5pGiaCNpMq9dEBvceFbm\"}}, :nextjournal/blob-id \"5drMw8PSKXprkmkoy2k4DZWsS49g2D\"}, :nextjournal/opts {:id \"emmy.quaternion/K-tensor-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5dsvYYW4KSKeRCjbBt5h2X8keAGDSH\"} [\"h3\" {:id \"3x3-rotation-matrix-representations\"} [:<> \"3x3 Rotation Matrix Representations\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5dsvYYW4KSKeRCjbBt5h2X8keAGDSH\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(def ^:private quarter (g// 1 4))\", :nextjournal/opts {:id \"emmy.quaternion/quarter-code\", :loc {:line 1423, :end-line 1423, :column 1, :end-column 34}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"1/4\", :nextjournal/opts {:id \"emmy.quaternion/quarter-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash \"5dr5kWRtr7mCj9ikbmX2S4HCkE4Xxt\"}}, :nextjournal/blob-id \"5drY884qvv5jgd3irqC5D1C89U1A77\"}, :nextjournal/opts {:id \"emmy.quaternion/quarter-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn from-rotation-matrix\\n  \\\"Given an orthogonal 3x3 matrix M representing a rotation in 3-space, returns\\n  the unit quaternion that corresponds to the same transformation.\\n\\n  GJS notes in scmutils that this algorithm is the 'expanded Matt Mason method'.\\n\\n  NOTE Orthogonal means, no stretching allowed, only rotation!\\n\\n  NOTE this routine uses non-generic [[clojure.core/>=]]\\n  and [[clojure.core/max]] internally, so if you use numeric entries (or if your\\n  entries simplify down to numbers), make sure that they work with these native\\n  operations. No `BigInt` in ClojureScript for now, for example.\\\"\\n  [M]\\n  (let [[[r11 r12 r13] [r21 r22 r23] [r31 r32 r33]] M\\n        q0-2 (g/* quarter (g/+ 1 r11 r22 r33))\\n        q1-2 (g/* quarter (g/+ 1 r11 (g/- r22) (g/- r33)))\\n        q2-2 (g/* quarter (g/+ 1 (g/- r11) r22 (g/- r33)))\\n        q3-2 (g/* quarter (g/+ 1 (g/- r11) (g/- r22) r33))\\n\\n        q0q1 (g/* quarter (g/- r32 r23))\\n        q0q2 (g/* quarter (g/- r13 r31))\\n        q0q3 (g/* quarter (g/- r21 r12))\\n        q1q2 (g/* quarter (g/+ r12 r21))\\n        q1q3 (g/* quarter (g/+ r13 r31))\\n        q2q3 (g/* quarter (g/+ r23 r32))\\n\\n        q0-2s (g/simplify q0-2)\\n        q1-2s (g/simplify q1-2)\\n        q2-2s (g/simplify q2-2)\\n        q3-2s (g/simplify q3-2)]\\n    (cond (and (v/number? q0-2s) (v/number? q1-2s)\\n               (v/number? q2-2s) (v/number? q3-2s))\\n          (cond (>= q0-2s (max q1-2s q2-2s q3-2s))\\n                (let [q0 (g/sqrt q0-2s)\\n                      q1 (g// q0q1 q0)\\n                      q2 (g// q0q2 q0)\\n                      q3 (g// q0q3 q0)]\\n                  (make q0 q1 q2 q3))\\n\\n                (>= q1-2s (max q0-2s q2-2s q3-2s))\\n                (let [q1 (g/sqrt q1-2s)\\n                      q0 (g// q0q1 q1)\\n                      q2 (g// q1q2 q1)\\n                      q3 (g// q1q3 q1)]\\n                  (make q0 q1 q2 q3))\\n\\n                (>= q2-2s (max q0-2s q1-2s q3-2s))\\n                (let [q2 (g/sqrt q2-2s)\\n                      q0 (g// q0q2 q2)\\n                      q1 (g// q1q2 q2)\\n                      q3 (g// q2q3 q2)]\\n                  (make q0 q1 q2 q3))\\n\\n                :else\\n                (let [q3 (g/sqrt q3-2s)\\n                      q0 (g// q0q3 q3)\\n                      q1 (g// q1q3 q3)\\n                      q2 (g// q2q3 q3)]\\n                  (make q0 q1 q2 q3)))\\n\\n          (not (v/numeric-zero? q0-2s))\\n          (let [q0 (g/sqrt q0-2)\\n                q1 (g// q0q1 q0)\\n                q2 (g// q0q2 q0)\\n                q3 (g// q0q3 q0)]\\n            (make q0 q1 q2 q3))\\n\\n          (not (v/numeric-zero? q1-2s))\\n          (let [q1 (g/sqrt q1-2)\\n                q0 0\\n                q2 (g// q1q2 q1)\\n                q3 (g// q1q3 q1)]\\n            (make q0 q1 q2 q3))\\n\\n          (not (v/numeric-zero? q2-2s))\\n          (let [q2 (g/sqrt q2-2)\\n                q0 0\\n                q1 0\\n                q3 (g// q2q3 q2)]\\n            (make q0 q1 q2 q3))\\n\\n          :else (make 0 0 0 0))))\", :nextjournal/opts {:id \"emmy.quaternion/from-rotation-matrix-code\", :loc {:line 1425, :end-line 1506, :column 1, :end-column 34}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$from_rotation_matrix 0x5e35090d \\\"emmy.quaternion$from_rotation_matrix@5e35090d\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/from-rotation-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/from-rotation-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ->rotation-matrix\\n  \\\"Given a normalized [[Quaternion]] `q`, returns the corresponding orthogonal 3x3\\n  rotation matrix representing a rotation in 3d-space.\\n\\n  The implementation here will first normalize `q` for you and then generate a\\n  rotation matrix from that new quaternion `q-normal`.\\n\\n  [[->rotation-matrix]] will still work if `q` isn't normalized; but if\\n  a [[Quaternion]] isn't normalized it doesn't make sense to interpret it as a\\n  rotation.\\n\\n  See https://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation#Quaternion-derived_rotation_matrix\\\"\\n  [q]\\n  {:pre [(quaternion? q)]}\\n  (let [q0 (get-r q) q1 (get-i q) q2 (get-j q) q3 (get-k q)\\n        q0**2 (g/square q0)\\n        q1**2 (g/square q1)\\n        q2**2 (g/square q2)\\n        q3**2 (g/square q3)\\n        mag-sq (g/simplify\\n                (g/+ q0**2 q1**2 q2**2 q3**2))]\\n    ;; NOTE that this assertion is not quite right; yes, we are 'assuming' that\\n    ;; the quaternion is normalized, since it doesn't make sense as a rotation\\n    ;; otherwise.\\n    ;;\\n    ;; But we are also deliberately normalizing as we go. So all might still\\n    ;; 'work' if we fail this check. Note this for yourself!\\n    (ul/assume! (list '= mag-sq 1) '->rotation-matrix)\\n    (m/by-rows [(-> (g/+ q0**2 q1**2 (g/negate q2**2) (g/negate q3**2))\\n                    (g// mag-sq))\\n                (-> (g/* 2 (g/- (g/* q1 q2) (g/* q0 q3)))\\n                    (g// mag-sq))\\n                (-> (g/* 2 (g/+ (g/* q1 q3) (g/* q0 q2)))\\n                    (g// mag-sq))]\\n               [(-> (g/* 2 (g/+ (g/* q1 q2) (g/* q0 q3)))\\n                    (g// mag-sq))\\n                (-> (g/+ q0**2 (g/negate q1**2) q2**2 (g/negate q3**2))\\n                    (g// mag-sq))\\n                (-> (g/* 2 (g/- (g/* q2 q3) (g/* q0 q1)))\\n                    (g// mag-sq))]\\n               [(-> (g/* 2 (g/- (g/* q1 q3) (g/* q0 q2)))\\n                    (g// mag-sq))\\n                (-> (g/* 2 (g/+ (g/* q2 q3) (g/* q0 q1)))\\n                    (g// mag-sq))\\n                (-> (g/+ q0**2 (g/negate q1**2) (g/negate q2**2) q3**2)\\n                    (g// mag-sq))])))\", :nextjournal/opts {:id \"emmy.quaternion/->rotation-matrix-code\", :loc {:line 1508, :end-line 1553, :column 1, :end-column 38}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.quaternion$__GT_rotation_matrix 0x7c34725a \\\"emmy.quaternion$__GT_rotation_matrix@7c34725a\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/->rotation-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.quaternion/->rotation-matrix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5driqbgvTvJpeJUgntRGD5VtCqxf8X\"} [\"h2\" {:id \"generic-method-installation\"} [:<> \"Generic Method Installation\"]] [\"h3\" {:id \"equality\"} [:<> \"Equality\"]] [:p [:<> \"Because equality is a symmetric relation, these methods arrange their\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"arguments so that the quaternion is passed into [[eq]] first.\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5driqbgvTvJpeJUgntRGD5VtCqxf8X\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defmethod v/= [::quaternion ::quaternion] [a b] (eq a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtbZXfJ7e64yxbcpZmTBD8jUEWjLL-code\", :loc {:line 1562, :end-line 1562, :column 1, :end-column 59}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x5e190155 \\\"clojure.lang.MultiFn@5e190155\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtbZXfJ7e64yxbcpZmTBD8jUEWjLL-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsV4X2tV3Qid2XN5fB3s99CMGhTqe\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtbZXfJ7e64yxbcpZmTBD8jUEWjLL-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod v/= [v/seqtype ::quaternion] [a b] (eq b a))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtFwKm5DFBsyRZwoHY1EMdKYjPQa1-code\", :loc {:line 1563, :end-line 1563, :column 1, :end-column 56}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x5e190155 \\\"clojure.lang.MultiFn@5e190155\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtFwKm5DFBsyRZwoHY1EMdKYjPQa1-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5drFrZfQ14LEDwKeUXjXLs7eXns2TH\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtFwKm5DFBsyRZwoHY1EMdKYjPQa1-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod v/= [::quaternion v/seqtype] [a b] (eq a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsTr7Jkvaabh2FbEuGL4HSSpunbM7-code\", :loc {:line 1564, :end-line 1564, :column 1, :end-column 56}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x5e190155 \\\"clojure.lang.MultiFn@5e190155\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsTr7Jkvaabh2FbEuGL4HSSpunbM7-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5ds1VdBCUfZQf6BvE7a8bqzK1ZK13s\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsTr7Jkvaabh2FbEuGL4HSSpunbM7-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod v/= [::sc/complex ::quaternion] [a b] (eq b a))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dssWom6e7A7ZUdwMD3yj8PgT7iKqr-code\", :loc {:line 1565, :end-line 1565, :column 1, :end-column 59}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x5e190155 \\\"clojure.lang.MultiFn@5e190155\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dssWom6e7A7ZUdwMD3yj8PgT7iKqr-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsWvUCC8zaQXVRKHSGJ7jnYQ2ei5e\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dssWom6e7A7ZUdwMD3yj8PgT7iKqr-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod v/= [::quaternion ::sc/complex] [a b] (eq a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsrt9AVjK4UNL83Nx6pcQVBr1Jh6B-code\", :loc {:line 1566, :end-line 1566, :column 1, :end-column 59}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x5e190155 \\\"clojure.lang.MultiFn@5e190155\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsrt9AVjK4UNL83Nx6pcQVBr1Jh6B-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5du1VrhqEsUveFuXVkYxY5hKg1DBnr\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsrt9AVjK4UNL83Nx6pcQVBr1Jh6B-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod v/= [::v/real ::quaternion] [a b] (eq b a))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5duKfx6cy17RZ1RU3CyjEDQREQdafi-code\", :loc {:line 1567, :end-line 1567, :column 1, :end-column 55}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x5e190155 \\\"clojure.lang.MultiFn@5e190155\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5duKfx6cy17RZ1RU3CyjEDQREQdafi-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtqa7LAK8eN7ydsRgq6nDt6mkGigv\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5duKfx6cy17RZ1RU3CyjEDQREQdafi-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod v/= [::quaternion ::v/real] [a b] (eq a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsNyvaP8Jy8A6vR5Zn98LxRcV8afB-code\", :loc {:line 1568, :end-line 1568, :column 1, :end-column 55}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x5e190155 \\\"clojure.lang.MultiFn@5e190155\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsNyvaP8Jy8A6vR5Zn98LxRcV8afB-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsUHVD2XHxx2TU7wDDRiMCqNzq3q6\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsNyvaP8Jy8A6vR5Zn98LxRcV8afB-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/simplify [::quaternion] [q]\\n  (->Quaternion\\n   (g/simplify (get-r q))\\n   (g/simplify (get-i q))\\n   (g/simplify (get-j q))\\n   (g/simplify (get-k q))\\n   (meta q)))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsDfgg6RmwJe4cG2o2CQFdu8ZRAA2-code\", :loc {:line 1570, :end-line 1576, :column 1, :end-column 14}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x6d4beb04 \\\"clojure.lang.MultiFn@6d4beb04\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsDfgg6RmwJe4cG2o2CQFdu8ZRAA2-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtQqH3CMRKDqHgvtwphN1TySxSJyW\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsDfgg6RmwJe4cG2o2CQFdu8ZRAA2-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5drXRsqJCv2Bc8dtg2ovsvc5rPvsP1\"} [\"h3\" {:id \"arithmetic\"} [:<> \"Arithmetic\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5drXRsqJCv2Bc8dtg2ovsvc5rPvsP1\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defmethod g/add [::quaternion ::quaternion] [a b] (add a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt4tKpkbawrX4JYCnmADyZosm7nUY-code\", :loc {:line 1580, :end-line 1580, :column 1, :end-column 62}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x548f0e9b \\\"clojure.lang.MultiFn@548f0e9b\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt4tKpkbawrX4JYCnmADyZosm7nUY-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dttRFAqgrnnSmr7mMcJT69paBcxnp\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt4tKpkbawrX4JYCnmADyZosm7nUY-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/add [::v/scalar ::quaternion] [a b] (scalar+quaternion a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsgZM7L7PfFtByU6KuNdnfB7GiTTR-code\", :loc {:line 1581, :end-line 1581, :column 1, :end-column 74}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x548f0e9b \\\"clojure.lang.MultiFn@548f0e9b\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsgZM7L7PfFtByU6KuNdnfB7GiTTR-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsxKZ1QZSJqrMXUDenWREKFxY5eCT\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsgZM7L7PfFtByU6KuNdnfB7GiTTR-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/add [::quaternion ::v/scalar] [a b] (quaternion+scalar a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drJKQycEMfGQmeiXTCRJzo27uJWSo-code\", :loc {:line 1582, :end-line 1582, :column 1, :end-column 74}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x548f0e9b \\\"clojure.lang.MultiFn@548f0e9b\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drJKQycEMfGQmeiXTCRJzo27uJWSo-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dqwZr45kXTECxsQtSoUHTapm1DkAW\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drJKQycEMfGQmeiXTCRJzo27uJWSo-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/add [::sc/complex ::quaternion] [a b] (add (make a) b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dr1Nj9Fe71QSCtxFzZSbzW2Z5N3BK-code\", :loc {:line 1583, :end-line 1583, :column 1, :end-column 69}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x548f0e9b \\\"clojure.lang.MultiFn@548f0e9b\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dr1Nj9Fe71QSCtxFzZSbzW2Z5N3BK-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtCEmQFK3KBt8jyf61xrMX6XUFw5Z\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dr1Nj9Fe71QSCtxFzZSbzW2Z5N3BK-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/add [::quaternion ::sc/complex] [a b] (add a (make b)))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtXFmf2FdrAFSfDvTMriF9wCTRs5q-code\", :loc {:line 1584, :end-line 1584, :column 1, :end-column 69}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x548f0e9b \\\"clojure.lang.MultiFn@548f0e9b\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtXFmf2FdrAFSfDvTMriF9wCTRs5q-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtRFhivFg8uZL9ymdSQ6USgrenxpN\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtXFmf2FdrAFSfDvTMriF9wCTRs5q-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/negate [::quaternion] [q] (negate q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt32ZAmouySwc4rUzWsLsUvXEpS7j-code\", :loc {:line 1586, :end-line 1586, :column 1, :end-column 51}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x4acb5b24 \\\"clojure.lang.MultiFn@4acb5b24\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt32ZAmouySwc4rUzWsLsUvXEpS7j-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtrsfKZ3cJBsqbvrZy7WyQwS3uRYB\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt32ZAmouySwc4rUzWsLsUvXEpS7j-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/sub [::quaternion ::quaternion] [a b] (sub a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt1jBHQa6MPRwSMvTgQTbKudDar3V-code\", :loc {:line 1588, :end-line 1588, :column 1, :end-column 62}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x18a15a5a \\\"clojure.lang.MultiFn@18a15a5a\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt1jBHQa6MPRwSMvTgQTbKudDar3V-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5duECbnV1YytzMcgRkNoUNatJqBaDK\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt1jBHQa6MPRwSMvTgQTbKudDar3V-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/sub [::v/scalar ::quaternion] [a b] (scalar-quaternion a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsPjuytmM7jLLyUrcwagikAoK6Sx7-code\", :loc {:line 1589, :end-line 1589, :column 1, :end-column 74}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x18a15a5a \\\"clojure.lang.MultiFn@18a15a5a\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsPjuytmM7jLLyUrcwagikAoK6Sx7-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtWP7Bi4VeXTkTcUEdGDYmMHhNiCr\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsPjuytmM7jLLyUrcwagikAoK6Sx7-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/sub [::quaternion ::v/scalar] [a b] (quaternion-scalar a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtbWrpf8igUMC1T7cbAuEG1JxUUR9-code\", :loc {:line 1590, :end-line 1590, :column 1, :end-column 74}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x18a15a5a \\\"clojure.lang.MultiFn@18a15a5a\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtbWrpf8igUMC1T7cbAuEG1JxUUR9-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtnW5g8qbMViR6p3knoXxENEBjeiQ\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtbWrpf8igUMC1T7cbAuEG1JxUUR9-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/sub [::sc/complex ::quaternion] [a b] (sub (make a) b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtirdMmXQTcekmJvF1HghLB5anJ44-code\", :loc {:line 1591, :end-line 1591, :column 1, :end-column 69}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x18a15a5a \\\"clojure.lang.MultiFn@18a15a5a\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtirdMmXQTcekmJvF1HghLB5anJ44-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dt16c87iDxqmrHtHAsG5rvcgWPsh7\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtirdMmXQTcekmJvF1HghLB5anJ44-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/sub [::quaternion ::sc/complex] [a b] (sub a (make b)))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5du6mxFUM4qzMeoDKYvctJvbWsPyWt-code\", :loc {:line 1592, :end-line 1592, :column 1, :end-column 69}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x18a15a5a \\\"clojure.lang.MultiFn@18a15a5a\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5du6mxFUM4qzMeoDKYvctJvbWsPyWt-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5drFq1USTz6F88xMyg6kHNiPAz4XFn\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5du6mxFUM4qzMeoDKYvctJvbWsPyWt-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/mul [::quaternion ::quaternion] [a b] (mul a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dscfdrx2yZW9DKpwiboiU32r31s5u-code\", :loc {:line 1594, :end-line 1594, :column 1, :end-column 62}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x609fdb66 \\\"clojure.lang.MultiFn@609fdb66\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dscfdrx2yZW9DKpwiboiU32r31s5u-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5drShDwayBcncJuezX3ceQH9vYczAa\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dscfdrx2yZW9DKpwiboiU32r31s5u-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/mul [::v/scalar ::quaternion] [s q] (scale-l s q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsUVR7dFzrqi6bamoN8jGQMfz9DWo-code\", :loc {:line 1595, :end-line 1595, :column 1, :end-column 64}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x609fdb66 \\\"clojure.lang.MultiFn@609fdb66\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsUVR7dFzrqi6bamoN8jGQMfz9DWo-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5drTdfKAgok3NUcMVMyPZcPakqyZN9\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsUVR7dFzrqi6bamoN8jGQMfz9DWo-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/mul [::quaternion ::v/scalar] [q s] (scale q s))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5du1GoN8ffeVmgSWgJLGf6FhZSbejZ-code\", :loc {:line 1596, :end-line 1596, :column 1, :end-column 62}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x609fdb66 \\\"clojure.lang.MultiFn@609fdb66\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5du1GoN8ffeVmgSWgJLGf6FhZSbejZ-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dswXuwLLqcf2hTEnRw15N1Xk2yhfg\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5du1GoN8ffeVmgSWgJLGf6FhZSbejZ-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/mul [::sc/complex ::quaternion] [a b] (mul (make a) b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt2jdf4Whz1VR44UY2Pgr9WkdV9CC-code\", :loc {:line 1597, :end-line 1597, :column 1, :end-column 69}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x609fdb66 \\\"clojure.lang.MultiFn@609fdb66\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt2jdf4Whz1VR44UY2Pgr9WkdV9CC-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5drFErJMF3PaqGRqVNdohnBYa1kC1A\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt2jdf4Whz1VR44UY2Pgr9WkdV9CC-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/mul [::quaternion ::sc/complex] [a b] (mul a (make b)))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dqp2hHbRV7HYMjUH6EBL9gRVWTfbV-code\", :loc {:line 1598, :end-line 1598, :column 1, :end-column 69}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x609fdb66 \\\"clojure.lang.MultiFn@609fdb66\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dqp2hHbRV7HYMjUH6EBL9gRVWTfbV-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5duGygTZfTM6nSegZw1bmdaMwfe285\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dqp2hHbRV7HYMjUH6EBL9gRVWTfbV-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/expt [::quaternion ::quaternion] [a b] (expt a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtgEKZoZMu9Sh61xSjSpFmeUHRbpc-code\", :loc {:line 1600, :end-line 1600, :column 1, :end-column 64}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x543897db \\\"clojure.lang.MultiFn@543897db\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtgEKZoZMu9Sh61xSjSpFmeUHRbpc-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5drS9rXp3bgCiTCkRXiVGpebur6GeJ\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtgEKZoZMu9Sh61xSjSpFmeUHRbpc-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/expt [::quaternion ::sc/complex] [a b] (expt a (make b)))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drVrFD6DcjPtW1C3JZd2Q1E9VgbRA-code\", :loc {:line 1601, :end-line 1601, :column 1, :end-column 71}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x543897db \\\"clojure.lang.MultiFn@543897db\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drVrFD6DcjPtW1C3JZd2Q1E9VgbRA-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5drVBBRSbkPg6ctP4mbgoY81NenUsS\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drVrFD6DcjPtW1C3JZd2Q1E9VgbRA-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/expt [::quaternion ::v/real] [a b] (expt a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drhgythmceoueSi5uVxdP6we9B5Mf-code\", :loc {:line 1602, :end-line 1602, :column 1, :end-column 60}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x543897db \\\"clojure.lang.MultiFn@543897db\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drhgythmceoueSi5uVxdP6we9B5Mf-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5duBHsnWraRLuEiuZoZcHvGoQhXcNC\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drhgythmceoueSi5uVxdP6we9B5Mf-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/invert [::quaternion] [q] (invert q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsboDR1gAftL4VozcGor7pWcQpwSP-code\", :loc {:line 1604, :end-line 1604, :column 1, :end-column 51}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x5c4ee881 \\\"clojure.lang.MultiFn@5c4ee881\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsboDR1gAftL4VozcGor7pWcQpwSP-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5duBeuAeVMdUduhnELv79Qhe4s5ym3\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsboDR1gAftL4VozcGor7pWcQpwSP-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/div [::quaternion ::quaternion] [a b] (div a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5duAUXjkLd2Duk89s8tBwbVp1cFy5T-code\", :loc {:line 1606, :end-line 1606, :column 1, :end-column 62}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x23db44be \\\"clojure.lang.MultiFn@23db44be\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5duAUXjkLd2Duk89s8tBwbVp1cFy5T-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5druDcgq8WTd99YMSzaY9KLxaYVW9y\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5duAUXjkLd2Duk89s8tBwbVp1cFy5T-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/div [::v/scalar ::quaternion] [s q] (scale-l s (g/invert q)))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5du3dt64QdmS8yTVTncjLyVFNTR9Ms-code\", :loc {:line 1607, :end-line 1607, :column 1, :end-column 75}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x23db44be \\\"clojure.lang.MultiFn@23db44be\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5du3dt64QdmS8yTVTncjLyVFNTR9Ms-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5driuFsTcubV1Pm54MFfoJb6cHtGeB\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5du3dt64QdmS8yTVTncjLyVFNTR9Ms-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/div [::quaternion ::v/scalar] [q s] (q-div-scalar q s))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsHBu5x5W9RbxYCkmhKoqEtHGfMFJ-code\", :loc {:line 1608, :end-line 1608, :column 1, :end-column 69}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x23db44be \\\"clojure.lang.MultiFn@23db44be\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsHBu5x5W9RbxYCkmhKoqEtHGfMFJ-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtWAaNubNbw4JyAqhYetXD8wRoB8g\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsHBu5x5W9RbxYCkmhKoqEtHGfMFJ-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/div [::sc/complex ::quaternion] [a b] (div (make a) b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsMG9cZD5ARwKQcL4y7wgZ7w3Rq9J-code\", :loc {:line 1609, :end-line 1609, :column 1, :end-column 69}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x23db44be \\\"clojure.lang.MultiFn@23db44be\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsMG9cZD5ARwKQcL4y7wgZ7w3Rq9J-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5drbSfo4A5qKRQf5vXi1zrKZK3v48q\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsMG9cZD5ARwKQcL4y7wgZ7w3Rq9J-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/div [::quaternion ::sc/complex] [a b] (div a (make b)))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drpE9PBuhUCgmyxka1kUhDaN45F8z-code\", :loc {:line 1610, :end-line 1610, :column 1, :end-column 69}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x23db44be \\\"clojure.lang.MultiFn@23db44be\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drpE9PBuhUCgmyxka1kUhDaN45F8z-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtkRsJXke2w6PYbphg96V2VcdcjsJ\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drpE9PBuhUCgmyxka1kUhDaN45F8z-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/sqrt [::quaternion] [q] (sqrt q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtFRf2N1cyJgQEzooAXjL9JArxsvd-code\", :loc {:line 1612, :end-line 1612, :column 1, :end-column 47}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x542851cb \\\"clojure.lang.MultiFn@542851cb\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtFRf2N1cyJgQEzooAXjL9JArxsvd-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dt36FSDyJeuX4G5nAvMnJXNdXKzge\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtFRf2N1cyJgQEzooAXjL9JArxsvd-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/log [::quaternion] [q] (log q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5du1Vt9eZZEQQyP7nRFyL3m4zQPw56-code\", :loc {:line 1613, :end-line 1613, :column 1, :end-column 45}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x680667b5 \\\"clojure.lang.MultiFn@680667b5\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5du1Vt9eZZEQQyP7nRFyL3m4zQPw56-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5drvQtpyG4Rp9MfyjD5mvhhi99ww7Y\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5du1Vt9eZZEQQyP7nRFyL3m4zQPw56-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.quaternion/markdown-5dtCGbaQkq9BmE2pcXA4pf4gAfMwUS\"} [\"h3\" {:id \"transcendental-functions-2\"} [:<> \"Transcendental Functions\"]]], :nextjournal/opts {:id \"emmy.quaternion/markdown-5dtCGbaQkq9BmE2pcXA4pf4gAfMwUS\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defmethod g/exp [::quaternion] [q] (exp q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsaVckXsRoBqD83CMZP6xVWD35YxT-code\", :loc {:line 1617, :end-line 1617, :column 1, :end-column 45}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x6c2bd598 \\\"clojure.lang.MultiFn@6c2bd598\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsaVckXsRoBqD83CMZP6xVWD35YxT-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dreMvRrtCeDbugRR8Zg7Wr4mXv7FD\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsaVckXsRoBqD83CMZP6xVWD35YxT-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/sin [::quaternion] [q] (sin q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5druqvZuFa16RYU6F2nTHt3gy3CrUz-code\", :loc {:line 1618, :end-line 1618, :column 1, :end-column 45}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x4cec3307 \\\"clojure.lang.MultiFn@4cec3307\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5druqvZuFa16RYU6F2nTHt3gy3CrUz-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5drVWJGAQeF9tZLunbUoYPLDiFbtbS\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5druqvZuFa16RYU6F2nTHt3gy3CrUz-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/cos [::quaternion] [q] (cos q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtqpfmjGNaUMDu5n7XQccPFiK9MGq-code\", :loc {:line 1619, :end-line 1619, :column 1, :end-column 45}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x3861f7c0 \\\"clojure.lang.MultiFn@3861f7c0\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtqpfmjGNaUMDu5n7XQccPFiK9MGq-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsHR2gULknyz8hvJg596yUAYFia6A\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtqpfmjGNaUMDu5n7XQccPFiK9MGq-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/tan [::quaternion] [q] (tan q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drTYf7Rxpm32SWC7fZigu5sgQAiv9-code\", :loc {:line 1620, :end-line 1620, :column 1, :end-column 45}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x4f050a5f \\\"clojure.lang.MultiFn@4f050a5f\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drTYf7Rxpm32SWC7fZigu5sgQAiv9-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsPiHCzg7HGJHpLBFkFYUHTKFFk8r\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drTYf7Rxpm32SWC7fZigu5sgQAiv9-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/cosh [::quaternion] [q] (cosh q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsXHzQrHZkKyi1fbRRrN18qqxdWUq-code\", :loc {:line 1621, :end-line 1621, :column 1, :end-column 47}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x652627d1 \\\"clojure.lang.MultiFn@652627d1\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsXHzQrHZkKyi1fbRRrN18qqxdWUq-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsbwnYkWwPH2QiRZUL99pSLMLzBvX\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsXHzQrHZkKyi1fbRRrN18qqxdWUq-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/sinh [::quaternion] [q] (sinh q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtLi9hg3sZJackaAeToLrtSwdmxn6-code\", :loc {:line 1622, :end-line 1622, :column 1, :end-column 47}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x23f6cf14 \\\"clojure.lang.MultiFn@23f6cf14\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtLi9hg3sZJackaAeToLrtSwdmxn6-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5drTnPuV2rETYzgi7qMSQLsvNW6rfw\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtLi9hg3sZJackaAeToLrtSwdmxn6-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/tanh [::quaternion] [q] (tanh q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsUGesnzdHPPG3u8Br1ostTwS94HH-code\", :loc {:line 1623, :end-line 1623, :column 1, :end-column 47}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x74b3cc98 \\\"clojure.lang.MultiFn@74b3cc98\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsUGesnzdHPPG3u8Br1ostTwS94HH-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsRznP64e5c1aPFeQb5xVbhp8z68R\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsUGesnzdHPPG3u8Br1ostTwS94HH-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/infinite? [::quaternion] [q]\\n  (or (g/infinite? (get-r q))\\n      (g/infinite? (get-i q))\\n      (g/infinite? (get-j q))\\n      (g/infinite? (get-k q))))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dr7QugLQ4rxp8Za9Bv5SYKFMJKX8U-code\", :loc {:line 1625, :end-line 1629, :column 1, :end-column 32}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x705c2ea1 \\\"clojure.lang.MultiFn@705c2ea1\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dr7QugLQ4rxp8Za9Bv5SYKFMJKX8U-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtVc8UzMBk7JisyYitGHiXQgANR85\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dr7QugLQ4rxp8Za9Bv5SYKFMJKX8U-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/abs [::quaternion] [q] (magnitude q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtExxdV9t6CE8nkYUopF1Wmazm3fb-code\", :loc {:line 1631, :end-line 1631, :column 1, :end-column 51}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x22d560b6 \\\"clojure.lang.MultiFn@22d560b6\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtExxdV9t6CE8nkYUopF1Wmazm3fb-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5drcaGawXRYSudX9vXFftA5QV7ss5j\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtExxdV9t6CE8nkYUopF1Wmazm3fb-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/magnitude [::quaternion] [q] (magnitude q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drsBwyZHmebf4wGJB7WiH1gehy3Rz-code\", :loc {:line 1632, :end-line 1632, :column 1, :end-column 57}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x52307940 \\\"clojure.lang.MultiFn@52307940\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drsBwyZHmebf4wGJB7WiH1gehy3Rz-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5ds3KrGLLYndxGRo9xpMTR6i81Fcnb\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drsBwyZHmebf4wGJB7WiH1gehy3Rz-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/conjugate [::quaternion] [q] (conjugate q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsLjgcVbByyJdP2aSPRDbyyagkrWN-code\", :loc {:line 1633, :end-line 1633, :column 1, :end-column 57}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x4101c7cb \\\"clojure.lang.MultiFn@4101c7cb\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsLjgcVbByyJdP2aSPRDbyyagkrWN-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5driMv5s9e8j7Jm3YHQjkpGkMoRy9v\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsLjgcVbByyJdP2aSPRDbyyagkrWN-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/real-part [::quaternion] [q] (real-part q))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsM9cJuTqxcTkNdkyZcmVG9nU9izR-code\", :loc {:line 1634, :end-line 1634, :column 1, :end-column 57}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x7a1b77df \\\"clojure.lang.MultiFn@7a1b77df\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsM9cJuTqxcTkNdkyZcmVG9nU9izR-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5duBMzVPsyscbga3iC9PKZe6CAtWNp\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsM9cJuTqxcTkNdkyZcmVG9nU9izR-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/partial-derivative [::quaternion v/seqtype] [q selectors]\\n  (partial-derivative q selectors))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsg1nqXxNYLfFVnbR38jPv9iDjrPF-code\", :loc {:line 1636, :end-line 1637, :column 1, :end-column 36}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x6dfd3385 \\\"clojure.lang.MultiFn@6dfd3385\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsg1nqXxNYLfFVnbR38jPv9iDjrPF-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsb2xwYJHn12cDYm4y9U6829nWqH5\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsg1nqXxNYLfFVnbR38jPv9iDjrPF-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/cross-product [::quaternion ::quaternion] [a b] (cross-product a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dri8SQgmbidtfySnZvhMZEwDMtYTu-code\", :loc {:line 1639, :end-line 1639, :column 1, :end-column 82}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x8cf13d3 \\\"clojure.lang.MultiFn@8cf13d3\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dri8SQgmbidtfySnZvhMZEwDMtYTu-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsovrqxsZSPmwwbvz2Q5h1UGKV5vh\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dri8SQgmbidtfySnZvhMZEwDMtYTu-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/cross-product [::quaternion ::v/scalar] [_ _] ZERO)\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsZ8sCZan4nhzeKP8by3MyTHMHdfQ-code\", :loc {:line 1640, :end-line 1640, :column 1, :end-column 65}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x8cf13d3 \\\"clojure.lang.MultiFn@8cf13d3\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsZ8sCZan4nhzeKP8by3MyTHMHdfQ-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsWLLutJnNqb435k2pwXvWW7Nd1GB\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsZ8sCZan4nhzeKP8by3MyTHMHdfQ-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/cross-product [::v/scalar ::quaternion] [_ _] ZERO)\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt7FosgS1wCFVWyU4AunTmGmoRf82-code\", :loc {:line 1641, :end-line 1641, :column 1, :end-column 65}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x8cf13d3 \\\"clojure.lang.MultiFn@8cf13d3\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt7FosgS1wCFVWyU4AunTmGmoRf82-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsPSBQijXMT1Cuaf4uNVo7pGAeWhj\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt7FosgS1wCFVWyU4AunTmGmoRf82-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/cross-product [::quaternion ::sc/complex] [a b]\\n  (let [i2 (sc/imaginary b)]\\n    (make 0 0\\n          (g/* (get-k a) i2)\\n          (g/- (g/* (get-j a) i2)))))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dto4zQymSPCtapw9iqMpx4B2XWbrF-code\", :loc {:line 1642, :end-line 1646, :column 1, :end-column 38}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x8cf13d3 \\\"clojure.lang.MultiFn@8cf13d3\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dto4zQymSPCtapw9iqMpx4B2XWbrF-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5drx5rQ8HQLRaGBtp7wXPizpUK9z3U\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dto4zQymSPCtapw9iqMpx4B2XWbrF-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/cross-product [::sc/complex ::quaternion] [a b]\\n  (let [i1 (sc/imaginary a)]\\n    (make 0 0\\n          (g/- (g/* i1 (get-k b)))\\n          (g/* i1 (get-j b)))))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtaGoqRAQodqRcuggiZ8iX58p3Z8u-code\", :loc {:line 1648, :end-line 1652, :column 1, :end-column 32}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x8cf13d3 \\\"clojure.lang.MultiFn@8cf13d3\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtaGoqRAQodqRcuggiZ8iX58p3Z8u-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5ds9bzE28QzZ6KYUrqEw1k9Qhrjoks\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtaGoqRAQodqRcuggiZ8iX58p3Z8u-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/dot-product [::quaternion ::quaternion] [a b] (dot-product a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt9HXvahyAtvuTYmquBRE1iUR9ssS-code\", :loc {:line 1654, :end-line 1654, :column 1, :end-column 78}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x1c71cb4d \\\"clojure.lang.MultiFn@1c71cb4d\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt9HXvahyAtvuTYmquBRE1iUR9ssS-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5du81AoWMbhhfN1Sv4JvCVNcsfrfw7\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt9HXvahyAtvuTYmquBRE1iUR9ssS-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/dot-product [::v/scalar ::quaternion] [a b] (g/* a (get-r b)))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtStjgMh7cwgLfLzrr6UKmwuSdSbB-code\", :loc {:line 1655, :end-line 1655, :column 1, :end-column 76}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x1c71cb4d \\\"clojure.lang.MultiFn@1c71cb4d\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtStjgMh7cwgLfLzrr6UKmwuSdSbB-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dryaoHXG7aHu6JsSMo2d8HtbWZ1dp\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtStjgMh7cwgLfLzrr6UKmwuSdSbB-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/dot-product [::quaternion ::v/scalar] [a b] (g/* (get-r a) b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drqXoVFZNqX4vHu6J4khG14L1owQJ-code\", :loc {:line 1656, :end-line 1656, :column 1, :end-column 76}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x1c71cb4d \\\"clojure.lang.MultiFn@1c71cb4d\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drqXoVFZNqX4vHu6J4khG14L1owQJ-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtatBn8gxupk26cobYybRJfKf3Eyz\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drqXoVFZNqX4vHu6J4khG14L1owQJ-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/dot-product [::sc/complex ::quaternion] [a b]\\n  (g/+ (g/* (sc/real a) (get-r b))\\n       (g/* (sc/imaginary a) (get-i b))))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dqpvzm5WyMg4uTGgG7L6FaozhHiGy-code\", :loc {:line 1657, :end-line 1659, :column 1, :end-column 42}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x1c71cb4d \\\"clojure.lang.MultiFn@1c71cb4d\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dqpvzm5WyMg4uTGgG7L6FaozhHiGy-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtWrFzabm75pbcwWS9KxkUpwF4ck7\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dqpvzm5WyMg4uTGgG7L6FaozhHiGy-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/dot-product [::quaternion ::sc/complex] [a b]\\n  (g/+ (g/* (get-r a) (sc/real b))\\n       (g/* (get-i a) (sc/imaginary b))))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsQb68TQqNYeRrZLmddUX7Grnme21-code\", :loc {:line 1661, :end-line 1663, :column 1, :end-column 42}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x1c71cb4d \\\"clojure.lang.MultiFn@1c71cb4d\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsQb68TQqNYeRrZLmddUX7Grnme21-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsMk5ej5LUNiDdJGCY8u9hLSvfAXY\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsQb68TQqNYeRrZLmddUX7Grnme21-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/solve-linear-right [::quaternion ::v/scalar] [q s] (q-div-scalar q s))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dqoN9d9r8N8oNmLT3yrWFJ9w8GYMn-code\", :loc {:line 1665, :end-line 1665, :column 1, :end-column 84}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x730ef23d \\\"clojure.lang.MultiFn@730ef23d\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dqoN9d9r8N8oNmLT3yrWFJ9w8GYMn-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dt8L9eiPN3tYJCsVEJNAWtRh1jrE5\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dqoN9d9r8N8oNmLT3yrWFJ9w8GYMn-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/solve-linear-right [::quaternion ::quaternion] [a b] (div a b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drRA2Db3isGzDAbjN85vhgTcxW4iY-code\", :loc {:line 1666, :end-line 1666, :column 1, :end-column 77}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x730ef23d \\\"clojure.lang.MultiFn@730ef23d\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drRA2Db3isGzDAbjN85vhgTcxW4iY-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtLzwKj6PnJEVMES4wMgpTp4kaUdA\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drRA2Db3isGzDAbjN85vhgTcxW4iY-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/solve-linear-right [::sc/complex ::quaternion] [a b] (div (make a) b))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtmatgyYgq1Kgv9pUvm36hgqJ3nSo-code\", :loc {:line 1667, :end-line 1667, :column 1, :end-column 84}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x730ef23d \\\"clojure.lang.MultiFn@730ef23d\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtmatgyYgq1Kgv9pUvm36hgqJ3nSo-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtFjVTwwjq1uh6GfRtCqU4thHyVud\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dtmatgyYgq1Kgv9pUvm36hgqJ3nSo-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/solve-linear-right [::quaternion ::sc/complex] [a b] (div a (make b)))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5ds7JzCxbmPTuGYnUh6sXdNgS2rC8h-code\", :loc {:line 1668, :end-line 1668, :column 1, :end-column 84}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x730ef23d \\\"clojure.lang.MultiFn@730ef23d\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5ds7JzCxbmPTuGYnUh6sXdNgS2rC8h-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5drHUVsmb6jP6Nwhm5HSMj6Rac3fyf\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5ds7JzCxbmPTuGYnUh6sXdNgS2rC8h-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/solve-linear [::v/scalar ::quaternion] [s q] (q-div-scalar q s))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dr81i7KAx4FdwWPJBkhio5JMyuHNo-code\", :loc {:line 1670, :end-line 1670, :column 1, :end-column 78}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x4e626ff2 \\\"clojure.lang.MultiFn@4e626ff2\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dr81i7KAx4FdwWPJBkhio5JMyuHNo-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsNnAutLGoq57cdDdn1WX1KS7qzTR\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dr81i7KAx4FdwWPJBkhio5JMyuHNo-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/solve-linear [::quaternion ::quaternion] [a b] (div b a))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt4HtmXttX3qad36hpQSWuL5LeyZG-code\", :loc {:line 1671, :end-line 1671, :column 1, :end-column 71}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x4e626ff2 \\\"clojure.lang.MultiFn@4e626ff2\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt4HtmXttX3qad36hpQSWuL5LeyZG-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dqoYsAtEXEVRfGKiWYggaHGbHwFLJ\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dt4HtmXttX3qad36hpQSWuL5LeyZG-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/solve-linear [::sc/complex ::quaternion] [a b] (div b (make a)))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsQZEgL2bew5dckkTFqcE6qoSihpq-code\", :loc {:line 1672, :end-line 1672, :column 1, :end-column 78}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x4e626ff2 \\\"clojure.lang.MultiFn@4e626ff2\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsQZEgL2bew5dckkTFqcE6qoSihpq-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dqzp8Dzeksja6CZfrJrzf9UVqov3i\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5dsQZEgL2bew5dckkTFqcE6qoSihpq-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defmethod g/solve-linear [::quaternion ::sc/complex] [a b] (div (make b) a))\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drxSZmfybM7E5CdPhjDQBsfFWzwFx-code\", :loc {:line 1673, :end-line 1673, :column 1, :end-column 78}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x4e626ff2 \\\"clojure.lang.MultiFn@4e626ff2\\\"]\", :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drxSZmfybM7E5CdPhjDQBsfFWzwFx-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsW45qSJY3bRMWsbygv9MczeYfFpS\"}, :nextjournal/opts {:id \"emmy.quaternion/anon-expr-5drxSZmfybM7E5CdPhjDQBsfFWzwFx-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}}], :css-class nil}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5duAFDxE4sCnRX71Wo6zeCpC9C3djE\"}}}, :index \"dev/emmy/notebook.clj\", :browse? false, :git/url \"https://github.com/mentat-collective/emmy\", :paths [\"src/emmy/abstract/number.cljc\" \"src/emmy/special/elliptic.cljc\" \"src/emmy/polynomial/interpolate.cljc\" \"src/emmy/numerical/quadrature/midpoint.cljc\" \"src/emmy/numerical/quadrature/trapezoid.cljc\" \"src/emmy/sci.cljc\" \"src/emmy/calculus/map.cljc\" \"src/emmy/pattern/rule.cljc\" \"src/emmy/mechanics/time_evolution.cljc\" \"src/emmy/util/permute.cljc\" \"src/emmy/expression/cse.cljc\" \"src/emmy/complex.cljc\" \"src/emmy/generic.cljc\" \"src/emmy/expression/compile.cljc\" \"src/emmy/sr/frames.cljc\" \"src/emmy/function.cljc\" \"src/emmy/polynomial/richardson.cljc\" \"src/emmy/numerical/unimin/brent.cljc\" \"src/emmy/numsymb.cljc\" \"src/emmy/calculus/vector_field.cljc\" \"src/emmy/numerical/minimize.cljc\" \"src/emmy/rational_function.cljc\" \"src/emmy/mechanics/noether.cljc\" \"src/emmy/calculus/hodge_star.cljc\" \"src/emmy/series.cljc\" \"src/emmy/series/impl.cljc\" \"src/emmy/calculus/manifold.cljc\" \"src/emmy/util/logic.cljc\" \"src/emmy/util/stopwatch.cljc\" \"src/emmy/numerical/quadrature/adaptive.cljc\" \"src/emmy/mechanics/rotation.cljc\" \"src/emmy/numerical/ode.cljc\" \"src/emmy/numerical/quadrature/riemann.cljc\" \"src/emmy/calculus/connection.cljc\" \"src/emmy/numbers.cljc\" \"src/emmy/algebra/fold.cljc\" \"src/emmy/numerical/multimin/nelder_mead.cljc\" \"src/emmy/polynomial/exponent.cljc\" \"src/emmy/polynomial/factor.cljc\" \"src/emmy/util/def.cljc\" \"src/emmy/abstract/function.cljc\" \"src/emmy/calculus/indexed.cljc\" \"src/emmy/numerical/quadrature.cljc\" \"src/emmy/numerical/quadrature/infinite.cljc\" \"src/emmy/mechanics/routhian.cljc\" \"src/emmy/numerical/quadrature/bulirsch_stoer.cljc\" \"src/emmy/ratio.cljc\" \"src/emmy/calculus/curvature.cljc\" \"src/emmy/numerical/quadrature/milne.cljc\" \"src/emmy/calculus/form_field.cljc\" \"src/emmy/mechanics/hamilton.cljc\" \"src/emmy/expression/render.cljc\" \"src/emmy/util/stream.cljc\" \"src/emmy/calculus/derivative.cljc\" \"dev/emmy/notebook.clj\" \"src/emmy/util/aggregate.cljc\" \"src/emmy/numerical/quadrature/romberg.cljc\" \"src/emmy/numerical/quadrature/boole.cljc\" \"src/emmy/pattern/match.cljc\" \"src/emmy/calculus/metric.cljc\" \"src/emmy/polynomial/gcd.cljc\" \"src/emmy/numerical/quadrature/substitute.cljc\" \"src/emmy/euclid.cljc\" \"src/emmy/calculus/vector_calculus.cljc\" \"src/emmy/collection.cljc\" \"src/emmy/numerical/quadrature/simpson.cljc\" \"src/emmy/calculus/basis.cljc\" \"src/emmy/util/vector_set.cljc\" \"src/emmy/pattern/syntax.cljc\" \"src/emmy/numerical/quadrature/common.cljc\" \"src/emmy/sr/boost.cljc\" \"src/emmy/calculus/coordinate.cljc\" \"src/emmy/calculus/covariant.cljc\" \"src/emmy/numerical/derivative.cljc\" \"src/emmy/simplify/rules.cljc\" \"src/emmy/mechanics/rigid.cljc\" \"src/emmy/quaternion.cljc\" \"src/emmy/rational_function/interpolate.cljc\" \"src/emmy/numerical/unimin/bracket.cljc\" \"src/emmy/numerical/roots/bisect.cljc\" \"src/emmy/numerical/quadrature/simpson38.cljc\" \"src/emmy/mechanics/lagrange.cljc\" \"src/emmy/expression/analyze.cljc\" \"src/emmy/calculus/frame.cljc\" \"src/emmy/pattern/consequence.cljc\" \"src/emmy/env.cljc\" \"src/emmy/util.cljc\" \"src/emmy/matrix.cljc\" \"src/emmy/sci/macros.cljc\" \"src/emmy/numerical/unimin/golden.cljc\" \"src/emmy/special/factorial.cljc\" \"src/emmy/polynomial/impl.cljc\" \"src/emmy/modint.cljc\"], :resource->url {\"/js/viewer.js\" \"https://storage.clerk.garden/nextjournal/clerk-assets@4NdW4yYfmUzzw9xCkmyrJ75nH75d/viewer.js?immutable=true\"}, :current-path \"src/emmy/quaternion.cljc\", :bundle? false, :git/sha \"734c98e7a02eed1f416a0c3bad773ab40858eb73\", :path->url {\"src/emmy/abstract/number.cljc\" \"src/emmy/abstract/number.html\", \"src/emmy/special/elliptic.cljc\" \"src/emmy/special/elliptic.html\", \"src/emmy/polynomial/interpolate.cljc\" \"src/emmy/polynomial/interpolate.html\", \"src/emmy/numerical/quadrature/midpoint.cljc\" \"src/emmy/numerical/quadrature/midpoint.html\", \"src/emmy/numerical/quadrature/trapezoid.cljc\" \"src/emmy/numerical/quadrature/trapezoid.html\", \"src/emmy/sci.cljc\" \"src/emmy/sci.html\", \"src/emmy/calculus/map.cljc\" \"src/emmy/calculus/map.html\", \"src/emmy/pattern/rule.cljc\" \"src/emmy/pattern/rule.html\", \"src/emmy/mechanics/time_evolution.cljc\" \"src/emmy/mechanics/time_evolution.html\", \"src/emmy/util/permute.cljc\" \"src/emmy/util/permute.html\", \"src/emmy/expression/cse.cljc\" \"src/emmy/expression/cse.html\", \"src/emmy/complex.cljc\" \"src/emmy/complex.html\", \"src/emmy/generic.cljc\" \"src/emmy/generic.html\", \"src/emmy/expression/compile.cljc\" \"src/emmy/expression/compile.html\", \"src/emmy/sr/frames.cljc\" \"src/emmy/sr/frames.html\", \"src/emmy/function.cljc\" \"src/emmy/function.html\", \"src/emmy/polynomial/richardson.cljc\" \"src/emmy/polynomial/richardson.html\", \"src/emmy/numerical/unimin/brent.cljc\" \"src/emmy/numerical/unimin/brent.html\", \"src/emmy/numsymb.cljc\" \"src/emmy/numsymb.html\", \"src/emmy/calculus/vector_field.cljc\" \"src/emmy/calculus/vector_field.html\", \"src/emmy/numerical/minimize.cljc\" \"src/emmy/numerical/minimize.html\", \"src/emmy/rational_function.cljc\" \"src/emmy/rational_function.html\", \"src/emmy/mechanics/noether.cljc\" \"src/emmy/mechanics/noether.html\", \"src/emmy/calculus/hodge_star.cljc\" \"src/emmy/calculus/hodge_star.html\", \"src/emmy/series.cljc\" \"src/emmy/series.html\", \"src/emmy/series/impl.cljc\" \"src/emmy/series/impl.html\", \"src/emmy/calculus/manifold.cljc\" \"src/emmy/calculus/manifold.html\", \"src/emmy/util/logic.cljc\" \"src/emmy/util/logic.html\", \"src/emmy/util/stopwatch.cljc\" \"src/emmy/util/stopwatch.html\", \"src/emmy/numerical/quadrature/adaptive.cljc\" \"src/emmy/numerical/quadrature/adaptive.html\", \"src/emmy/mechanics/rotation.cljc\" \"src/emmy/mechanics/rotation.html\", \"src/emmy/numerical/ode.cljc\" \"src/emmy/numerical/ode.html\", \"src/emmy/numerical/quadrature/riemann.cljc\" \"src/emmy/numerical/quadrature/riemann.html\", \"src/emmy/calculus/connection.cljc\" \"src/emmy/calculus/connection.html\", \"src/emmy/numbers.cljc\" \"src/emmy/numbers.html\", \"src/emmy/algebra/fold.cljc\" \"src/emmy/algebra/fold.html\", \"src/emmy/numerical/multimin/nelder_mead.cljc\" \"src/emmy/numerical/multimin/nelder_mead.html\", \"src/emmy/polynomial/exponent.cljc\" \"src/emmy/polynomial/exponent.html\", \"src/emmy/polynomial/factor.cljc\" \"src/emmy/polynomial/factor.html\", \"src/emmy/util/def.cljc\" \"src/emmy/util/def.html\", \"src/emmy/abstract/function.cljc\" \"src/emmy/abstract/function.html\", \"src/emmy/calculus/indexed.cljc\" \"src/emmy/calculus/indexed.html\", \"src/emmy/numerical/quadrature.cljc\" \"src/emmy/numerical/quadrature.html\", \"src/emmy/numerical/quadrature/infinite.cljc\" \"src/emmy/numerical/quadrature/infinite.html\", \"src/emmy/mechanics/routhian.cljc\" \"src/emmy/mechanics/routhian.html\", \"src/emmy/numerical/quadrature/bulirsch_stoer.cljc\" \"src/emmy/numerical/quadrature/bulirsch_stoer.html\", \"src/emmy/ratio.cljc\" \"src/emmy/ratio.html\", \"src/emmy/calculus/curvature.cljc\" \"src/emmy/calculus/curvature.html\", \"src/emmy/numerical/quadrature/milne.cljc\" \"src/emmy/numerical/quadrature/milne.html\", \"src/emmy/calculus/form_field.cljc\" \"src/emmy/calculus/form_field.html\", \"src/emmy/mechanics/hamilton.cljc\" \"src/emmy/mechanics/hamilton.html\", \"src/emmy/expression/render.cljc\" \"src/emmy/expression/render.html\", \"src/emmy/util/stream.cljc\" \"src/emmy/util/stream.html\", \"src/emmy/calculus/derivative.cljc\" \"src/emmy/calculus/derivative.html\", \"dev/emmy/notebook.clj\" \"\", \"src/emmy/util/aggregate.cljc\" \"src/emmy/util/aggregate.html\", \"src/emmy/numerical/quadrature/romberg.cljc\" \"src/emmy/numerical/quadrature/romberg.html\", \"src/emmy/numerical/quadrature/boole.cljc\" \"src/emmy/numerical/quadrature/boole.html\", \"src/emmy/pattern/match.cljc\" \"src/emmy/pattern/match.html\", \"src/emmy/calculus/metric.cljc\" \"src/emmy/calculus/metric.html\", \"src/emmy/polynomial/gcd.cljc\" \"src/emmy/polynomial/gcd.html\", \"src/emmy/numerical/quadrature/substitute.cljc\" \"src/emmy/numerical/quadrature/substitute.html\", \"src/emmy/euclid.cljc\" \"src/emmy/euclid.html\", \"src/emmy/calculus/vector_calculus.cljc\" \"src/emmy/calculus/vector_calculus.html\", \"src/emmy/collection.cljc\" \"src/emmy/collection.html\", \"src/emmy/numerical/quadrature/simpson.cljc\" \"src/emmy/numerical/quadrature/simpson.html\", \"src/emmy/calculus/basis.cljc\" \"src/emmy/calculus/basis.html\", \"src/emmy/util/vector_set.cljc\" \"src/emmy/util/vector_set.html\", \"src/emmy/pattern/syntax.cljc\" \"src/emmy/pattern/syntax.html\", \"src/emmy/numerical/quadrature/common.cljc\" \"src/emmy/numerical/quadrature/common.html\", \"src/emmy/sr/boost.cljc\" \"src/emmy/sr/boost.html\", \"src/emmy/calculus/coordinate.cljc\" \"src/emmy/calculus/coordinate.html\", \"src/emmy/calculus/covariant.cljc\" \"src/emmy/calculus/covariant.html\", \"src/emmy/numerical/derivative.cljc\" \"src/emmy/numerical/derivative.html\", \"src/emmy/simplify/rules.cljc\" \"src/emmy/simplify/rules.html\", \"src/emmy/mechanics/rigid.cljc\" \"src/emmy/mechanics/rigid.html\", \"src/emmy/quaternion.cljc\" \"src/emmy/quaternion.html\", \"src/emmy/rational_function/interpolate.cljc\" \"src/emmy/rational_function/interpolate.html\", \"src/emmy/numerical/unimin/bracket.cljc\" \"src/emmy/numerical/unimin/bracket.html\", \"src/emmy/numerical/roots/bisect.cljc\" \"src/emmy/numerical/roots/bisect.html\", \"src/emmy/numerical/quadrature/simpson38.cljc\" \"src/emmy/numerical/quadrature/simpson38.html\", \"src/emmy/mechanics/lagrange.cljc\" \"src/emmy/mechanics/lagrange.html\", \"src/emmy/expression/analyze.cljc\" \"src/emmy/expression/analyze.html\", \"src/emmy/calculus/frame.cljc\" \"src/emmy/calculus/frame.html\", \"src/emmy/pattern/consequence.cljc\" \"src/emmy/pattern/consequence.html\", \"src/emmy/env.cljc\" \"src/emmy/env.html\", \"src/emmy/util.cljc\" \"src/emmy/util.html\", \"src/emmy/matrix.cljc\" \"src/emmy/matrix.html\", \"src/emmy/sci/macros.cljc\" \"src/emmy/sci/macros.html\", \"src/emmy/numerical/unimin/golden.cljc\" \"src/emmy/numerical/unimin/golden.html\", \"src/emmy/special/factorial.cljc\" \"src/emmy/special/factorial.html\", \"src/emmy/polynomial/impl.cljc\" \"src/emmy/polynomial/impl.html\", \"src/emmy/modint.cljc\" \"src/emmy/modint.html\"}, :expanded-paths [\"src/emmy/series/impl.cljc\" \"src/emmy/sr/boost.cljc\" \"src/emmy/sr/frames.cljc\" \"src/emmy/expression/compile.cljc\" \"src/emmy/expression/cse.cljc\" \"src/emmy/expression/render.cljc\" \"src/emmy/expression/analyze.cljc\" \"src/emmy/abstract/number.cljc\" \"src/emmy/abstract/function.cljc\" \"src/emmy/numerical/roots/bisect.cljc\" \"src/emmy/numerical/ode.cljc\" \"src/emmy/numerical/minimize.cljc\" \"src/emmy/numerical/quadrature/simpson38.cljc\" \"src/emmy/numerical/quadrature/simpson.cljc\" \"src/emmy/numerical/quadrature/milne.cljc\" \"src/emmy/numerical/quadrature/common.cljc\" \"src/emmy/numerical/quadrature/boole.cljc\" \"src/emmy/numerical/quadrature/bulirsch_stoer.cljc\" \"src/emmy/numerical/quadrature/midpoint.cljc\" \"src/emmy/numerical/quadrature/substitute.cljc\" \"src/emmy/numerical/quadrature/riemann.cljc\" \"src/emmy/numerical/quadrature/trapezoid.cljc\" \"src/emmy/numerical/quadrature/romberg.cljc\" \"src/emmy/numerical/quadrature/adaptive.cljc\" \"src/emmy/numerical/quadrature/infinite.cljc\" \"src/emmy/numerical/multimin/nelder_mead.cljc\" \"src/emmy/numerical/unimin/bracket.cljc\" \"src/emmy/numerical/unimin/brent.cljc\" \"src/emmy/numerical/unimin/golden.cljc\" \"src/emmy/numerical/derivative.cljc\" \"src/emmy/numerical/quadrature.cljc\" \"src/emmy/pattern/consequence.cljc\" \"src/emmy/pattern/rule.cljc\" \"src/emmy/pattern/match.cljc\" \"src/emmy/pattern/syntax.cljc\" \"src/emmy/calculus/map.cljc\" \"src/emmy/calculus/frame.cljc\" \"src/emmy/calculus/manifold.cljc\" \"src/emmy/calculus/vector_field.cljc\" \"src/emmy/calculus/indexed.cljc\" \"src/emmy/calculus/vector_calculus.cljc\" \"src/emmy/calculus/coordinate.cljc\" \"src/emmy/calculus/hodge_star.cljc\" \"src/emmy/calculus/covariant.cljc\" \"src/emmy/calculus/curvature.cljc\" \"src/emmy/calculus/connection.cljc\" \"src/emmy/calculus/form_field.cljc\" \"src/emmy/calculus/derivative.cljc\" \"src/emmy/calculus/metric.cljc\" \"src/emmy/calculus/basis.cljc\" \"src/emmy/simplify/rules.cljc\" \"src/emmy/special/factorial.cljc\" \"src/emmy/special/elliptic.cljc\" \"src/emmy/polynomial/gcd.cljc\" \"src/emmy/polynomial/impl.cljc\" \"src/emmy/polynomial/factor.cljc\" \"src/emmy/polynomial/richardson.cljc\" \"src/emmy/polynomial/exponent.cljc\" \"src/emmy/polynomial/interpolate.cljc\" \"src/emmy/algebra/fold.cljc\" \"src/emmy/mechanics/time_evolution.cljc\" \"src/emmy/mechanics/hamilton.cljc\" \"src/emmy/mechanics/rotation.cljc\" \"src/emmy/mechanics/routhian.cljc\" \"src/emmy/mechanics/rigid.cljc\" \"src/emmy/mechanics/lagrange.cljc\" \"src/emmy/mechanics/noether.cljc\" \"src/emmy/sci/macros.cljc\" \"src/emmy/util/permute.cljc\" \"src/emmy/util/logic.cljc\" \"src/emmy/util/stream.cljc\" \"src/emmy/util/aggregate.cljc\" \"src/emmy/util/def.cljc\" \"src/emmy/util/stopwatch.cljc\" \"src/emmy/util/vector_set.cljc\" \"src/emmy/rational_function/interpolate.cljc\" \"src/emmy/collection.cljc\" \"src/emmy/complex.cljc\" \"src/emmy/euclid.cljc\" \"src/emmy/env.cljc\" \"src/emmy/function.cljc\" \"src/emmy/generic.cljc\" \"src/emmy/matrix.cljc\" \"src/emmy/modint.cljc\" \"src/emmy/numbers.cljc\" \"src/emmy/numsymb.cljc\" \"src/emmy/quaternion.cljc\" \"src/emmy/ratio.cljc\" \"src/emmy/rational_function.cljc\" \"src/emmy/sci.cljc\" \"src/emmy/series.cljc\" \"src/emmy/util.cljc\" \"dev/emmy/notebook.clj\"], :cname \"emmy.mentat.org\", :watch-paths [\"src\" \"dev\"], :report-fn #object[nextjournal.clerk.builder$stdout_reporter 0x15091131 \"nextjournal.clerk.builder$stdout_reporter@15091131\"]}".replaceAll('nextjournal.clerk.view/escape-closing-script-tag', 'script')
let opts = nextjournal.clerk.sci_env.read_string(state)
nextjournal.clerk.static_app.init(opts)
</script></body></html>