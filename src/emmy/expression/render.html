<!DOCTYPE html>
<html><head><title>Clerk</title><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta property="og:description"><meta property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><script src="https://cdn.tailwindcss.com?plugins=typography" type="text/javascript"></script><script>tailwind.config = {
  darkMode: "class",
  content: ["./tw/viewer.js", "./tw/**/*.edn"],
  safelist: ['dark'],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["Fira Sans", "-apple-system", "BlinkMacSystemFont", "sans-serif"],
      serif: ["PT Serif", "serif"],
      mono: ["Fira Mono", "monospace"]
    }
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
</script><style type="text/tailwindcss">@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 18px;
  }
  @media (max-width: 600px) {
    html {
      font-size: 16px;
    }
  }
  .font-condensed { font-family: "Fira Sans Condensed", sans-serif; }
  .font-inter     { font-family: "Inter", sans-serif; }
  body {
    @apply font-serif antialiased text-gray-900 sm:overscroll-y-none;
  }
  code, .code {
    @apply font-mono text-sm text-gray-900 bg-slate-50 px-0.5 py-px rounded dark:bg-gray-800;
  }
  code::before, code::after { @apply content-none !important; }
  h1, h3, h4, h5, h6 {
    @apply font-condensed font-bold mt-8 first:mt-0;
  }
  h2 {
    /*We cannot collapse margins due to nesting but we want to*/
    /*keep the h2’s large margin visible*/
    @apply font-condensed font-bold mt-8 first:mt-2;
  }
  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }

  @media print {
      h1 { @apply text-2xl !important; }
      h2 { @apply text-xl !important; }
      h3 { @apply text-lg !important; }
  }

  button { @apply focus:outline-none; }
  strong { @apply font-bold; }
  em     { @apply italic; }
  pre    { @apply m-0 font-mono; }
}

/* Compatibility */
/* --------------------------------------------------------------- */
/* TODO: Verify which colors are in use and replace with Tailwind
   colors accordingly. Move Nj-specific styles out of here. */

:root {
  --teal-color: #31afd0;
  --dark-teal-color: #095960;
  --near-black-color: #2e2e2c;
  --red-color: #d64242;
  --dark-blue-color: #1f2937;
  --dark-blue-60-color: rgba(28, 42, 56, 0.6);
  --gray-panel-color: rgba(239, 241, 245, 1.000);
  --brand-color: var(--dark-blue-color);
  --link-color: #5046e4;
  --command-bar-selected-color: var(--teal-color);
}

.serif      { @apply font-serif; }
.sans-serif { @apply font-sans; }
.monospace  { @apply font-mono; }
.inter      { @apply font-inter; }

.border-color-teal { border-color: var(--dark-teal-color); }
.teal { color: var(--teal-color); }
.bg-dark-blue { background: var(--dark-blue-color); }
.bg-dark-blue-60 { background: rgba(28, 42, 56, 0.6); }
.bg-gray-panel { background: var(--gray-panel-color); }
.text-dark-blue  { color: var(--dark-blue-color); }
.text-dark-blue-60 { color: var(--dark-blue-60-color); }
.border-dark-blue-30 { border-color: rgba(28, 42, 56, 0.6); }
.text-brand { color: var(--dark-blue-color); }
.bg-brand { background: var(--dark-blue-color); }
.text-selected { color: white; }
.red { color: var(--red-color); }

/* Disclose Button */
/* --------------------------------------------------------------- */

.disclose {
  @apply content-none border-solid cursor-pointer inline-block relative mr-[3px] top-[-2px] transition-all;
  border-color: var(--near-black-color) transparent;
  border-width: 6px 4px 0;
}
.disclose:hover {
  border-color: var(--near-black-color) transparent;
}
.dark .disclose,
.dark .disclose:hover {
  border-color: white transparent;
}
.disclose.collapsed {
  @apply rotate-[-90deg];
}

/* Layout */
/* --------------------------------------------------------------- */

.page {
  @apply max-w-5xl mx-auto px-12 box-border flex-shrink-0;
}
.max-w-prose { @apply max-w-[46rem] !important; }
.max-w-wide  { @apply max-w-3xl !important; }

/* List Styles */
/* --------------------------------------------------------------- */

.task-list-item + .task-list-item,
.markdown-viewer ul ul {
  @apply mt-1 mb-0;
}

/* compact TOC */
.markdown-viewer .toc ul {
  list-style: none;
  @apply my-1;
}

/* Code Viewer */
/* --------------------------------------------------------------- */

.code-viewer {
  @apply font-mono bg-slate-100 rounded-sm text-sm overflow-x-auto dark:bg-gray-800;
}
.code-listing  {
    @apply -ml-8 -mr-8 relative !important;
}
.code-viewer .cm-content {
  @apply py-4 px-8;
}
@media (min-width: 960px){
    .notebook-viewer .code-viewer .cm-content {
        @apply py-4 pl-12;
    }
    .notebook-viewer .code-listing {
        width: 48rem !important;
        @apply -ml-12 mr-0 !important;
    }
}
/* Don’t show focus outline when double-clicking cell in Safari */
.cm-scroller { @apply focus:outline-none; }

/* Syntax Highlighting */
/* --------------------------------------------------------------- */

.inspected-value { @apply text-xs font-mono leading-[1.25rem]; }
.cmt-strong, .cmt-heading { @apply font-bold; }
.cmt-italic, .cmt-emphasis { @apply italic; }
.cmt-strikethrough { @apply line-through; }
.cmt-link { @apply underline; }
.untyped-value { @apply whitespace-nowrap; }

.cm-editor, .cmt-default, .result-viewer {
  @apply text-slate-800 dark:text-slate-300;
}
.cmt-keyword {
  @apply text-purple-800 dark:text-pink-400;
}
.cmt-atom, .cmt-bool, .cmt-url, .cmt-contentSeparator, .cmt-labelName {
  @apply text-blue-900 dark:text-blue-300;
}
.cmt-inserted, .cmt-literal {
  @apply text-emerald-700 dark:text-emerald-200;
}
.cmt-string, .cmt-deleted {
  @apply text-rose-700 dark:text-sky-300;
}
.cmt-italic.cmt-string {
  @apply dark:text-sky-200;
}
.cmt-regexp, .cmt-escape {
  @apply text-orange-500 dark:text-orange-300;
}
.cmt-variableName {
  @apply text-blue-800 dark:text-sky-300;
}
.cmt-typeName, .cmt-namespace {
  @apply text-emerald-600 dark:text-emerald-300;
}
.cmt-className {
  @apply text-teal-600 dark:text-teal-200;
}
.cmt-macroName {
  @apply text-teal-700 dark:text-teal-200;
}
.cmt-propertyName {
  @apply text-blue-700 dark:text-blue-200;
}
.cmt-comment {
  @apply text-slate-500 dark:text-slate-400;
}
.cmt-meta {
  @apply text-slate-600 dark:text-slate-400;
}
.cmt-invalid {
  @apply text-red-500 dark:text-red-300;
}

.result-data {
  @apply font-mono text-sm overflow-x-auto whitespace-nowrap leading-normal;
}
.result-data::-webkit-scrollbar, .path-nav::-webkit-scrollbar {
  @apply h-0;
}
.result-data-collapsed {
  @apply whitespace-nowrap;
}
.result-data-field {
  @apply ml-4 whitespace-nowrap;
}
.result-data-field-link{
  @apply ml-4 whitespace-nowrap cursor-pointer;
}
.result-data-field-link:hover {
  @apply text-black bg-black/5;
}
.result-text-empty {
  color: rgba(0,0,0,.3);
}
.browsify-button:hover {
  box-shadow: -2px 0 0 2px #edf2f7;
}

/* Prose */
/* --------------------------------------------------------------- */

.notebook-viewer,
.markdown-viewer {
  @apply prose
    dark:prose-invert
    prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline
    dark:prose-a:text-blue-300
    prose-p:mt-4 prose-p:leading-snug
    prose-ol:mt-4 prose-ol:mb-6 prose-ol:leading-snug
    prose-ul:mt-4 prose-ul:mb-6 prose-ul:leading-snug
    prose-blockquote:mt-4 prose-blockquote:leading-snug
    prose-hr:mt-6 prose-hr:border-t-2 prose-hr:border-solid prose-hr:border-slate-200
    prose-figure:mt-4
    prose-figcaption:mt-2 prose-figcaption:text-xs
    prose-headings:mb-4
    prose-table:mt-0
    prose-th:mb-0
    prose-img:my-0
    prose-code:font-medium prose-code:bg-slate-100
    max-w-none;
}
.markdown-viewer blockquote p:first-of-type:before,
.markdown-viewer blockquote p:last-of-type:after {
  @apply content-none;
}
.markdown-node-viewer.result-viewer.fragment-item {
    @apply mb-0 !important;
}

/* Images */
/* --------------------------------------------------------------- */


/* Todo Lists */
/* --------------------------------------------------------------- */

.contains-task-list {
  @apply pl-6 list-none;
}
.contains-task-list input[type="checkbox"] {
  @apply appearance-none h-4 w-4 rounded border border-slate-200 relative mr-[0.3rem] ml-[-1.5rem] top-[0.15rem];
}
.contains-task-list input[type="checkbox"]:checked {
  @apply border-indigo-600 bg-indigo-600 bg-no-repeat bg-contain;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

/* Markdown TOC */
/* --------------------------------------------------------------- */

.markdown-viewer .toc      { @apply mt-4; }
.markdown-viewer h1 + .toc { @apply mt-8; }

.markdown-viewer .toc h1,
.markdown-viewer .toc h2,
.markdown-viewer .toc h3,
.markdown-viewer .toc h4,
.markdown-viewer .toc h5,
.markdown-viewer .toc h6 {
  @apply text-base text-indigo-600 font-sans my-0;
}
.markdown-viewer .toc a {
  @apply text-indigo-600 font-normal no-underline hover:underline;
}
.markdown-viewer .toc li    { @apply m-0; }
.markdown-viewer .toc ul ul { @apply pl-4; }

/* Notebook Spacing */
/* --------------------------------------------------------------- */

.notebook-viewer { @apply py-16; }
#clerk-static-app .notebook-viewer { @apply pt-[0.8rem] pb-16; }
.markdown-viewer *:first-child:not(.code-viewer):not(li):not(h2):not(.sidenote) { @apply mt-0; }
/*.viewer + .viewer { @apply mt-6; }*/
.viewer + .result-viewer { @apply mt-0; }
.code-viewer + .result-viewer { @apply mt-3; }
.markdown-viewer + .markdown-viewer { @apply mt-0; }

/* Sidenotes */
/* --------------------------------------------------------------- */

.sidenote-ref {
  @apply top-[-0.5em] w-auto h-auto inline border-0 bg-transparent m-0 pointer-events-none;
}
.sidenote {
  @apply block font-sans text-xs mt-4 bg-slate-100 dark:bg-slate-800 p-4;
  font-style: normal;
  font-weight: normal;
}
.sidenote-container {
  @apply mb-4;
}
@media (min-width: 860px) {
  .sidenote sup { @apply inline; }
  .sidenote-column {
    @apply w-[165px] absolute right-0 top-0 -mr-[205px];
  }
  .sidenote {
    @apply bg-transparent dark:bg-transparent p-0;
  }
  .sidenote:first-child {
    @apply mt-1;
  }
  .sidenotes-layout .markdown-viewer {
    @apply pr-[241px];
  }
  .sidenote-container {
    @apply relative mb-0;
  }
  .sidenotes-layout h1 {
    @apply w-[756px] !important;
  }
}
.code-viewer + .viewer:not(.code-viewer):not(.code-viewer-folded),
.code-viewer-folded + .viewer:not(.code-viewer):not(.code-viewer-folded),
.result-viewer:not(.markdown-node-viewer) + .result-viewer {
  @apply mt-2;
}
.code-viewer + .code-viewer-folded {
  @apply mt-4;
}
.result-viewer {
  @apply leading-tight mb-6;
}
.code-viewer.fragment-item.result-viewer {
  @apply mb-0 !important;
}
.result-viewer figure {
  @apply mt-0 !important;
}
@media (min-width: 768px) {
  .devcard-desc > div {
    @apply max-w-full m-0;
  }
}

/* Command Palette */
/* --------------------------------------------------------------- */

.nj-commands-input {
  @apply bg-transparent text-white;
}
.nj-context-menu-item:hover:not([disabled]) {
  @apply cursor-pointer;
  background-color: rgba(255,255,255,.14);
}

/* Devdocs */
/* --------------------------------------------------------------- */

.logo, .logo-white {
  @apply block indent-[-999em];
  background: url(/images/nextjournal-logo.svg) center center no-repeat;
}
.devdocs-body {
  @apply font-inter;
}

/* Workarounds */
/* --------------------------------------------------------------- */

/* Fixes vega viewer resizing into infinity */
.vega-embed .chart-wrapper { @apply h-auto !important; }
/* fixes fraction separators being overridden by tw’s border-color */
.katex * { @apply border-black; }

@media print {
    .dark-mode-toggle,
    .toc-toggle { @apply hidden; }
    .notebook-viewer { @apply pt-0; font-size: 12pt !important; margin-left: 0 !important; }
    .code-viewer .cm-content,
    .viewer-code .cm-content { @apply whitespace-pre-wrap !important; overflow: none; }
    .code-viewer .cm-line { font-size: 12pt !important; }
    html * { page-break-inside: avoid !important; }
    .toc-panel { @apply hidden; }
}
</style><script src="https://storage.clerk.garden/nextjournal/clerk-assets@4NdW4yYfmUzzw9xCkmyrJ75nH75d/viewer.js?immutable=true" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"></head><body><div id="clerk-static-app"></div><script type="module">let state = "{:out-path \"public/build\", :path->doc {\"src/emmy/expression/render.cljc\" {:path [], :nextjournal/value {:toc {:type :toc}, :sidenotes? false, :toc-visibility false, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns emmy.expression.render), :auto-expand-results? nil, :scope emmy.expression.render, :bundle? false, :open-graph {:type \"article:clerk\", :title nil, :description nil}, :blocks [{:path [], :nextjournal/value \"(ns emmy.expression.render\\n  \\\"Functions and utilities for rendering symbolic expressions to various backends\\n  like LaTeX, infix or Javascript.\\\"\\n  (:require [clojure.set :as set]\\n            [clojure.string :as s]\\n            [clojure.zip :as z]\\n            [emmy.generic :as g]\\n            [emmy.pattern.rule :as R :refer [=>]]\\n            [emmy.ratio :as r]\\n            [emmy.simplify.rules :refer [negative-number?]]\\n            [emmy.util :as u]\\n            [emmy.value :as v]))\", :nextjournal/opts {:id \"emmy.expression.render/anon-expr-5ds6189vrLitBN8MREtYWW8ofM4STw-code\", :loc {:line 3, :end-line 14, :column 1, :end-column 33}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value \"(def ^:private rewrite-trig-powers\\n  \\\"Historical preference is to write `sin^2(x)` rather than `(sin(x))^2`.\\\"\\n  (R/choice\\n   (R/rule (expt ((? f #{'sin 'cos 'tan}) ?x) 2) => ((expt (? f) 2) ?x))\\n   (R/return nil)))\", :nextjournal/opts {:id \"emmy.expression.render/rewrite-trig-powers-code\", :loc {:line 16, :end-line 20, :column 1, :end-column 20}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.pattern.rule$choice_STAR_$fn__42040 0x48232972 \\\"emmy.pattern.rule$choice_STAR_$fn__42040@48232972\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/rewrite-trig-powers-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/rewrite-trig-powers-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:private rewrite-negation\\n  \\\"The simplifier returns sums of products; for negative summands the simplifier\\n  negates by wrapping with `(* -1 ...)`. For rendering, we prefer to use a unary\\n  minus.\\\"\\n  (R/ruleset\\n   (* (? _ #{-1 -1.0}) ?x)               => (u- ?x)\\n   (* (? _ #{-1 -1.0}) ??x)              => (u- (* ??x))\\n   (* (? ?c negative-number?) ?x)  => (u- (* (? #(g/negate (% '?c))) ?x))\\n   (* (? ?c negative-number?) ??x) => (u- (* (? #(g/negate (% '?c))) ??x))))\", :nextjournal/opts {:id \"emmy.expression.render/rewrite-negation-code\", :loc {:line 22, :end-line 30, :column 1, :end-column 77}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.AFunction$1 0x55f251c6 \\\"clojure.lang.AFunction$1@55f251c6\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/rewrite-negation-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/rewrite-negation-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn- render-infix-ratio\\n  \\\"renders a pair of the form `[numerator denominator]` as a infix ratio of the\\n  form `num/denom`.\\n\\n  If the pair contains only one entry `x`, it's coerced to `[1 x]` (and treated\\n  as a denominator).\\\"\\n  [[num denom :as xs]]\\n  (let [n (count xs)]\\n    (cond (and (= n 1) (v/integral? num))\\n          (str \\\"1/\\\" num)\\n\\n          (and (= n 2)\\n               (v/integral? num)\\n               (v/integral? denom))\\n          (str num \\\"/\\\" denom))))\", :nextjournal/opts {:id \"emmy.expression.render/render-infix-ratio-code\", :loc {:line 32, :end-line 46, :column 1, :end-column 33}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$render_infix_ratio 0x358844c4 \\\"emmy.expression.render$render_infix_ratio@358844c4\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/render-infix-ratio-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/render-infix-ratio-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn- make-infix-renderer\\n  \\\"Base function for infix renderers. This is meant to be specialized via\\n  options for the treatment desired. Returns a rendering function. The options are:\\n\\n  - `precedence-map`: a map from (symbol or keyword) to numbers. Higher numbers\\n    mean higher precedence. This guides parenthesization.\\n  - `juxtapose-multiply`: a string that will be placed between factors in a\\n    product. Defaults to `*`.\\n  - `infix?` A function mapping symbols to boolean, used to decide if a function\\n    application should be written as `x f y` or `f(x, y)`.\\n  - `render-primitive` is a function used to render symbols, numeric constants\\n    etc. into string form.\\n  - `parenthesize` is a function used to wrap parens around objects when\\n    needed. It defaults to the obvious thing.\\n  - `special-handlers` is a map from symbol to a function of operator and\\n    arguments, used to provide custom rendering for things like exponentiation\\n    which might not be rendered either as infix or prefix.\\n  - `rename-functions` is a map supplying replacement function names to be used\\n    just before the expression is written.\\\"\\n  [& {:keys [juxtapose-multiply special-handlers infix? render-primitive\\n             rename-functions parenthesize precedence-map rewrite-trig-squares]\\n      :or {special-handlers {}\\n           parenthesize #(str \\\"(\\\" % \\\")\\\")\\n           juxtapose-multiply \\\" * \\\"\\n           rewrite-trig-squares false\\n           rename-functions {}\\n           infix? {}}}]\\n  (letfn [(ratio-expr? [op [num denom]]\\n            (and (= '/ op)\\n                 (v/integral? num)\\n                 (or (nil? denom)\\n                     (v/integral? denom))))\\n          (precedence [op] (or (precedence-map op)\\n                               (cond (seq? op)\\n                                     ;; Some special cases:\\n                                     ;; - give (expt X n) the precedence of X\\n                                     ;; - give (partial ...) the precedence of D\\n                                     ;; - otherwise (...) has the precedence of application\\n                                     (cond (and (= 3 (count op))\\n                                                (= 'expt (first op))) (recur (second op))\\n                                           (= 'partial (first op)) (precedence-map 'D)\\n                                           :else (precedence-map :apply))\\n                                     (symbol? op) (precedence-map :apply)\\n                                     :else 0)))\\n          (precedence> [a b] (> (precedence a) (precedence b)))\\n          (precedence<= [a b] (not (precedence> a b)))\\n          (parenthesize-if [b x]\\n            (if b (parenthesize x) x))\\n\\n          (maybe-rename-function [f]\\n            (or (rename-functions f) f))\\n\\n          (maybe-rewrite-negation [loc]\\n            (let [result (rewrite-negation (z/node loc))]\\n              (if (identical? loc result)\\n                loc\\n                (z/replace loc result))))\\n\\n          (maybe-rewrite-trig-squares [loc]\\n            (if-let [result (and rewrite-trig-squares\\n                                 (rewrite-trig-powers\\n                                  (z/node loc)))]\\n              (z/replace loc result)\\n              loc))\\n\\n          (render-unary-node [op arg upper-op]\\n            (case op\\n              (+ *) (str arg)\\n              u- (if (= upper-op '+)\\n                   {:hint :unary-minus :term arg}\\n                   (str \\\"- \\\" arg))\\n              / (if (v/integral? arg)\\n                  (str \\\"1/\\\" arg)\\n                  (str \\\"1 / \\\" arg))\\n              (str op \\\" \\\" arg)))\\n\\n          (render-loc [loc]\\n            (if (z/branch? loc)\\n              ;; then the first child is the function and the rest are the\\n              ;; arguments.\\n              (let [fn-loc (-> loc maybe-rewrite-negation maybe-rewrite-trig-squares z/next)\\n                    arg-loc (loop [a (-> fn-loc z/right)]\\n                              (let [a' (z/replace a (render-loc a))]\\n                                (if-let [r (z/right a')]\\n                                  (recur r)\\n                                  (z/up a'))))\\n                    [op & args] (z/node arg-loc)\\n                    upper-op (and (z/up arg-loc)\\n                                  (-> arg-loc z/leftmost z/node))]\\n                (if (infix? op)\\n                  (parenthesize-if\\n                   (and (infix? upper-op)\\n                        (and (precedence<= op upper-op)\\n                             ;; respect precedence, except in the special cases\\n                             ;; of ratios rendered as calls to `/`:\\n                             ;;\\n                             ;; (/ x), (/ x y)\\n                             ;;\\n                             ;; which should render as 1/x or x/y, or\\n                             ;;\\n                             ;; (- (* a b c...))\\n                             ;;\\n                             ;; which we would prefer to write as \\\"- a b c...\\\"\\n                             ;; rather than \\\"- (a b c...)\\\" as strict precedence\\n                             ;; rules would require.\\n                             (not (or (and (= op '*) (= upper-op 'u-))\\n                                      (ratio-expr? op args)))))\\n\\n                   (or (when-let [handler (special-handlers op)]\\n                         (handler args))\\n\\n                       (cond\\n                         (= (count args) 1)\\n                         (render-unary-node op (first args) upper-op)\\n\\n                         ;; Special handling for + over unary -. The first term\\n                         ;; should start with - if it is unary minus, no sign\\n                         ;; otherwise. The remaining terms should follow +/-\\n                         ;; according to their unary negation state. Unary negations\\n                         ;; within sums are tagged as such by rewrite-negation.\\n                         (= op '+)\\n                         (let [u-term (fn [t] (let [{:keys [hint term]} t]\\n                                               (if hint\\n                                                 [(if (= hint :unary-minus) \\\"-\\\" \\\"+\\\") term]\\n                                                 [\\\"+\\\" t])))\\n                               [t & terms] (map u-term args)\\n                               ;; hack any initial \\\"+\\\" off of the first term.\\n                               ;; If the first term is unary minus, pad on the\\n                               ;; right but not the left. Pad the intercalary\\n                               ;; operators with spaces on both sides.\\n                               terms (cons (cond\\n                                             (= (first t) \\\"+\\\")\\n                                             (subvec t 1)\\n\\n                                             (= (first t) \\\"-\\\")\\n                                             (assoc t 0 \\\"- \\\")\\n\\n                                             :else t)\\n                                           (for [[pm t] terms] [(str \\\" \\\" pm \\\" \\\") t]))]\\n                           (transduce cat str terms))\\n\\n                         :else\\n                         (let [sep (case op\\n                                     * (or juxtapose-multiply \\\" * \\\")\\n                                     expt \\\"^\\\"\\n                                     (str \\\" \\\" op \\\" \\\"))]\\n                           (transduce (interpose sep) str args)))))\\n\\n                  ;; case: op is not infix.\\n                  ;; The _whole_ result may need to be parenthesized, though, if it\\n                  ;; is part of an infix expression with an operator with very high\\n                  ;; precedence (in practice, this means exponentiation)\\n                  (parenthesize-if\\n                   (and upper-op\\n                        (infix? upper-op)\\n                        (precedence<= op upper-op))\\n                   (or (and (special-handlers op)\\n                            ((special-handlers op) args))\\n                       (str (parenthesize-if (and (z/branch? fn-loc)\\n                                                  (precedence> :apply (z/node (z/next fn-loc))))\\n                                             (maybe-rename-function (render-loc (z/next arg-loc))))\\n                            (parenthesize-if (or (precedence<= op :apply)\\n                                                 (> (count args) 1)\\n                                                 (z/branch? (z/right fn-loc)))\\n                                             (s/join \\\", \\\" args)))))))\\n\\n              ;; primitive case\\n              (let [n (z/node loc)]\\n                (or (and render-primitive (render-primitive n))\\n                    n))))]\\n    (fn [expr]\\n      (let [result (-> (v/freeze expr)\\n                       (z/seq-zip)\\n                       (render-loc))]\\n        (if (string? result)\\n          result\\n          (str result))))))\", :nextjournal/opts {:id \"emmy.expression.render/make-infix-renderer-code\", :loc {:line 48, :end-line 224, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$make_infix_renderer 0x7a965b6a \\\"emmy.expression.render$make_infix_renderer@7a965b6a\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/make-infix-renderer-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/make-infix-renderer-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:private decimal-superscripts\\n  [\\\\⁰ \\\\¹ \\\\² \\\\³ \\\\⁴ \\\\⁵ \\\\⁶ \\\\⁷ \\\\⁸ \\\\⁹])\", :nextjournal/opts {:id \"emmy.expression.render/decimal-superscripts-code\", :loc {:line 226, :end-line 227, :column 1, :end-column 35}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value \\⁰, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [1], :nextjournal/value \\¹, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [2], :nextjournal/value \\², :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [3], :nextjournal/value \\³, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [4], :nextjournal/value \\⁴, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [5], :nextjournal/value \\⁵, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [6], :nextjournal/value \\⁶, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [7], :nextjournal/value \\⁷, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [8], :nextjournal/value \\⁸, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [9], :nextjournal/value \\⁹, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}}], :nextjournal/opts {:id \"emmy.expression.render/decimal-superscripts-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}}, :nextjournal/blob-id \"5drHgBiAK1By1yVX43en1pXDEdwTzN\"}, :nextjournal/opts {:id \"emmy.expression.render/decimal-superscripts-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:private decimal-subscripts\\n  [\\\\₀ \\\\₁ \\\\₂ \\\\₃ \\\\₄ \\\\₅ \\\\₆ \\\\₇ \\\\₈ \\\\₉])\", :nextjournal/opts {:id \"emmy.expression.render/decimal-subscripts-code\", :loc {:line 229, :end-line 230, :column 1, :end-column 35}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value \\₀, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [1], :nextjournal/value \\₁, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [2], :nextjournal/value \\₂, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [3], :nextjournal/value \\₃, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [4], :nextjournal/value \\₄, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [5], :nextjournal/value \\₅, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [6], :nextjournal/value \\₆, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [7], :nextjournal/value \\₇, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [8], :nextjournal/value \\₈, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}} {:path [9], :nextjournal/value \\₉, :nextjournal/viewer {:render-fn #viewer-fn (fn [c] [:span.cmt-string.inspected-value \"\\\\\" c]), :hash \"5dtc4WxggFmC5EVSWeZYSjBctnQnT6\"}}], :nextjournal/opts {:id \"emmy.expression.render/decimal-subscripts-result\"}, :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren \"[\", :closing-paren (\"]\"), :page-size 20, :hash \"5dsKpRYUuGnwVK3BPfAoiJqkhVbPzH\"}}, :nextjournal/blob-id \"5drV3Up9FBS7QX8ScdrcBH6ovRLNU1\"}, :nextjournal/opts {:id \"emmy.expression.render/decimal-subscripts-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:private subscript-pattern\\n  #\\\"(.+)_([0-9a-zA-ZϖγηΦνΩδυσιΔρϵωϱςψΠπϑΞκφχζΨτΓΛΘΥμθαℓβΣξλφε]+)$\\\")\", :nextjournal/opts {:id \"emmy.expression.render/subscript-pattern-code\", :loc {:line 232, :end-line 233, :column 1, :end-column 68}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:nextjournal/value {:tag {:path [:tag], :nextjournal/value \"\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren \"\\\"\", :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}, :value {:path [:value], :nextjournal/value \"(.+)_([0-9a-zA-ZϖγηΦνΩδυσιΔρϵωϱςψΠπϑΞκφχζΨτΓΛΘΥμθαℓβΣξλφε]+)$\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren \"\\\"\", :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/tagged-value-viewer, :render-fn #viewer-fn (fn [{:keys [tag value space?]} opts] (nextjournal.clerk.render/render-tagged-value {:space? (:nextjournal/value space?)} (str \"#\" (:nextjournal/value tag)) [nextjournal.clerk.render/inspect-presented value])), :hash \"5dt2ToxEXJxqfGNfAKyGTqPwbuJJ38\"}}, :nextjournal/blob-id \"5dr4hgZdzPgQx2HpgKiWuXjFhwS1rb\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:private superscript-pattern\\n  #\\\"(.+)↑([0-9a-zA-ZϖγηΦνΩδυσιΔρϵωϱςψΠπϑΞκφχζΨτΓΛΘΥμθαℓβΣξλφε]+)$\\\")\", :nextjournal/opts {:id \"emmy.expression.render/superscript-pattern-code\", :loc {:line 235, :end-line 236, :column 1, :end-column 68}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:nextjournal/value {:tag {:path [:tag], :nextjournal/value \"\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren \"\\\"\", :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}, :value {:path [:value], :nextjournal/value \"(.+)↑([0-9a-zA-ZϖγηΦνΩδυσιΔρϵωϱςψΠπϑΞκφχζΨτΓΛΘΥμθαℓβΣξλφε]+)$\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren \"\\\"\", :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/tagged-value-viewer, :render-fn #viewer-fn (fn [{:keys [tag value space?]} opts] (nextjournal.clerk.render/render-tagged-value {:space? (:nextjournal/value space?)} (str \"#\" (:nextjournal/value tag)) [nextjournal.clerk.render/inspect-presented value])), :hash \"5dt2ToxEXJxqfGNfAKyGTqPwbuJJ38\"}}, :nextjournal/blob-id \"5ds1MJgbR7HypSaj1CknpLgpz5Fzkx\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:private non-TeX-greek\\n  \\\"Greek letter names we want to recognize that aren't supported by TeX, mapped to\\n  their unicode characters.\\\"\\n  {\\\"Alpha\\\" \\\"Α\\\"\\n   \\\"Beta\\\" \\\"Β\\\"\\n   \\\"Epsilon\\\" \\\"Ε\\\"\\n   \\\"Zeta\\\" \\\"Ζ\\\"\\n   \\\"Eta\\\" \\\"Η\\\"\\n   \\\"Iota\\\" \\\"Ι\\\"\\n   \\\"Kappa\\\" \\\"Κ\\\"\\n   \\\"Mu\\\" \\\"Μ\\\"\\n   \\\"Nu\\\" \\\"Ν\\\"\\n   \\\"omicron\\\" \\\"ο\\\" \\\"Omicron\\\" \\\"O\\\"\\n   \\\"Rho\\\" \\\"Ρ\\\"\\n   \\\"Tau\\\" \\\"Τ\\\"\\n   \\\"Chi\\\" \\\"Χ\\\"})\", :nextjournal/opts {:id \"emmy.expression.render/non-TeX-greek-code\", :loc {:line 238, :end-line 253, :column 1, :end-column 15}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value \"Alpha\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [0 1], :nextjournal/value \"Α\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value \"Beta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [1 1], :nextjournal/value \"Β\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value \"Chi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [2 1], :nextjournal/value \"Χ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value \"Epsilon\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [3 1], :nextjournal/value \"Ε\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value \"Eta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [4 1], :nextjournal/value \"Η\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value \"Iota\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [5 1], :nextjournal/value \"Ι\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value \"Kappa\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [6 1], :nextjournal/value \"Κ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [7], :nextjournal/value [{:path [7 0], :nextjournal/value \"Mu\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [7 1], :nextjournal/value \"Μ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [8], :nextjournal/value [{:path [8 0], :nextjournal/value \"Nu\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [8 1], :nextjournal/value \"Ν\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [9], :nextjournal/value [{:path [9 0], :nextjournal/value \"Omicron\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [9 1], :nextjournal/value \"O\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:nextjournal/value {:n 10, :path [], :total 14, :offset 10}, :nextjournal/viewer {:name nextjournal.clerk.viewer/elision-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-elision, :hash \"5drduatKq2QJCDhSX1Pu45i4whSPHk\"}}], :nextjournal/opts {:id \"emmy.expression.render/non-TeX-greek-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/map-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-map, :opening-paren \"{\", :closing-paren (\"}\"), :page-size 10, :hash \"5drc3ac5ux7kS4h2vozdxwsrKDqSmn\"}}, :nextjournal/blob-id \"5drJwz6sbXD4DBeXe1HYgja1DVJM4Z\"}, :nextjournal/opts {:id \"emmy.expression.render/non-TeX-greek-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:private sym->unicode\\n  \\\"Mapping of TeX-supported characters (Greek letter names and a few others) to\\n  their corresponding unicode characters.\\\"\\n  {\\\"alpha\\\" \\\"α\\\"\\n   \\\"beta\\\" \\\"β\\\"\\n   \\\"gamma\\\" \\\"γ\\\" \\\"Gamma\\\" \\\"Γ\\\"\\n   \\\"delta\\\" \\\"δ\\\" \\\"Delta\\\" \\\"Δ\\\"\\n   \\\"epsilon\\\" \\\"ε\\\" \\\"varepsilon\\\" \\\"ϵ\\\"\\n   \\\"zeta\\\" \\\"ζ\\\"\\n   \\\"eta\\\" \\\"η\\\"\\n   \\\"theta\\\" \\\"θ\\\" \\\"Theta\\\" \\\"Θ\\\" \\\"vartheta\\\" \\\"ϑ\\\"\\n   \\\"iota\\\" \\\"ι\\\"\\n   \\\"kappa\\\" \\\"κ\\\"\\n   \\\"lambda\\\" \\\"λ\\\" \\\"Lambda\\\" \\\"Λ\\\"\\n   \\\"mu\\\" \\\"μ\\\"\\n   \\\"nu\\\" \\\"ν\\\"\\n   \\\"xi\\\" \\\"ξ\\\" \\\"Xi\\\" \\\"Ξ\\\"\\n   \\\"pi\\\" \\\"π\\\" \\\"Pi\\\" \\\"Π\\\" \\\"varpi\\\" \\\"ϖ\\\"\\n   \\\"rho\\\" \\\"ρ\\\" \\\"varrho\\\" \\\"ϱ\\\"\\n   \\\"sigma\\\" \\\"σ\\\"  \\\"Sigma\\\" \\\"Σ\\\" \\\"varsigma\\\" \\\"ς\\\"\\n   \\\"tau\\\" \\\"τ\\\"\\n   \\\"upsilon\\\" \\\"υ\\\" \\\"Upsilon\\\" \\\"Υ\\\"\\n   \\\"phi\\\" \\\"φ\\\" \\\"Phi\\\" \\\"Φ\\\" \\\"varphi\\\" \\\"φ\\\"\\n   \\\"chi\\\" \\\"χ\\\"\\n   \\\"psi\\\" \\\"ψ\\\" \\\"Psi\\\" \\\"Ψ\\\"\\n   \\\"omega\\\" \\\"ω\\\" \\\"Omega\\\" \\\"Ω\\\"\\n   \\\"ell\\\" \\\"ℓ\\\"\\n   \\\"ldots\\\" \\\"...\\\"})\", :nextjournal/opts {:id \"emmy.expression.render/sym->unicode-code\", :loc {:line 255, :end-line 282, :column 1, :end-column 19}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value \"Delta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [0 1], :nextjournal/value \"Δ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value \"Gamma\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [1 1], :nextjournal/value \"Γ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value \"Lambda\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [2 1], :nextjournal/value \"Λ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value \"Omega\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [3 1], :nextjournal/value \"Ω\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value \"Phi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [4 1], :nextjournal/value \"Φ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value \"Pi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [5 1], :nextjournal/value \"Π\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value \"Psi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [6 1], :nextjournal/value \"Ψ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [7], :nextjournal/value [{:path [7 0], :nextjournal/value \"Sigma\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [7 1], :nextjournal/value \"Σ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [8], :nextjournal/value [{:path [8 0], :nextjournal/value \"Theta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [8 1], :nextjournal/value \"Θ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [9], :nextjournal/value [{:path [9 0], :nextjournal/value \"Upsilon\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [9 1], :nextjournal/value \"Υ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:nextjournal/value {:n 10, :path [], :total 42, :offset 10}, :nextjournal/viewer {:name nextjournal.clerk.viewer/elision-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-elision, :hash \"5drduatKq2QJCDhSX1Pu45i4whSPHk\"}}], :nextjournal/opts {:id \"emmy.expression.render/sym->unicode-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/map-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-map, :opening-paren \"{\", :closing-paren (\"}\"), :page-size 10, :hash \"5drc3ac5ux7kS4h2vozdxwsrKDqSmn\"}}, :nextjournal/blob-id \"5drfqcN2H9uDhbuLch8uCUerRSXkAE\"}, :nextjournal/opts {:id \"emmy.expression.render/sym->unicode-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:private TeX-letters\\n  \\\"Map of of TeX-compatible greek letter names to their \\\\\\\\-prefixed LaTeX code\\n  versions. alpha -> \\\\\\\\alpha, for example.\\\"\\n  (into {} (map (fn [[k]]\\n                  [k (str \\\"\\\\\\\\\\\" k)]))\\n        sym->unicode))\", :nextjournal/opts {:id \"emmy.expression.render/TeX-letters-code\", :loc {:line 284, :end-line 289, :column 1, :end-column 23}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value \"Delta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [0 1], :nextjournal/value \"\\\\Delta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value \"Gamma\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [1 1], :nextjournal/value \"\\\\Gamma\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value \"Lambda\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [2 1], :nextjournal/value \"\\\\Lambda\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value \"Omega\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [3 1], :nextjournal/value \"\\\\Omega\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value \"Phi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [4 1], :nextjournal/value \"\\\\Phi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value \"Pi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [5 1], :nextjournal/value \"\\\\Pi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value \"Psi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [6 1], :nextjournal/value \"\\\\Psi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [7], :nextjournal/value [{:path [7 0], :nextjournal/value \"Sigma\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [7 1], :nextjournal/value \"\\\\Sigma\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [8], :nextjournal/value [{:path [8 0], :nextjournal/value \"Theta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [8 1], :nextjournal/value \"\\\\Theta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [9], :nextjournal/value [{:path [9 0], :nextjournal/value \"Upsilon\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [9 1], :nextjournal/value \"\\\\Upsilon\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:nextjournal/value {:n 10, :path [], :total 42, :offset 10}, :nextjournal/viewer {:name nextjournal.clerk.viewer/elision-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-elision, :hash \"5drduatKq2QJCDhSX1Pu45i4whSPHk\"}}], :nextjournal/opts {:id \"emmy.expression.render/TeX-letters-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/map-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-map, :opening-paren \"{\", :closing-paren (\"}\"), :page-size 10, :hash \"5drc3ac5ux7kS4h2vozdxwsrKDqSmn\"}}, :nextjournal/blob-id \"5drbYD3658oopheUGqwpsUauMibfog\"}, :nextjournal/opts {:id \"emmy.expression.render/TeX-letters-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:private TeX-map\\n  \\\"Full mapping of special-cased TeX symbols to their TeX codes. This includes all\\n  greek letters in both english ('alpha') and unicode ('α') versions, plus a few\\n  more special-cased symbols.\\\"\\n  (let [sym->tex (->> (set/map-invert sym->unicode)\\n                      (u/map-vals #(str \\\"\\\\\\\\\\\" %)))]\\n    (merge TeX-letters\\n           sym->tex\\n           {\\\"sin\\\" \\\"\\\\\\\\sin\\\"\\n            \\\"cos\\\" \\\"\\\\\\\\cos\\\"\\n            \\\"tan\\\" \\\"\\\\\\\\tan\\\"\\n            \\\"asin\\\" \\\"\\\\\\\\arcsin\\\"\\n            \\\"acos\\\" \\\"\\\\\\\\arccos\\\"\\n            \\\"atan\\\" \\\"\\\\\\\\arctan\\\"\\n            \\\"sinh\\\" \\\"\\\\\\\\sinh\\\"\\n            \\\"cosh\\\" \\\"\\\\\\\\sinh\\\"\\n            \\\"tanh\\\" \\\"\\\\\\\\sinh\\\"\\n            \\\"cot\\\" \\\"\\\\\\\\cot\\\"\\n            \\\"sec\\\" \\\"\\\\\\\\sec\\\"\\n            \\\"csc\\\" \\\"\\\\\\\\csc\\\"\\n            \\\"_\\\" \\\"\\\\\\\\_\\\"})))\", :nextjournal/opts {:id \"emmy.expression.render/TeX-map-code\", :loc {:line 291, :end-line 311, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value \"...\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [0 1], :nextjournal/value \"\\\\ldots\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value \"Delta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [1 1], :nextjournal/value \"\\\\Delta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value \"Gamma\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [2 1], :nextjournal/value \"\\\\Gamma\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value \"Lambda\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [3 1], :nextjournal/value \"\\\\Lambda\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value \"Omega\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [4 1], :nextjournal/value \"\\\\Omega\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value \"Phi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [5 1], :nextjournal/value \"\\\\Phi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value \"Pi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [6 1], :nextjournal/value \"\\\\Pi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [7], :nextjournal/value [{:path [7 0], :nextjournal/value \"Psi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [7 1], :nextjournal/value \"\\\\Psi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [8], :nextjournal/value [{:path [8 0], :nextjournal/value \"Sigma\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [8 1], :nextjournal/value \"\\\\Sigma\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [9], :nextjournal/value [{:path [9 0], :nextjournal/value \"Theta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [9 1], :nextjournal/value \"\\\\Theta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:nextjournal/value {:n 10, :path [], :total 96, :offset 10}, :nextjournal/viewer {:name nextjournal.clerk.viewer/elision-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-elision, :hash \"5drduatKq2QJCDhSX1Pu45i4whSPHk\"}}], :nextjournal/opts {:id \"emmy.expression.render/TeX-map-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/map-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-map, :opening-paren \"{\", :closing-paren (\"}\"), :page-size 10, :hash \"5drc3ac5ux7kS4h2vozdxwsrKDqSmn\"}}, :nextjournal/blob-id \"5drBqKorErGHZiGG4j49i1x79oPSxs\"}, :nextjournal/opts {:id \"emmy.expression.render/TeX-map-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn- digit->int\\n  [^Character d]\\n  #?(:clj (Character/digit d 10)\\n     :cljs (js/parseInt d)))\", :nextjournal/opts {:id \"emmy.expression.render/digit->int-code\", :loc {:line 313, :end-line 316, :column 1, :end-column 29}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$digit__GT_int 0x2baf85f3 \\\"emmy.expression.render$digit__GT_int@2baf85f3\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/digit->int-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/digit->int-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn- n->script\\n  \\\"Given an integer, returns a string where each digit of the\\n  integer is used as the index into the replacement map scripts,\\n  which is expected to be indexable by integers in the range [0..9].\\\"\\n  [n scripts]\\n  (apply str (map #(-> % digit->int scripts)\\n                  (str n))))\", :nextjournal/opts {:id \"emmy.expression.render/n->script-code\", :loc {:line 318, :end-line 324, :column 1, :end-column 29}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$n__GT_script 0x6c149d21 \\\"emmy.expression.render$n__GT_script@6c149d21\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/n->script-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/n->script-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:private n->subscript #(n->script % decimal-subscripts))\", :nextjournal/opts {:id \"emmy.expression.render/n->subscript-code\", :loc {:line 326, :end-line 326, :column 1, :end-column 63}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$n__GT_subscript 0x1bcd4a03 \\\"emmy.expression.render$n__GT_subscript@1bcd4a03\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/n->subscript-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/n->subscript-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:private n->superscript #(n->script % decimal-superscripts))\", :nextjournal/opts {:id \"emmy.expression.render/n->superscript-code\", :loc {:line 327, :end-line 327, :column 1, :end-column 67}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$n__GT_superscript 0x53481f1b \\\"emmy.expression.render$n__GT_superscript@53481f1b\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/n->superscript-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/n->superscript-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def infix-sym->unicode\\n  (merge non-TeX-greek\\n         sym->unicode))\", :nextjournal/opts {:id \"emmy.expression.render/infix-sym->unicode-code\", :loc {:line 329, :end-line 331, :column 1, :end-column 24}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [{:path [0], :nextjournal/value [{:path [0 0], :nextjournal/value \"Alpha\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [0 1], :nextjournal/value \"Α\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value \"Beta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [1 1], :nextjournal/value \"Β\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [2], :nextjournal/value [{:path [2 0], :nextjournal/value \"Chi\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [2 1], :nextjournal/value \"Χ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [3], :nextjournal/value [{:path [3 0], :nextjournal/value \"Delta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [3 1], :nextjournal/value \"Δ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [4], :nextjournal/value [{:path [4 0], :nextjournal/value \"Epsilon\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [4 1], :nextjournal/value \"Ε\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [5], :nextjournal/value [{:path [5 0], :nextjournal/value \"Eta\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [5 1], :nextjournal/value \"Η\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [6], :nextjournal/value [{:path [6 0], :nextjournal/value \"Gamma\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [6 1], :nextjournal/value \"Γ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [7], :nextjournal/value [{:path [7 0], :nextjournal/value \"Iota\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [7 1], :nextjournal/value \"Ι\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [8], :nextjournal/value [{:path [8 0], :nextjournal/value \"Kappa\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [8 1], :nextjournal/value \"Κ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:path [9], :nextjournal/value [{:path [9 0], :nextjournal/value \"Lambda\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}} {:path [9 1], :nextjournal/value \"Λ\", :nextjournal/viewer {:render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren \"\\\"\", :closing-paren (\"\\\"\"), :page-size 80, :hash \"5dsc8hKzdYc787YrnnWStEqLBFykdE\"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/map-entry-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (comp (nextjournal.clerk.render/inspect-children opts) (interpose \" \")) xs)), :page-size 2, :hash \"5du1Jokva1fSP87JT6oepkbdJbMMKB\"}} {:nextjournal/value {:n 10, :path [], :total 56, :offset 10}, :nextjournal/viewer {:name nextjournal.clerk.viewer/elision-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-elision, :hash \"5drduatKq2QJCDhSX1Pu45i4whSPHk\"}}], :nextjournal/opts {:id \"emmy.expression.render/infix-sym->unicode-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/map-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-map, :opening-paren \"{\", :closing-paren (\"}\"), :page-size 10, :hash \"5drc3ac5ux7kS4h2vozdxwsrKDqSmn\"}}, :nextjournal/blob-id \"5dtM2h44Xf6Y2ujpFfD1cimcDWGxwL\"}, :nextjournal/opts {:id \"emmy.expression.render/infix-sym->unicode-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn- infinity->infix\\n  \\\"Given some infinite value, returns a string representation of ##Inf or ##-Inf\\n  appropriate for infix rendering, else returns `nil`.\\\"\\n  [x]\\n  (case x\\n    ##Inf \\\"∞\\\"\\n    ##-Inf \\\"-∞\\\"\\n    nil))\", :nextjournal/opts {:id \"emmy.expression.render/infinity->infix-code\", :loc {:line 333, :end-line 340, :column 1, :end-column 10}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$infinity__GT_infix 0x49f889c \\\"emmy.expression.render$infinity__GT_infix@49f889c\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/infinity->infix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/infinity->infix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ->infix\\n  \\\"Converts an S-expression to printable infix form. Numeric exponents are\\n  written as superscripts. Partial derivatives get subscripts.\\\"\\n  (make-infix-renderer\\n   :precedence-map '{D 9, partial 9,\\n                     expt 8,\\n                     :apply 7,\\n                     u- 6,\\n                     * 5, modulo 5, remainder 5, / 5,\\n                     + 4, - 4, not 4,\\n                     = 3, > 3, < 3, >= 3, <= 3,\\n                     and 2, or 1}\\n   :infix? '#{* + - / modulo remainder expt u- = > < >= <= and or}\\n   :juxtapose-multiply \\\" \\\"\\n   :rewrite-trig-squares true\\n   :rename-functions\\n   {'fractional-part \\\"frac\\\"\\n    'integer-part \\\"int\\\"\\n    'not \\\"¬\\\"}\\n   :special-handlers\\n   {'floor (fn [[x]] (str \\\"⌊\\\" x \\\"⌋\\\"))\\n    'ceiling (fn [[x]] (str \\\"⌈\\\" x \\\"⌉\\\"))\\n    'modulo (fn [[x y]] (str x \\\" mod \\\" y))\\n    'remainder (fn [[x y]] (str x \\\" % \\\" y))\\n    'and (fn [[x y]] (str x \\\" ∧ \\\" y))\\n    'or  (fn [[x y]] (str x \\\" ∨ \\\" y))\\n    'expt (fn [[x e]]\\n            (when (and (integer? e) ((complement neg?) e))\\n              (str x (n->superscript e))))\\n    'partial (fn [ds]\\n               (when (and (= (count ds) 1) (integer? (first ds)))\\n                 (str \\\"∂\\\" (n->subscript (first ds)))))\\n    '/ render-infix-ratio}\\n   :render-primitive\\n   (fn r [v]\\n     (or (infinity->infix v)\\n         (let [s (str v)]\\n           (or (infix-sym->unicode s)\\n               (condp re-find s\\n                 superscript-pattern\\n                 :>> (fn [[_ stem superscript]]\\n                       (if-let [n (re-matches #\\\"[0-9]+\\\" superscript)]\\n                         (str (r stem) (n->superscript n))\\n                         (str (r stem) \\\"↑\\\" (r superscript))))\\n\\n                 subscript-pattern\\n                 :>> (fn [[_ stem subscript]]\\n                       (if-let [n (re-matches #\\\"[0-9]+\\\" subscript)]\\n                         (str (r stem) (n->subscript n))\\n                         (str (r stem) \\\"_\\\" (r subscript))))\\n                 v)))))))\", :nextjournal/opts {:id \"emmy.expression.render/->infix-code\", :loc {:line 342, :end-line 392, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$make_infix_renderer$fn__78374 0x4c2ae0bb \\\"emmy.expression.render$make_infix_renderer$fn__78374@4c2ae0bb\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/->infix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/->infix-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn- brace\\n  \\\"Wrap the argument, as a string, in braces\\\"\\n  [s]\\n  (str \\\"{\\\" s \\\"}\\\"))\", :nextjournal/opts {:id \"emmy.expression.render/brace-code\", :loc {:line 394, :end-line 397, :column 1, :end-column 19}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$brace 0x3d46266f \\\"emmy.expression.render$brace@3d46266f\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/brace-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/brace-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn- maybe-brace\\n  \\\"Wrap the argument in braces, as a string, unless it's just a single character\\\"\\n  [s]\\n  (if (and (string? s) (= (count s) 1))\\n    s\\n    (brace s)))\", :nextjournal/opts {:id \"emmy.expression.render/maybe-brace-code\", :loc {:line 399, :end-line 404, :column 1, :end-column 16}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$maybe_brace 0x2ee5461b \\\"emmy.expression.render$maybe_brace@2ee5461b\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/maybe-brace-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/maybe-brace-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn- infinity->tex\\n  \\\"Given some infinite value, returns a (string) representation of the LaTeX\\n  commands required to render ##Inf or ##-Inf.\\n\\n  Returns `nil` for all other inputs.\\\"\\n  [x]\\n  (case x\\n    ##Inf \\\"\\\\\\\\infty\\\"\\n    ##-Inf \\\"-\\\\\\\\infty\\\"\\n    nil))\", :nextjournal/opts {:id \"emmy.expression.render/infinity->tex-code\", :loc {:line 406, :end-line 415, :column 1, :end-column 10}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$infinity__GT_tex 0x56c6e033 \\\"emmy.expression.render$infinity__GT_tex@56c6e033\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/infinity->tex-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/infinity->tex-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:dynamic *TeX-vertical-down-tuples*\\n  \\\"If true, [[->TeX]] will render down tuples as vertical matrices with square\\n  braces. Defaults to false.\\\" false)\", :nextjournal/opts {:id \"emmy.expression.render/*TeX-vertical-down-tuples*-code\", :loc {:line 417, :end-line 419, :column 1, :end-column 37}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value false, :nextjournal/opts {:id \"emmy.expression.render/*TeX-vertical-down-tuples*-result\"}, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] [:span.cmt-bool.inspected-value (str x)]), :hash \"5dtraRr8bAXanTgfMAzv3Q82Eguw7J\"}}, :nextjournal/blob-id \"5dtRpNMQgAgRfMpyxApFeUeBzY5wbP\"}, :nextjournal/opts {:id \"emmy.expression.render/*TeX-vertical-down-tuples*-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:dynamic *TeX-sans-serif-symbols*\\n  \\\"If true, [[->TeX]] will render symbols with more than 1 character\\n  using a sans-serif typestyle via `\\\\\\\\mathsf`. Defaults to true.\\\"\\n  true)\", :nextjournal/opts {:id \"emmy.expression.render/*TeX-sans-serif-symbols*-code\", :loc {:line 421, :end-line 424, :column 1, :end-column 8}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value true, :nextjournal/opts {:id \"emmy.expression.render/*TeX-sans-serif-symbols*-result\"}, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] [:span.cmt-bool.inspected-value (str x)]), :hash \"5dtraRr8bAXanTgfMAzv3Q82Eguw7J\"}}, :nextjournal/blob-id \"5dssuU6nEQRZFzYRb7xPJmNGy1yKqx\"}, :nextjournal/opts {:id \"emmy.expression.render/*TeX-sans-serif-symbols*-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn- displaystyle [s]\\n  (str \\\"\\\\\\\\displaystyle{\\\" s \\\"}\\\"))\", :nextjournal/opts {:id \"emmy.expression.render/displaystyle-code\", :loc {:line 426, :end-line 427, :column 1, :end-column 33}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$displaystyle 0x4df2fd68 \\\"emmy.expression.render$displaystyle@4df2fd68\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/displaystyle-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/displaystyle-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ^:no-doc ->TeX*\\n  (let [TeX-accent (fn [accent]\\n                     (fn [[_ stem]]\\n                       (str \\\"\\\\\\\\\\\" accent \\\" \\\" (maybe-brace\\n                                             (->TeX* stem)))))\\n        dot   (TeX-accent \\\"dot\\\")\\n        ddot  (TeX-accent \\\"ddot\\\")\\n        hat   (TeX-accent \\\"hat\\\")\\n        bar   (TeX-accent \\\"bar\\\")\\n        vec   (TeX-accent \\\"vec\\\")\\n        tilde (TeX-accent \\\"tilde\\\")\\n        prime (fn [[_ stem]]\\n                (let [x (maybe-brace (->TeX* stem))]\\n                  (str x \\\"^\\\\\\\\prime\\\")))\\n        primeprime\\n        (fn [[_ stem]]\\n          (let [x (maybe-brace (->TeX* stem))]\\n            (str x \\\"^{\\\\\\\\prime\\\\\\\\prime}\\\")))\\n        parenthesize\\n        #(str \\\"\\\\\\\\left(\\\" % \\\"\\\\\\\\right)\\\")]\\n    (make-infix-renderer\\n     ;; here we set / to a very low precedence because the fraction bar we will\\n     ;; use in the rendering groups things very strongly.\\n     :precedence-map '{D 9, partial 9,\\n                       expt 8,\\n                       :apply 7,\\n                       u- 6,\\n                       * 5, modulo 5, remainder 5,\\n                       + 4, - 4,\\n                       = 3, > 3, < 3, >= 3, <= 3,\\n                       and 2, or 1, not 1, / 0}\\n     :parenthesize parenthesize\\n     :infix? '#{* + - / modulo remainder and or expt u- = > < >= <=}\\n     :juxtapose-multiply \\\"\\\\\\\\,\\\"\\n     :rewrite-trig-squares true\\n     :special-handlers\\n     {'floor\\n      (fn [[x]]\\n        (str \\\"\\\\\\\\left\\\\\\\\lfloor \\\" x \\\" \\\\\\\\right\\\\\\\\rfloor\\\"))\\n\\n      'ceiling\\n      (fn [[x]]\\n        (str \\\"\\\\\\\\left\\\\\\\\lceil \\\" x \\\" \\\\\\\\right\\\\\\\\rceil\\\"))\\n\\n      'integer-part\\n      (fn [[x]]\\n        (str \\\"\\\\\\\\mathsf{int} \\\" (parenthesize x)))\\n\\n      'fractional-part\\n      (fn [[x]]\\n        (str \\\"\\\\\\\\mathsf{frac} \\\" (parenthesize x)))\\n\\n      'modulo\\n      (fn [[x y]]\\n        (str (maybe-brace x) \\\" \\\\\\\\bmod \\\" (maybe-brace y)))\\n\\n      'remainder\\n      (fn [[x y]]\\n        (str (maybe-brace x) \\\" \\\\\\\\mathbin{\\\\\\\\%} \\\" (maybe-brace y)))\\n\\n      'and\\n      (fn [[x y]]\\n        (str x \\\" \\\\\\\\land \\\" y))\\n\\n      'or\\n      (fn [[x y]]\\n        (str x \\\" \\\\\\\\lor \\\" y))\\n\\n      'not\\n      (fn [[x]]\\n        (str \\\"\\\\\\\\lnot\\\" (parenthesize x)))\\n\\n      'expt (fn [[x e]]\\n              (str (maybe-brace x) \\\"^\\\" (maybe-brace e)))\\n\\n      'partial (fn [ds] (str \\\"\\\\\\\\partial_\\\" (maybe-brace (s/join \\\",\\\" ds))))\\n      '/ (fn [xs]\\n           (let [n (count xs)]\\n             (cond (= n 1)\\n                   (str \\\"\\\\\\\\frac\\\" (brace 1) (brace (first xs)))\\n                   (= n 2)\\n                   (str \\\"\\\\\\\\frac\\\" (brace (first xs)) (brace (second xs))))))\\n      'up (fn [x]\\n            (let [body (->> (map displaystyle x)\\n                            (s/join \\\" \\\\\\\\cr \\\\\\\\cr \\\"))]\\n              (str \\\"\\\\\\\\begin{pmatrix}\\\"\\n                   body\\n                   \\\"\\\\\\\\end{pmatrix}\\\")))\\n      'down (fn [x]\\n              (let [sep  (if *TeX-vertical-down-tuples*\\n                           \\\" \\\\\\\\cr \\\\\\\\cr \\\"\\n                           \\\"&\\\")\\n                    body (->> (map displaystyle x)\\n                              (s/join sep))]\\n                (str \\\"\\\\\\\\begin{bmatrix}\\\"\\n                     body\\n                     \\\"\\\\\\\\end{bmatrix}\\\")))\\n\\n      'matrix-by-rows\\n      (fn [rows]\\n        (let [body (->> rows\\n                        (map (fn [row]\\n                               (let [row' (map (comp displaystyle ->TeX*) row)]\\n                                 (s/join \\\" & \\\" row'))))\\n                        (s/join \\\" \\\\\\\\cr \\\\\\\\cr \\\"))]\\n          (str \\\"\\\\\\\\begin{bmatrix}\\\"\\n               body\\n               \\\"\\\\\\\\end{bmatrix}\\\")))\\n\\n      'column-matrix\\n      (fn [x]\\n        (let [body (->> (map displaystyle x)\\n                        (s/join \\\" \\\\\\\\cr \\\\\\\\cr \\\"))]\\n          (str \\\"\\\\\\\\begin{bmatrix}\\\"\\n               body\\n               \\\"\\\\\\\\end{bmatrix}\\\")))\\n\\n      'sqrt #(str \\\"\\\\\\\\sqrt \\\" (maybe-brace (first %)))\\n      '<= #(s/join \\\" \\\\\\\\leq \\\" %)\\n      '>= #(s/join \\\" \\\\\\\\geq \\\" %)}\\n     :render-primitive\\n     (fn r [v]\\n       (if (r/ratio? v)\\n         (str \\\"\\\\\\\\frac\\\" (brace (r/numerator v)) (brace (r/denominator v)))\\n         (or (infinity->tex v)\\n             (let [s (str v)]\\n               (or (TeX-map s)\\n                   (condp re-find s\\n                     superscript-pattern\\n                     :>> (fn [[_ stem superscript]]\\n                           (str (maybe-brace (r stem))\\n                                \\\"^\\\" (maybe-brace (r superscript))))\\n\\n                     subscript-pattern\\n                     :>> (fn [[_ stem subscript]]\\n                           (str (maybe-brace (r stem))\\n                                \\\"_\\\" (maybe-brace (r subscript))))\\n\\n                     ;; KaTeX doesn't do \\\\dddot.\\n                     #\\\"(.+)dotdot$\\\" :>> ddot\\n                     #\\\"(.+)dot$\\\" :>> dot\\n                     #\\\"(.+)hat$\\\" :>> hat\\n                     #\\\"(.+)primeprime$\\\" :>> primeprime\\n                     #\\\"(.+)prime$\\\" :>> prime\\n                     #\\\"(.+)bar$\\\" :>> bar\\n                     #\\\"(.+)vec$\\\" :>> vec\\n                     #\\\"(.+)tilde$\\\" :>> tilde\\n                     ;; wrap it if it's a multiletter variable... unless it looks\\n                     ;; like a differential. (Too hacky?)\\n                     (if (and (symbol? v)\\n                              (> (count s) 1)\\n                              (not (re-matches #\\\"^d[a-zαωθφ]\\\" s)))\\n                       (if *TeX-sans-serif-symbols*\\n                         (str \\\"\\\\\\\\mathsf\\\" (brace s))\\n                         (brace s))\\n                       v))))))))))\", :nextjournal/opts {:id \"emmy.expression.render/->TeX*-code\", :loc {:line 429, :end-line 584, :column 1, :end-column 35}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$make_infix_renderer$fn__78374 0x410bdfe7 \\\"emmy.expression.render$make_infix_renderer$fn__78374@410bdfe7\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/->TeX*-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/->TeX*-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ->TeX\\n  \\\"Convert the given expression to TeX format, as a string.\\n\\n  If you set the `:equation` keyword argument to a truthy value, the result will\\n  be wrapped in an equation environment. `:equation <string>` will insert a\\n  `\\\\\\\\label{<string>}` entry inside the equation environment.\\n\\n  For example:\\n\\n  ```clojure\\n  (let [expr (+ 'x 'xy)]\\n    (println\\n      (->TeX expr :equation \\\\\\\"label!\\\\\\\")))\\n\\n  \\\\\\\\begin{equation}\\n  \\\\\\\\label{label!}\\n  x + y\\n  \\\\\\\\end{equation}\\n  ```\\n  \\\"\\n  [expr & {:keys [equation]}]\\n  (let [tex-string (->TeX* expr)]\\n    (if equation\\n      (let [label (if (and (string? equation)\\n                           (seq equation))\\n                    (str \\\"\\\\\\\\label{\\\" equation \\\"}\\\\n\\\")\\n                    \\\"\\\")]\\n        (str \\\"\\\\\\\\begin{equation}\\\\n\\\"\\n             label tex-string\\n             \\\"\\\\n\\\\\\\\end{equation}\\\"))\\n      tex-string)))\", :nextjournal/opts {:id \"emmy.expression.render/->TeX-code\", :loc {:line 586, :end-line 616, :column 1, :end-column 20}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$__GT_TeX 0x455a8c43 \\\"emmy.expression.render$__GT_TeX@455a8c43\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/->TeX-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/->TeX-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def ->JavaScript\\n  \\\"Converts an S-expression to JavaScript.\\\"\\n  (let [make-js-vector #(str \\\\[ (s/join \\\", \\\" %) \\\\])]\\n    (make-infix-renderer\\n     :precedence-map '{not 9, D 8, :apply 8, u- 7, * 5, / 5, - 3, + 3,\\n                       = 2, > 2, < 2, >= 2, <= 2,\\n                       and 1, or 1}\\n     :infix? '#{* + - / u- =}\\n     :rename-functions {'sin \\\"Math.sin\\\"\\n                        'cos \\\"Math.cos\\\"\\n                        'tan \\\"Math.tan\\\"\\n                        'asin \\\"Math.asin\\\"\\n                        'acos \\\"Math.acos\\\"\\n                        'atan \\\"Math.atan\\\"\\n                        'cosh \\\"Math.cosh\\\"\\n                        'sinh \\\"Math.sinh\\\"\\n                        'tanh \\\"Math.tanh\\\"\\n                        'asinh \\\"Math.asinh\\\"\\n                        'acosh \\\"Math.acosh\\\"\\n                        'atanh \\\"Math.atanh\\\"\\n                        'sqrt \\\"Math.sqrt\\\"\\n                        'abs \\\"Math.abs\\\"\\n                        'expt \\\"Math.pow\\\"\\n                        'log \\\"Math.log\\\"\\n                        'exp \\\"Math.exp\\\"\\n                        'floor \\\"Math.floor\\\"\\n                        'ceiling \\\"Math.ceil\\\"\\n                        'integer-part \\\"Math.trunc\\\"\\n                        'not \\\"!\\\"}\\n     :render-primitive #(if (symbol? %) (munge %) %)\\n     :special-handlers (let [parens (fn [x]\\n                                      (str \\\"(\\\" x \\\")\\\"))]\\n                         {'up make-js-vector\\n                          'down make-js-vector\\n                          'modulo (fn [[a b]]\\n                                    (-> (str a \\\" % \\\" b)\\n                                        (parens)\\n                                        (str \\\" + \\\" b)\\n                                        (parens)\\n                                        (str \\\" % \\\" b)\\n                                        (parens)))\\n                          'remainder (fn [[a b]]\\n                                       (str a \\\" % \\\" b))\\n                          'and (fn [[a b]] (str a \\\" && \\\" b))\\n                          'or (fn [[a b]] (str a \\\" || \\\" b))\\n                          '/ render-infix-ratio}))))\", :nextjournal/opts {:id \"emmy.expression.render/->JavaScript-code\", :loc {:line 618, :end-line 663, :column 1, :end-column 53}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.expression.render$make_infix_renderer$fn__78374 0x24fc3ba3 \\\"emmy.expression.render$make_infix_renderer$fn__78374@24fc3ba3\\\"]\", :nextjournal/opts {:id \"emmy.expression.render/->JavaScript-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.expression.render/->JavaScript-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}}], :css-class nil}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5duAFDxE4sCnRX71Wo6zeCpC9C3djE\"}}}, :index \"dev/emmy/notebook.clj\", :browse? false, :git/url \"https://github.com/mentat-collective/emmy\", :paths [\"src/emmy/abstract/number.cljc\" \"src/emmy/special/elliptic.cljc\" \"src/emmy/polynomial/interpolate.cljc\" \"src/emmy/numerical/quadrature/midpoint.cljc\" \"src/emmy/numerical/quadrature/trapezoid.cljc\" \"src/emmy/sci.cljc\" \"src/emmy/calculus/map.cljc\" \"src/emmy/pattern/rule.cljc\" \"src/emmy/mechanics/time_evolution.cljc\" \"src/emmy/util/permute.cljc\" \"src/emmy/expression/cse.cljc\" \"src/emmy/complex.cljc\" \"src/emmy/generic.cljc\" \"src/emmy/expression/compile.cljc\" \"src/emmy/sr/frames.cljc\" \"src/emmy/function.cljc\" \"src/emmy/polynomial/richardson.cljc\" \"src/emmy/numerical/unimin/brent.cljc\" \"src/emmy/numsymb.cljc\" \"src/emmy/calculus/vector_field.cljc\" \"src/emmy/numerical/minimize.cljc\" \"src/emmy/rational_function.cljc\" \"src/emmy/mechanics/noether.cljc\" \"src/emmy/calculus/hodge_star.cljc\" \"src/emmy/series.cljc\" \"src/emmy/series/impl.cljc\" \"src/emmy/calculus/manifold.cljc\" \"src/emmy/util/logic.cljc\" \"src/emmy/util/stopwatch.cljc\" \"src/emmy/numerical/quadrature/adaptive.cljc\" \"src/emmy/mechanics/rotation.cljc\" \"src/emmy/numerical/ode.cljc\" \"src/emmy/numerical/quadrature/riemann.cljc\" \"src/emmy/calculus/connection.cljc\" \"src/emmy/numbers.cljc\" \"src/emmy/algebra/fold.cljc\" \"src/emmy/numerical/multimin/nelder_mead.cljc\" \"src/emmy/polynomial/exponent.cljc\" \"src/emmy/polynomial/factor.cljc\" \"src/emmy/util/def.cljc\" \"src/emmy/abstract/function.cljc\" \"src/emmy/calculus/indexed.cljc\" \"src/emmy/numerical/quadrature.cljc\" \"src/emmy/numerical/quadrature/infinite.cljc\" \"src/emmy/mechanics/routhian.cljc\" \"src/emmy/numerical/quadrature/bulirsch_stoer.cljc\" \"src/emmy/ratio.cljc\" \"src/emmy/calculus/curvature.cljc\" \"src/emmy/numerical/quadrature/milne.cljc\" \"src/emmy/calculus/form_field.cljc\" \"src/emmy/mechanics/hamilton.cljc\" \"src/emmy/expression/render.cljc\" \"src/emmy/util/stream.cljc\" \"src/emmy/calculus/derivative.cljc\" \"dev/emmy/notebook.clj\" \"src/emmy/util/aggregate.cljc\" \"src/emmy/numerical/quadrature/romberg.cljc\" \"src/emmy/numerical/quadrature/boole.cljc\" \"src/emmy/pattern/match.cljc\" \"src/emmy/calculus/metric.cljc\" \"src/emmy/polynomial/gcd.cljc\" \"src/emmy/numerical/quadrature/substitute.cljc\" \"src/emmy/euclid.cljc\" \"src/emmy/calculus/vector_calculus.cljc\" \"src/emmy/collection.cljc\" \"src/emmy/numerical/quadrature/simpson.cljc\" \"src/emmy/calculus/basis.cljc\" \"src/emmy/util/vector_set.cljc\" \"src/emmy/pattern/syntax.cljc\" \"src/emmy/numerical/quadrature/common.cljc\" \"src/emmy/sr/boost.cljc\" \"src/emmy/calculus/coordinate.cljc\" \"src/emmy/calculus/covariant.cljc\" \"src/emmy/numerical/derivative.cljc\" \"src/emmy/simplify/rules.cljc\" \"src/emmy/mechanics/rigid.cljc\" \"src/emmy/quaternion.cljc\" \"src/emmy/rational_function/interpolate.cljc\" \"src/emmy/numerical/unimin/bracket.cljc\" \"src/emmy/numerical/roots/bisect.cljc\" \"src/emmy/numerical/quadrature/simpson38.cljc\" \"src/emmy/mechanics/lagrange.cljc\" \"src/emmy/expression/analyze.cljc\" \"src/emmy/calculus/frame.cljc\" \"src/emmy/pattern/consequence.cljc\" \"src/emmy/env.cljc\" \"src/emmy/util.cljc\" \"src/emmy/matrix.cljc\" \"src/emmy/sci/macros.cljc\" \"src/emmy/numerical/unimin/golden.cljc\" \"src/emmy/special/factorial.cljc\" \"src/emmy/polynomial/impl.cljc\" \"src/emmy/modint.cljc\"], :resource->url {\"/js/viewer.js\" \"https://storage.clerk.garden/nextjournal/clerk-assets@4NdW4yYfmUzzw9xCkmyrJ75nH75d/viewer.js?immutable=true\"}, :current-path \"src/emmy/expression/render.cljc\", :bundle? false, :git/sha \"e3d7a4ebc44f091574e4829d09bd7d7c756fddbf\", :path->url {\"src/emmy/abstract/number.cljc\" \"src/emmy/abstract/number.html\", \"src/emmy/special/elliptic.cljc\" \"src/emmy/special/elliptic.html\", \"src/emmy/polynomial/interpolate.cljc\" \"src/emmy/polynomial/interpolate.html\", \"src/emmy/numerical/quadrature/midpoint.cljc\" \"src/emmy/numerical/quadrature/midpoint.html\", \"src/emmy/numerical/quadrature/trapezoid.cljc\" \"src/emmy/numerical/quadrature/trapezoid.html\", \"src/emmy/sci.cljc\" \"src/emmy/sci.html\", \"src/emmy/calculus/map.cljc\" \"src/emmy/calculus/map.html\", \"src/emmy/pattern/rule.cljc\" \"src/emmy/pattern/rule.html\", \"src/emmy/mechanics/time_evolution.cljc\" \"src/emmy/mechanics/time_evolution.html\", \"src/emmy/util/permute.cljc\" \"src/emmy/util/permute.html\", \"src/emmy/expression/cse.cljc\" \"src/emmy/expression/cse.html\", \"src/emmy/complex.cljc\" \"src/emmy/complex.html\", \"src/emmy/generic.cljc\" \"src/emmy/generic.html\", \"src/emmy/expression/compile.cljc\" \"src/emmy/expression/compile.html\", \"src/emmy/sr/frames.cljc\" \"src/emmy/sr/frames.html\", \"src/emmy/function.cljc\" \"src/emmy/function.html\", \"src/emmy/polynomial/richardson.cljc\" \"src/emmy/polynomial/richardson.html\", \"src/emmy/numerical/unimin/brent.cljc\" \"src/emmy/numerical/unimin/brent.html\", \"src/emmy/numsymb.cljc\" \"src/emmy/numsymb.html\", \"src/emmy/calculus/vector_field.cljc\" \"src/emmy/calculus/vector_field.html\", \"src/emmy/numerical/minimize.cljc\" \"src/emmy/numerical/minimize.html\", \"src/emmy/rational_function.cljc\" \"src/emmy/rational_function.html\", \"src/emmy/mechanics/noether.cljc\" \"src/emmy/mechanics/noether.html\", \"src/emmy/calculus/hodge_star.cljc\" \"src/emmy/calculus/hodge_star.html\", \"src/emmy/series.cljc\" \"src/emmy/series.html\", \"src/emmy/series/impl.cljc\" \"src/emmy/series/impl.html\", \"src/emmy/calculus/manifold.cljc\" \"src/emmy/calculus/manifold.html\", \"src/emmy/util/logic.cljc\" \"src/emmy/util/logic.html\", \"src/emmy/util/stopwatch.cljc\" \"src/emmy/util/stopwatch.html\", \"src/emmy/numerical/quadrature/adaptive.cljc\" \"src/emmy/numerical/quadrature/adaptive.html\", \"src/emmy/mechanics/rotation.cljc\" \"src/emmy/mechanics/rotation.html\", \"src/emmy/numerical/ode.cljc\" \"src/emmy/numerical/ode.html\", \"src/emmy/numerical/quadrature/riemann.cljc\" \"src/emmy/numerical/quadrature/riemann.html\", \"src/emmy/calculus/connection.cljc\" \"src/emmy/calculus/connection.html\", \"src/emmy/numbers.cljc\" \"src/emmy/numbers.html\", \"src/emmy/algebra/fold.cljc\" \"src/emmy/algebra/fold.html\", \"src/emmy/numerical/multimin/nelder_mead.cljc\" \"src/emmy/numerical/multimin/nelder_mead.html\", \"src/emmy/polynomial/exponent.cljc\" \"src/emmy/polynomial/exponent.html\", \"src/emmy/polynomial/factor.cljc\" \"src/emmy/polynomial/factor.html\", \"src/emmy/util/def.cljc\" \"src/emmy/util/def.html\", \"src/emmy/abstract/function.cljc\" \"src/emmy/abstract/function.html\", \"src/emmy/calculus/indexed.cljc\" \"src/emmy/calculus/indexed.html\", \"src/emmy/numerical/quadrature.cljc\" \"src/emmy/numerical/quadrature.html\", \"src/emmy/numerical/quadrature/infinite.cljc\" \"src/emmy/numerical/quadrature/infinite.html\", \"src/emmy/mechanics/routhian.cljc\" \"src/emmy/mechanics/routhian.html\", \"src/emmy/numerical/quadrature/bulirsch_stoer.cljc\" \"src/emmy/numerical/quadrature/bulirsch_stoer.html\", \"src/emmy/ratio.cljc\" \"src/emmy/ratio.html\", \"src/emmy/calculus/curvature.cljc\" \"src/emmy/calculus/curvature.html\", \"src/emmy/numerical/quadrature/milne.cljc\" \"src/emmy/numerical/quadrature/milne.html\", \"src/emmy/calculus/form_field.cljc\" \"src/emmy/calculus/form_field.html\", \"src/emmy/mechanics/hamilton.cljc\" \"src/emmy/mechanics/hamilton.html\", \"src/emmy/expression/render.cljc\" \"src/emmy/expression/render.html\", \"src/emmy/util/stream.cljc\" \"src/emmy/util/stream.html\", \"src/emmy/calculus/derivative.cljc\" \"src/emmy/calculus/derivative.html\", \"dev/emmy/notebook.clj\" \"\", \"src/emmy/util/aggregate.cljc\" \"src/emmy/util/aggregate.html\", \"src/emmy/numerical/quadrature/romberg.cljc\" \"src/emmy/numerical/quadrature/romberg.html\", \"src/emmy/numerical/quadrature/boole.cljc\" \"src/emmy/numerical/quadrature/boole.html\", \"src/emmy/pattern/match.cljc\" \"src/emmy/pattern/match.html\", \"src/emmy/calculus/metric.cljc\" \"src/emmy/calculus/metric.html\", \"src/emmy/polynomial/gcd.cljc\" \"src/emmy/polynomial/gcd.html\", \"src/emmy/numerical/quadrature/substitute.cljc\" \"src/emmy/numerical/quadrature/substitute.html\", \"src/emmy/euclid.cljc\" \"src/emmy/euclid.html\", \"src/emmy/calculus/vector_calculus.cljc\" \"src/emmy/calculus/vector_calculus.html\", \"src/emmy/collection.cljc\" \"src/emmy/collection.html\", \"src/emmy/numerical/quadrature/simpson.cljc\" \"src/emmy/numerical/quadrature/simpson.html\", \"src/emmy/calculus/basis.cljc\" \"src/emmy/calculus/basis.html\", \"src/emmy/util/vector_set.cljc\" \"src/emmy/util/vector_set.html\", \"src/emmy/pattern/syntax.cljc\" \"src/emmy/pattern/syntax.html\", \"src/emmy/numerical/quadrature/common.cljc\" \"src/emmy/numerical/quadrature/common.html\", \"src/emmy/sr/boost.cljc\" \"src/emmy/sr/boost.html\", \"src/emmy/calculus/coordinate.cljc\" \"src/emmy/calculus/coordinate.html\", \"src/emmy/calculus/covariant.cljc\" \"src/emmy/calculus/covariant.html\", \"src/emmy/numerical/derivative.cljc\" \"src/emmy/numerical/derivative.html\", \"src/emmy/simplify/rules.cljc\" \"src/emmy/simplify/rules.html\", \"src/emmy/mechanics/rigid.cljc\" \"src/emmy/mechanics/rigid.html\", \"src/emmy/quaternion.cljc\" \"src/emmy/quaternion.html\", \"src/emmy/rational_function/interpolate.cljc\" \"src/emmy/rational_function/interpolate.html\", \"src/emmy/numerical/unimin/bracket.cljc\" \"src/emmy/numerical/unimin/bracket.html\", \"src/emmy/numerical/roots/bisect.cljc\" \"src/emmy/numerical/roots/bisect.html\", \"src/emmy/numerical/quadrature/simpson38.cljc\" \"src/emmy/numerical/quadrature/simpson38.html\", \"src/emmy/mechanics/lagrange.cljc\" \"src/emmy/mechanics/lagrange.html\", \"src/emmy/expression/analyze.cljc\" \"src/emmy/expression/analyze.html\", \"src/emmy/calculus/frame.cljc\" \"src/emmy/calculus/frame.html\", \"src/emmy/pattern/consequence.cljc\" \"src/emmy/pattern/consequence.html\", \"src/emmy/env.cljc\" \"src/emmy/env.html\", \"src/emmy/util.cljc\" \"src/emmy/util.html\", \"src/emmy/matrix.cljc\" \"src/emmy/matrix.html\", \"src/emmy/sci/macros.cljc\" \"src/emmy/sci/macros.html\", \"src/emmy/numerical/unimin/golden.cljc\" \"src/emmy/numerical/unimin/golden.html\", \"src/emmy/special/factorial.cljc\" \"src/emmy/special/factorial.html\", \"src/emmy/polynomial/impl.cljc\" \"src/emmy/polynomial/impl.html\", \"src/emmy/modint.cljc\" \"src/emmy/modint.html\"}, :expanded-paths [\"src/emmy/sci/macros.cljc\" \"src/emmy/sr/boost.cljc\" \"src/emmy/sr/frames.cljc\" \"src/emmy/rational_function/interpolate.cljc\" \"src/emmy/polynomial/gcd.cljc\" \"src/emmy/polynomial/interpolate.cljc\" \"src/emmy/polynomial/factor.cljc\" \"src/emmy/polynomial/exponent.cljc\" \"src/emmy/polynomial/richardson.cljc\" \"src/emmy/polynomial/impl.cljc\" \"src/emmy/algebra/fold.cljc\" \"src/emmy/mechanics/rigid.cljc\" \"src/emmy/mechanics/noether.cljc\" \"src/emmy/mechanics/time_evolution.cljc\" \"src/emmy/mechanics/routhian.cljc\" \"src/emmy/mechanics/rotation.cljc\" \"src/emmy/mechanics/lagrange.cljc\" \"src/emmy/mechanics/hamilton.cljc\" \"src/emmy/series/impl.cljc\" \"src/emmy/util/vector_set.cljc\" \"src/emmy/util/stream.cljc\" \"src/emmy/util/permute.cljc\" \"src/emmy/util/def.cljc\" \"src/emmy/util/stopwatch.cljc\" \"src/emmy/util/aggregate.cljc\" \"src/emmy/util/logic.cljc\" \"src/emmy/numerical/minimize.cljc\" \"src/emmy/numerical/unimin/bracket.cljc\" \"src/emmy/numerical/unimin/golden.cljc\" \"src/emmy/numerical/unimin/brent.cljc\" \"src/emmy/numerical/ode.cljc\" \"src/emmy/numerical/quadrature.cljc\" \"src/emmy/numerical/quadrature/trapezoid.cljc\" \"src/emmy/numerical/quadrature/simpson38.cljc\" \"src/emmy/numerical/quadrature/adaptive.cljc\" \"src/emmy/numerical/quadrature/substitute.cljc\" \"src/emmy/numerical/quadrature/bulirsch_stoer.cljc\" \"src/emmy/numerical/quadrature/midpoint.cljc\" \"src/emmy/numerical/quadrature/romberg.cljc\" \"src/emmy/numerical/quadrature/common.cljc\" \"src/emmy/numerical/quadrature/milne.cljc\" \"src/emmy/numerical/quadrature/infinite.cljc\" \"src/emmy/numerical/quadrature/riemann.cljc\" \"src/emmy/numerical/quadrature/simpson.cljc\" \"src/emmy/numerical/quadrature/boole.cljc\" \"src/emmy/numerical/derivative.cljc\" \"src/emmy/numerical/roots/bisect.cljc\" \"src/emmy/numerical/multimin/nelder_mead.cljc\" \"src/emmy/expression/analyze.cljc\" \"src/emmy/expression/cse.cljc\" \"src/emmy/expression/compile.cljc\" \"src/emmy/expression/render.cljc\" \"src/emmy/simplify/rules.cljc\" \"src/emmy/special/factorial.cljc\" \"src/emmy/special/elliptic.cljc\" \"src/emmy/pattern/syntax.cljc\" \"src/emmy/pattern/consequence.cljc\" \"src/emmy/pattern/match.cljc\" \"src/emmy/pattern/rule.cljc\" \"src/emmy/calculus/vector_calculus.cljc\" \"src/emmy/calculus/coordinate.cljc\" \"src/emmy/calculus/metric.cljc\" \"src/emmy/calculus/map.cljc\" \"src/emmy/calculus/indexed.cljc\" \"src/emmy/calculus/basis.cljc\" \"src/emmy/calculus/manifold.cljc\" \"src/emmy/calculus/frame.cljc\" \"src/emmy/calculus/derivative.cljc\" \"src/emmy/calculus/form_field.cljc\" \"src/emmy/calculus/hodge_star.cljc\" \"src/emmy/calculus/connection.cljc\" \"src/emmy/calculus/vector_field.cljc\" \"src/emmy/calculus/covariant.cljc\" \"src/emmy/calculus/curvature.cljc\" \"src/emmy/abstract/function.cljc\" \"src/emmy/abstract/number.cljc\" \"src/emmy/collection.cljc\" \"src/emmy/complex.cljc\" \"src/emmy/euclid.cljc\" \"src/emmy/env.cljc\" \"src/emmy/function.cljc\" \"src/emmy/generic.cljc\" \"src/emmy/matrix.cljc\" \"src/emmy/modint.cljc\" \"src/emmy/numbers.cljc\" \"src/emmy/numsymb.cljc\" \"src/emmy/quaternion.cljc\" \"src/emmy/ratio.cljc\" \"src/emmy/rational_function.cljc\" \"src/emmy/sci.cljc\" \"src/emmy/series.cljc\" \"src/emmy/util.cljc\" \"dev/emmy/notebook.clj\"], :cname \"emmy.mentat.org\", :watch-paths [\"src\" \"dev\"], :report-fn #object[nextjournal.clerk.builder$stdout_reporter 0x102ebd77 \"nextjournal.clerk.builder$stdout_reporter@102ebd77\"]}".replaceAll('nextjournal.clerk.view/escape-closing-script-tag', 'script')
let opts = nextjournal.clerk.sci_env.read_string(state)
nextjournal.clerk.static_app.init(opts)
</script></body></html>