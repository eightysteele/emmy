<!DOCTYPE html>
<html><head><title>Form fields</title><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="A form-field of rank n is an operator that takes n vector fields to a real-valued function on the manifold. A one-form field takes a single vector field." property="og:description"><meta content="Form fields" property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><script src="https://cdn.tailwindcss.com?plugins=typography" type="text/javascript"></script><script>tailwind.config = {
  darkMode: "class",
  content: ["./tw/viewer.js", "./tw/**/*.edn"],
  safelist: ['dark'],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["Fira Sans", "-apple-system", "BlinkMacSystemFont", "sans-serif"],
      serif: ["PT Serif", "serif"],
      mono: ["Fira Mono", "monospace"]
    }
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
</script><style type="text/tailwindcss">@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 18px;
  }
  @media (max-width: 600px) {
    html {
      font-size: 16px;
    }
  }
  .font-condensed { font-family: "Fira Sans Condensed", sans-serif; }
  .font-inter     { font-family: "Inter", sans-serif; }
  body {
    @apply font-serif antialiased text-gray-900 sm:overscroll-y-none;
  }
  code, .code {
    @apply font-mono text-sm text-gray-900 bg-slate-50 px-0.5 py-px rounded dark:bg-gray-800;
  }
  code::before, code::after { @apply content-none !important; }
  h1, h3, h4, h5, h6 {
    @apply font-condensed font-bold mt-8 first:mt-0;
  }
  h2 {
    /*We cannot collapse margins due to nesting but we want to*/
    /*keep the h2’s large margin visible*/
    @apply font-condensed font-bold mt-8 first:mt-2;
  }
  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }

  @media print {
      h1 { @apply text-2xl !important; }
      h2 { @apply text-xl !important; }
      h3 { @apply text-lg !important; }
  }

  button { @apply focus:outline-none; }
  strong { @apply font-bold; }
  em     { @apply italic; }
  pre    { @apply m-0 font-mono; }
}

/* Compatibility */
/* --------------------------------------------------------------- */
/* TODO: Verify which colors are in use and replace with Tailwind
   colors accordingly. Move Nj-specific styles out of here. */

:root {
  --teal-color: #31afd0;
  --dark-teal-color: #095960;
  --near-black-color: #2e2e2c;
  --red-color: #d64242;
  --dark-blue-color: #1f2937;
  --dark-blue-60-color: rgba(28, 42, 56, 0.6);
  --gray-panel-color: rgba(239, 241, 245, 1.000);
  --brand-color: var(--dark-blue-color);
  --link-color: #5046e4;
  --command-bar-selected-color: var(--teal-color);
}

.serif      { @apply font-serif; }
.sans-serif { @apply font-sans; }
.monospace  { @apply font-mono; }
.inter      { @apply font-inter; }

.border-color-teal { border-color: var(--dark-teal-color); }
.teal { color: var(--teal-color); }
.bg-dark-blue { background: var(--dark-blue-color); }
.bg-dark-blue-60 { background: rgba(28, 42, 56, 0.6); }
.bg-gray-panel { background: var(--gray-panel-color); }
.text-dark-blue  { color: var(--dark-blue-color); }
.text-dark-blue-60 { color: var(--dark-blue-60-color); }
.border-dark-blue-30 { border-color: rgba(28, 42, 56, 0.6); }
.text-brand { color: var(--dark-blue-color); }
.bg-brand { background: var(--dark-blue-color); }
.text-selected { color: white; }
.red { color: var(--red-color); }

/* Disclose Button */
/* --------------------------------------------------------------- */

.disclose {
  @apply content-none border-solid cursor-pointer inline-block relative mr-[3px] top-[-2px] transition-all;
  border-color: var(--near-black-color) transparent;
  border-width: 6px 4px 0;
}
.disclose:hover {
  border-color: var(--near-black-color) transparent;
}
.dark .disclose,
.dark .disclose:hover {
  border-color: white transparent;
}
.disclose.collapsed {
  @apply rotate-[-90deg];
}

/* Layout */
/* --------------------------------------------------------------- */

.page {
  @apply max-w-5xl mx-auto px-12 box-border flex-shrink-0;
}
.max-w-prose { @apply max-w-[46rem] !important; }
.max-w-wide  { @apply max-w-3xl !important; }

/* List Styles */
/* --------------------------------------------------------------- */

.task-list-item + .task-list-item,
.markdown-viewer ul ul {
  @apply mt-1 mb-0;
}

/* compact TOC */
.markdown-viewer .toc ul {
  list-style: none;
  @apply my-1;
}

/* Code Viewer */
/* --------------------------------------------------------------- */

.code-viewer {
  @apply font-mono bg-slate-100 rounded-sm text-sm overflow-x-auto dark:bg-gray-800;
}
.code-listing  {
    @apply -ml-8 -mr-8 relative !important;
}
.code-viewer .cm-content {
  @apply py-4 px-8;
}
@media (min-width: 960px){
    .notebook-viewer .code-viewer .cm-content {
        @apply py-4 pl-12;
    }
    .notebook-viewer .code-listing {
        width: 48rem !important;
        @apply -ml-12 mr-0 !important;
    }
}
/* Don’t show focus outline when double-clicking cell in Safari */
.cm-scroller { @apply focus:outline-none; }

/* Syntax Highlighting */
/* --------------------------------------------------------------- */

.inspected-value { @apply text-xs font-mono leading-[1.25rem]; }
.cmt-strong, .cmt-heading { @apply font-bold; }
.cmt-italic, .cmt-emphasis { @apply italic; }
.cmt-strikethrough { @apply line-through; }
.cmt-link { @apply underline; }
.untyped-value { @apply whitespace-nowrap; }

.cm-editor, .cmt-default, .result-viewer {
  @apply text-slate-800 dark:text-slate-300;
}
.cmt-keyword {
  @apply text-purple-800 dark:text-pink-400;
}
.cmt-atom, .cmt-bool, .cmt-url, .cmt-contentSeparator, .cmt-labelName {
  @apply text-blue-900 dark:text-blue-300;
}
.cmt-inserted, .cmt-literal {
  @apply text-emerald-700 dark:text-emerald-200;
}
.cmt-string, .cmt-deleted {
  @apply text-rose-700 dark:text-sky-300;
}
.cmt-italic.cmt-string {
  @apply dark:text-sky-200;
}
.cmt-regexp, .cmt-escape {
  @apply text-orange-500 dark:text-orange-300;
}
.cmt-variableName {
  @apply text-blue-800 dark:text-sky-300;
}
.cmt-typeName, .cmt-namespace {
  @apply text-emerald-600 dark:text-emerald-300;
}
.cmt-className {
  @apply text-teal-600 dark:text-teal-200;
}
.cmt-macroName {
  @apply text-teal-700 dark:text-teal-200;
}
.cmt-propertyName {
  @apply text-blue-700 dark:text-blue-200;
}
.cmt-comment {
  @apply text-slate-500 dark:text-slate-400;
}
.cmt-meta {
  @apply text-slate-600 dark:text-slate-400;
}
.cmt-invalid {
  @apply text-red-500 dark:text-red-300;
}

.result-data {
  @apply font-mono text-sm overflow-x-auto whitespace-nowrap leading-normal;
}
.result-data::-webkit-scrollbar, .path-nav::-webkit-scrollbar {
  @apply h-0;
}
.result-data-collapsed {
  @apply whitespace-nowrap;
}
.result-data-field {
  @apply ml-4 whitespace-nowrap;
}
.result-data-field-link{
  @apply ml-4 whitespace-nowrap cursor-pointer;
}
.result-data-field-link:hover {
  @apply text-black bg-black/5;
}
.result-text-empty {
  color: rgba(0,0,0,.3);
}
.browsify-button:hover {
  box-shadow: -2px 0 0 2px #edf2f7;
}

/* Prose */
/* --------------------------------------------------------------- */

.notebook-viewer,
.markdown-viewer {
  @apply prose
    dark:prose-invert
    prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline
    dark:prose-a:text-blue-300
    prose-p:mt-4 prose-p:leading-snug
    prose-ol:mt-4 prose-ol:mb-6 prose-ol:leading-snug
    prose-ul:mt-4 prose-ul:mb-6 prose-ul:leading-snug
    prose-blockquote:mt-4 prose-blockquote:leading-snug
    prose-hr:mt-6 prose-hr:border-t-2 prose-hr:border-solid prose-hr:border-slate-200
    prose-figure:mt-4
    prose-figcaption:mt-2 prose-figcaption:text-xs
    prose-headings:mb-4
    prose-table:mt-0
    prose-th:mb-0
    prose-img:my-0
    prose-code:font-medium prose-code:bg-slate-100
    max-w-none;
}
.markdown-viewer blockquote p:first-of-type:before,
.markdown-viewer blockquote p:last-of-type:after {
  @apply content-none;
}
.markdown-node-viewer.result-viewer.fragment-item {
    @apply mb-0 !important;
}

/* Images */
/* --------------------------------------------------------------- */


/* Todo Lists */
/* --------------------------------------------------------------- */

.contains-task-list {
  @apply pl-6 list-none;
}
.contains-task-list input[type="checkbox"] {
  @apply appearance-none h-4 w-4 rounded border border-slate-200 relative mr-[0.3rem] ml-[-1.5rem] top-[0.15rem];
}
.contains-task-list input[type="checkbox"]:checked {
  @apply border-indigo-600 bg-indigo-600 bg-no-repeat bg-contain;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

/* Markdown TOC */
/* --------------------------------------------------------------- */

.markdown-viewer .toc      { @apply mt-4; }
.markdown-viewer h1 + .toc { @apply mt-8; }

.markdown-viewer .toc h1,
.markdown-viewer .toc h2,
.markdown-viewer .toc h3,
.markdown-viewer .toc h4,
.markdown-viewer .toc h5,
.markdown-viewer .toc h6 {
  @apply text-base text-indigo-600 font-sans my-0;
}
.markdown-viewer .toc a {
  @apply text-indigo-600 font-normal no-underline hover:underline;
}
.markdown-viewer .toc li    { @apply m-0; }
.markdown-viewer .toc ul ul { @apply pl-4; }

/* Notebook Spacing */
/* --------------------------------------------------------------- */

.notebook-viewer { @apply py-16; }
#clerk-static-app .notebook-viewer { @apply pt-[0.8rem] pb-16; }
.markdown-viewer *:first-child:not(.code-viewer):not(li):not(h2):not(.sidenote) { @apply mt-0; }
/*.viewer + .viewer { @apply mt-6; }*/
.viewer + .result-viewer { @apply mt-0; }
.code-viewer + .result-viewer { @apply mt-3; }
.markdown-viewer + .markdown-viewer { @apply mt-0; }

/* Sidenotes */
/* --------------------------------------------------------------- */

.sidenote-ref {
  @apply top-[-0.5em] w-auto h-auto inline border-0 bg-transparent m-0 pointer-events-none;
}
.sidenote {
  @apply block font-sans text-xs mt-4 bg-slate-100 dark:bg-slate-800 p-4;
  font-style: normal;
  font-weight: normal;
}
.sidenote-container {
  @apply mb-4;
}
@media (min-width: 860px) {
  .sidenote sup { @apply inline; }
  .sidenote-column {
    @apply w-[165px] absolute right-0 top-0 -mr-[205px];
  }
  .sidenote {
    @apply bg-transparent dark:bg-transparent p-0;
  }
  .sidenote:first-child {
    @apply mt-1;
  }
  .sidenotes-layout .markdown-viewer {
    @apply pr-[241px];
  }
  .sidenote-container {
    @apply relative mb-0;
  }
  .sidenotes-layout h1 {
    @apply w-[756px] !important;
  }
}
.code-viewer + .viewer:not(.code-viewer):not(.code-viewer-folded),
.code-viewer-folded + .viewer:not(.code-viewer):not(.code-viewer-folded),
.result-viewer:not(.markdown-node-viewer) + .result-viewer {
  @apply mt-2;
}
.code-viewer + .code-viewer-folded {
  @apply mt-4;
}
.result-viewer {
  @apply leading-tight mb-6;
}
.code-viewer.fragment-item.result-viewer {
  @apply mb-0 !important;
}
.result-viewer figure {
  @apply mt-0 !important;
}
@media (min-width: 768px) {
  .devcard-desc > div {
    @apply max-w-full m-0;
  }
}

/* Command Palette */
/* --------------------------------------------------------------- */

.nj-commands-input {
  @apply bg-transparent text-white;
}
.nj-context-menu-item:hover:not([disabled]) {
  @apply cursor-pointer;
  background-color: rgba(255,255,255,.14);
}

/* Devdocs */
/* --------------------------------------------------------------- */

.logo, .logo-white {
  @apply block indent-[-999em];
  background: url(/images/nextjournal-logo.svg) center center no-repeat;
}
.devdocs-body {
  @apply font-inter;
}

/* Workarounds */
/* --------------------------------------------------------------- */

/* Fixes vega viewer resizing into infinity */
.vega-embed .chart-wrapper { @apply h-auto !important; }
/* fixes fraction separators being overridden by tw’s border-color */
.katex * { @apply border-black; }

@media print {
    .dark-mode-toggle,
    .toc-toggle { @apply hidden; }
    .notebook-viewer { @apply pt-0; font-size: 12pt !important; margin-left: 0 !important; }
    .code-viewer .cm-content,
    .viewer-code .cm-content { @apply whitespace-pre-wrap !important; overflow: none; }
    .code-viewer .cm-line { font-size: 12pt !important; }
    html * { page-break-inside: avoid !important; }
    .toc-panel { @apply hidden; }
}
</style><script src="https://storage.clerk.garden/nextjournal/clerk-assets@4NdW4yYfmUzzw9xCkmyrJ75nH75d/viewer.js?immutable=true" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"></head><body><div id="clerk-static-app"></div><script type="module">let state = "{:out-path \"public/build\", :path->doc {\"src/emmy/calculus/form_field.cljc\" {:path [], :nextjournal/value {:toc {:type :toc, :children [{:children [{:type :toc, :content [{:type :text, :text \"Form fields\"}], :heading-level 2, :attrs {:id \"form-fields\"}, :path [:content 0], :children [{:type :toc, :content [{:type :text, :text \"API\"}], :heading-level 3, :attrs {:id \"api\"}, :path [:content 3]}]} {:type :toc, :content [{:type :text, :text \"Wedge Product (from Wedge.scm)\"}], :heading-level 2, :attrs {:id \"wedge-product-(from-wedge.scm)\"}, :path [:content 6]} {:type :toc, :content [{:type :text, :text \"Exterior Derivative\"}], :heading-level 2, :attrs {:id \"exterior-derivative\"}, :path [:content 11]}], :type :toc}]}, :sidenotes? false, :toc-visibility true, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns emmy.calculus.form-field), :auto-expand-results? nil, :scope emmy.calculus.form-field, :bundle? false, :open-graph {:type \"article:clerk\", :title \"Form fields\", :description \"A form-field of rank n is an operator that takes n vector fields to a real-valued function on the manifold. A one-form field takes a single vector field.\"}, :title \"Form fields\", :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.calculus.form-field/markdown-5drUSUGNN3tUEcibXAr5ZcycZ5GEBR\"} [\"h2\" {:id \"form-fields\"} [:<> \"Form fields\"]] [:p [:<> \"A form-field of rank n is an operator that takes n vector fields to a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"real-valued function on the manifold. A one-form field takes a single vector\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"field.\"]]], :nextjournal/opts {:id \"emmy.calculus.form-field/markdown-5drUSUGNN3tUEcibXAr5ZcycZ5GEBR\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(derive ::oneform-field ::form-field)\", :nextjournal/opts {:id \"emmy.calculus.form-field/anon-expr-5dsRzydje3DLzAT23Y8ykyxcP7J2YK-code\", :loc {:line 35, :end-line 35, :column 1, :end-column 38}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value nil, :nextjournal/opts {:id \"emmy.calculus.form-field/anon-expr-5dsRzydje3DLzAT23Y8ykyxcP7J2YK-result\"}, :nextjournal/viewer {:render-fn #viewer-fn (fn [_] [:span.cmt-default.inspected-value \"nil\"]), :hash \"5dtUvzjkkSGDKH896hrVHyYFWTpQG6\"}}, :nextjournal/blob-id \"5dsFRY1krxjQsMuSWQcwVKLZLL3SrM\"}, :nextjournal/opts {:id \"emmy.calculus.form-field/anon-expr-5dsRzydje3DLzAT23Y8ykyxcP7J2YK-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(derive ::form-field ::o/operator)\", :nextjournal/opts {:id \"emmy.calculus.form-field/anon-expr-5duBSHN2emHFg2RneCcKGDGdQGwE8u-code\", :loc {:line 36, :end-line 36, :column 1, :end-column 35}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value nil, :nextjournal/opts {:id \"emmy.calculus.form-field/anon-expr-5duBSHN2emHFg2RneCcKGDGdQGwE8u-result\"}, :nextjournal/viewer {:render-fn #viewer-fn (fn [_] [:span.cmt-default.inspected-value \"nil\"]), :hash \"5dtUvzjkkSGDKH896hrVHyYFWTpQG6\"}}, :nextjournal/blob-id \"5drQSAyiqqASWhVTVdtsKCN54tX6vM\"}, :nextjournal/opts {:id \"emmy.calculus.form-field/anon-expr-5duBSHN2emHFg2RneCcKGDGdQGwE8u-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ff:zero\\n  \\\"Returns a form field that returns, for any supplied vector field `vf`, a\\n  manifold function [[manifold/zero-manifold-function]] that maps every input\\n  manifold `point` to the scalar value 0.\\\"\\n  [_]\\n  m/zero-manifold-function)\", :nextjournal/opts {:id \"emmy.calculus.form-field/ff:zero-code\", :loc {:line 38, :end-line 43, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$ff_COLON_zero 0x76bbce5a \\\"emmy.calculus.form_field$ff_COLON_zero@76bbce5a\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/ff:zero-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/ff:zero-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn get-rank\\n  \\\"Returns the rank of the supplied differential form `f`. Functions are treated\\n  as differential forms of rank 0.\\n\\n  Throws for any non differential form supplied.\\\"\\n  [f]\\n  (cond (o/operator? f)\\n        (or (:rank (o/context f))\\n            (u/illegal\\n             (str \\\"operator, but not a differential form: \\\" f)))\\n\\n        (f/function? f) 0\\n        :else (u/illegal\\n               (str \\\"not a differential form: \\\" f))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/get-rank-code\", :loc {:line 45, :end-line 58, :column 1, :end-column 54}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$get_rank 0x2ed48048 \\\"emmy.calculus.form_field$get_rank@2ed48048\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/get-rank-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/get-rank-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn form-field?\\n  \\\"Returns true if the supplied `f` is a form field operator, false otherwise.\\\"\\n  [ff]\\n  (and (o/operator? ff)\\n       (let [subtype (:subtype\\n                      (o/context ff))]\\n         (isa? subtype ::form-field))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/form-field?-code\", :loc {:line 60, :end-line 66, :column 1, :end-column 40}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$form_field_QMARK_ 0x30cfba85 \\\"emmy.calculus.form_field$form_field_QMARK_@30cfba85\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/form-field?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/form-field?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn nform-field?\\n  \\\"Returns true if the supplied `f` is an [form field of rank\\n  n](https://en.wikipedia.org/wiki/Differential_form), false otherwise.\\n\\n  A form-field of rank n is an operator that takes n vector fields to a\\n  real-valued function on the manifold.\\\"\\n  [f n]\\n  (and (form-field? f)\\n       (= n (get-rank f))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/nform-field?-code\", :loc {:line 68, :end-line 76, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$nform_field_QMARK_ 0x700cfd52 \\\"emmy.calculus.form_field$nform_field_QMARK_@700cfd52\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/nform-field?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/nform-field?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn oneform-field?\\n  \\\"Returns true if the supplied `f` is\\n  a [One-form](https://en.wikipedia.org/wiki/One-form), false\\n  otherwise.\\n\\n  A [One-form](https://en.wikipedia.org/wiki/One-form) takes a single vector\\n  field to a real-valued function on the manifold.\\\"\\n  [f]\\n  (nform-field? f 1))\", :nextjournal/opts {:id \"emmy.calculus.form-field/oneform-field?-code\", :loc {:line 78, :end-line 86, :column 1, :end-column 22}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$oneform_field_QMARK_ 0x58ed2417 \\\"emmy.calculus.form_field$oneform_field_QMARK_@58ed2417\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/oneform-field?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/oneform-field?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn- ff:zero-like\\n  \\\"Given some form field `op`, returns a form field with the same context and\\n  its procedure replaced by `ff:zero`.\\n\\n  The returned form field responds `true` to `v/zero?`.\\\"\\n  [op]\\n  {:pre [(form-field? op)]}\\n  (o/make-operator ff:zero\\n                   'ff:zero\\n                   (o/context op)))\", :nextjournal/opts {:id \"emmy.calculus.form-field/ff:zero-like-code\", :loc {:line 88, :end-line 97, :column 1, :end-column 36}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$ff_COLON_zero_like 0x52b13982 \\\"emmy.calculus.form_field$ff_COLON_zero_like@52b13982\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/ff:zero-like-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/ff:zero-like-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn- ff:zero?\\n  \\\"Returns true if the supplied form field `op` is a form field with a procedure\\n  equal to `ff:zero`, false otherwise.\\\"\\n  [op]\\n  (and (form-field? op)\\n       (= (o/procedure op) ff:zero)))\", :nextjournal/opts {:id \"emmy.calculus.form-field/ff:zero?-code\", :loc {:line 99, :end-line 104, :column 1, :end-column 38}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$ff_COLON_zero_QMARK_ 0x1f67aac3 \\\"emmy.calculus.form_field$ff_COLON_zero_QMARK_@1f67aac3\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/ff:zero?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/ff:zero?-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(letfn [(one-like [_]\\n          (u/unsupported\\n           \\\"form fields don't have an identity.\\\"))\\n        (id-like [_]\\n          (u/unsupported\\n           \\\"form fields don't have a multiplicative identity.\\\"))\\n        (identity? [_] false)]\\n  (let [defaults {:zero? ff:zero?\\n                  :zero-like ff:zero-like\\n                  :one-like one-like\\n                  :identity? identity?\\n                  :identity-like id-like}]\\n    (defn- ff-context [m]\\n      (merge defaults m))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/anon-expr-5dqqkb8k9yaAr86NNhsJPn7qJhaAmS-code\", :loc {:line 106, :end-line 119, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value emmy.calculus.form-field/ff-context, :nextjournal/opts {:id \"emmy.calculus.form-field/anon-expr-5dqqkb8k9yaAr86NNhsJPn7qJhaAmS-result\"}, :nextjournal/viewer {:render-fn #viewer-fn (fn [x] [:span.inspected-value [:span.cmt-meta \"#'\" (str x)]]), :hash \"5drVRdpy8ciJYX39zFxxrNrNizFH2i\"}}, :nextjournal/blob-id \"5drysizMnwgayc5J36AvwG7SZHpRPC\"}, :nextjournal/opts {:id \"emmy.calculus.form-field/anon-expr-5dqqkb8k9yaAr86NNhsJPn7qJhaAmS-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ^:no-doc procedure->nform-field\\n  \\\"Accepts a function `f` and an optional symbolic `name`, and returns an n-form\\n  field, i.e., a subtype of [[emmy.operator/Operator]].\\n\\n  `f` should be a function from n vector field arguments to a smooth real-valued\\n  function `g` of a manifold.\\n\\n  If `n` is 0, the function will be called immediately and its return value\\n  returned.\\\"\\n  ([f n]\\n   (procedure->nform-field f n 'unnamed-nform-field))\\n  ([f n name]\\n   (if (= n 0)\\n     (f)\\n     (let [args (into [] (repeat n ::vf/vector-field))]\\n       (o/make-operator f name\\n                        (ff-context\\n                         {:subtype ::form-field\\n                          :arity [:exactly n]\\n                          :rank n\\n                          :arguments args}))))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/procedure->nform-field-code\", :loc {:line 121, :end-line 141, :column 1, :end-column 49}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$procedure__GT_nform_field 0x8962210 \\\"emmy.calculus.form_field$procedure__GT_nform_field@8962210\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/procedure->nform-field-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/procedure->nform-field-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ^:no-doc procedure->oneform-field\\n  \\\"Accepts a function `f` and an optional symbolic `name`, and returns a one-form\\n  field, i.e., a subtype of [[emmy.operator/Operator]].\\n\\n  `f` should be a function from a vector field to a smooth real-valued function\\n  `g` of a manifold.\\\"\\n  ([f]\\n   (let [name 'unnamed-1form-field]\\n     (procedure->oneform-field f name)))\\n  ([f name]\\n   (o/make-operator f name\\n                    (ff-context\\n                     {:subtype ::oneform-field\\n                      :arity [:exactly 1]\\n                      :rank 1\\n                      :arguments [::vf/vector-field]}))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/procedure->oneform-field-code\", :loc {:line 143, :end-line 158, :column 1, :end-column 58}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$procedure__GT_oneform_field 0x396a7289 \\\"emmy.calculus.form_field$procedure__GT_oneform_field@396a7289\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/procedure->oneform-field-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/procedure->oneform-field-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ^:no-doc oneform-field-procedure\\n  \\\"Takes:\\n\\n  - a `down` tuple of `components` of the one-form field relative to\\n    `coordinate-system`\\n  - the `coordinate-system`\\n\\n  And returns a procedure (not yet an operator!) that takes a structure of vector fields\\n  and produces a new structure of functions of manifold points.\\\"\\n  [components coordinate-system]\\n  (fn [vf-components]\\n    (s/mapr (fn [vf]\\n              {:pre [(vf/vector-field? vf)]}\\n              (f/compose\\n               (g/* components\\n                    (vf/vector-field->components vf coordinate-system))\\n               (m/chart coordinate-system)))\\n            vf-components)))\", :nextjournal/opts {:id \"emmy.calculus.form-field/oneform-field-procedure-code\", :loc {:line 160, :end-line 177, :column 1, :end-column 29}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$oneform_field_procedure 0x624c210f \\\"emmy.calculus.form_field$oneform_field_procedure@624c210f\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/oneform-field-procedure-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/oneform-field-procedure-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn components->oneform-field\\n  \\\"Takes:\\n\\n  - a `down` tuple of `components` of the one-form field relative to\\n    `coordinate-system`\\n  - the `coordinate-system`\\n\\n  And returns a full one-form field.\\n\\n  A one-field field is an operator that takes a vector field to a real-valued\\n  function on the manifold.\\\"\\n  ([components coordinate-system]\\n   (let [name `(~'oneform-field\\n                ~(v/freeze components))]\\n     (components->oneform-field\\n      components coordinate-system name)))\\n  ([components coordinate-system name]\\n   (-> (oneform-field-procedure components coordinate-system)\\n       (procedure->oneform-field name))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/components->oneform-field-code\", :loc {:line 179, :end-line 197, :column 1, :end-column 42}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$components__GT_oneform_field 0x405fae37 \\\"emmy.calculus.form_field$components__GT_oneform_field@405fae37\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/components->oneform-field-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/components->oneform-field-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.calculus.form-field/markdown-5drqCMjpBtiisjhecoxgb6dLeCL7Ms\"} [:p [:<> \"We can extract the components function for a form, given a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"coordinate system.\"]]], :nextjournal/opts {:id \"emmy.calculus.form-field/markdown-5drqCMjpBtiisjhecoxgb6dLeCL7Ms\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn oneform-field->components\\n  \\\"Given a one-form field `form` and a `coordinate-system`, returns a function\\n  from the coordinate representation of a manifold point to a coordinate\\n  representation of the coordinatized components of the form field at that\\n  point.\\n\\n  For example:\\n\\n  ```clojure\\n  (let-coordinates [[x y] R2-rect]\\n    (let [f (literal-oneform-field 'f R2-rect)]\\n      ((oneform-field->components f R2-rect)\\n       (up 'x0 'y0))))\\n\\n  ;;=> (down (f_0 (up x0 y0))\\n  ;;         (f_1 (up x0 y0)))\\n  ```\\\"\\n  [form coordinate-system]\\n  {:pre [(form-field? form)]}\\n  (let [basis (vf/coordinate-system->vector-basis coordinate-system)]\\n    (f/compose (form basis)\\n               (m/point coordinate-system))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/oneform-field->components-code\", :loc {:line 202, :end-line 223, :column 1, :end-column 46}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$oneform_field__GT_components 0x7960828e \\\"emmy.calculus.form_field$oneform_field__GT_components@7960828e\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/oneform-field->components-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/oneform-field->components-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.calculus.form-field/markdown-5duCHwY93egfYWnQz3i1Vvg55nuQfv\"} [\"h3\" {:id \"api\"} [:<> \"API\"]]], :nextjournal/opts {:id \"emmy.calculus.form-field/markdown-5duCHwY93egfYWnQz3i1Vvg55nuQfv\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn literal-oneform-field\\n  \\\"Given a symbolic name `sym` and a `coordinate-system`, returns a one-form field\\n  consisting of literal real-valued functions from the coordinate system's\\n  dimension for each coordinate component.\\n\\n  These functions are passed to [[components->oneform-field]], along with the\\n  supplied `coordinate-system` and symbolic name `sym`.\\n\\n  For coordinate systems of dimension 1, `literal-form-field`'s component\\n  functions will accept a single non-structural argument.\\\"\\n  [name coordinate-system]\\n  (let [n (:dimension (m/manifold coordinate-system))\\n        domain (if (= n 1) 0 (s/up* (repeat n 0)))\\n        range  (s/down* (repeat n 0))]\\n    (-> (af/literal-function name domain range)\\n        (components->oneform-field coordinate-system name))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/literal-oneform-field-code\", :loc {:line 227, :end-line 242, :column 1, :end-column 62}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$literal_oneform_field 0x13f45911 \\\"emmy.calculus.form_field$literal_oneform_field@13f45911\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/literal-oneform-field-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/literal-oneform-field-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.calculus.form-field/markdown-5dtrs97sJ7hporm9s2QRWNWxKjoiHe\"} [:p [:<> \"To get the elements of a coordinate basis for the 1-form fields:\"]]], :nextjournal/opts {:id \"emmy.calculus.form-field/markdown-5dtrs97sJ7hporm9s2QRWNWxKjoiHe\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn- coordinate-basis-oneform-field-procedure\\n  [coordinate-system & indices]\\n  (fn [vf-structure]\\n    (letfn [(internal [vf]\\n              {:pre [(vf/vector-field? vf)]}\\n              (vf\\n               (f/compose (apply s/component indices)\\n                          (m/chart coordinate-system))))]\\n      (s/mapr internal vf-structure))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/coordinate-basis-oneform-field-procedure-code\", :loc {:line 246, :end-line 254, :column 1, :end-column 40}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$coordinate_basis_oneform_field_procedure 0x10b35639 \\\"emmy.calculus.form_field$coordinate_basis_oneform_field_procedure@10b35639\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/coordinate-basis-oneform-field-procedure-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/coordinate-basis-oneform-field-procedure-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn coordinate-basis-oneform-field\\n  \\\"Given some `coordinate-system`, a symbolic `name` and a sequence of indices\\n  into the structure of the coordinate system's representation, returns a\\n  one-form field.\\n\\n  The returned one-form field at each structural spot takes a vector field and\\n  returns a function that takes the directional derivative in that coordinate's\\n  direction using the vector field.\\\"\\n  [coordinate-system name & indices]\\n  (let [ofp (apply coordinate-basis-oneform-field-procedure\\n                   coordinate-system indices)]\\n    (-> (f/memoize\\n         (comp f/memoize ofp))\\n        (procedure->oneform-field name))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/coordinate-basis-oneform-field-code\", :loc {:line 256, :end-line 269, :column 1, :end-column 43}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$coordinate_basis_oneform_field 0x2d207c0e \\\"emmy.calculus.form_field$coordinate_basis_oneform_field@2d207c0e\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/coordinate-basis-oneform-field-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/coordinate-basis-oneform-field-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn ^:no-doc coordinate-name->ff-name\\n  \\\"From the name of a coordinate, produce the name of the coordinate basis\\n  one-form field (as a symbol)\\\"\\n  [n]\\n  (symbol (str \\\\d n)))\", :nextjournal/opts {:id \"emmy.calculus.form-field/coordinate-name->ff-name-code\", :loc {:line 271, :end-line 275, :column 1, :end-column 23}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$coordinate_name__GT_ff_name 0x50a9ffd6 \\\"emmy.calculus.form_field$coordinate_name__GT_ff_name@50a9ffd6\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/coordinate-name->ff-name-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/coordinate-name->ff-name-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn coordinate-system->oneform-basis\\n  \\\"Given some `coordinate-system`, returns a structure of\\n  `coordinate-basis-oneform-field` instances.\\n\\n  The one-form field at each structural spot takes a vector field and returns a\\n  function that takes the directional derivative in that coordinate's direction\\n  using the vector field.\\n\\n  When applied as a function, the structure behaves equivalently to\\n\\n  ```clojure\\n  (coordinate-basis-oneform-field <coordinate-system> 'ignored-name)\\n  ```\\n\\n  With no indices supplied.\\\"\\n  [coordinate-system]\\n  (s/map-chain\\n   (fn [c-name chain _]\\n     (let [ff-name (coordinate-name->ff-name c-name)]\\n       (apply coordinate-basis-oneform-field\\n              coordinate-system ff-name chain)))\\n   (m/coordinate-prototype coordinate-system)))\", :nextjournal/opts {:id \"emmy.calculus.form-field/coordinate-system->oneform-basis-code\", :loc {:line 277, :end-line 298, :column 1, :end-column 48}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$coordinate_system__GT_oneform_basis 0x61a40803 \\\"emmy.calculus.form_field$coordinate_system__GT_oneform_basis@61a40803\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/coordinate-system->oneform-basis-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/coordinate-system->oneform-basis-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.calculus.form-field/markdown-5dtv53BVrQbUnaeAvgCnfhdKHZo9rz\"} [:p [:<> \"Given component functions defined on manifold points and a 1-form basis, to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"produce the 1-form field as a linear combination.\"]]], :nextjournal/opts {:id \"emmy.calculus.form-field/markdown-5dtv53BVrQbUnaeAvgCnfhdKHZo9rz\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn basis-components->oneform-field\\n  \\\"Given a structure of `components` functions defined on manifold points and and\\n  a matching `oneform-basis` (of identical structure),\\n\\n  Returns a new one-form field that\\n\\n  - passes its vector-field argument to `oneform-basis`, returning a new\\n    equivalent structure with each slot populated by functions from a manifold\\n    point to the directional derivative (using the vector field) in that\\n    coordinate direction\\n\\n  - contracts the result of that operation with the result of applying each\\n    component in `components` to the manifold point.\\n\\n  NOTE:\\n  - This is for any basis, not just a coordinate basis\\n  - The `components` are evaluated at a manifold point, not its coordinates\\n  - Given a dual basis, you can retrieve the original components\\n    with [[oneform-field->basis-components]]\\\"\\n  [components oneform-basis]\\n  (procedure->oneform-field\\n   (fn [vf]\\n     (g/* components (oneform-basis vf)))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/basis-components->oneform-field-code\", :loc {:line 303, :end-line 325, :column 1, :end-column 44}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$basis_components__GT_oneform_field 0x6bac8890 \\\"emmy.calculus.form_field$basis_components__GT_oneform_field@6bac8890\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/basis-components->oneform-field-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/basis-components->oneform-field-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn oneform-field->basis-components\\n  \\\"Given a structure `w` of and a vector field basis `vector-basis`, returns a new\\n  structure generated by applying the full vector basis to each element of `w`.\\n\\n  Here's an example of how to use this function to round trip a structure of\\n  basis components:\\n\\n  ```clojure\\n  (let [vb    (vf/coordinate-system->vector-basis coordsys)\\n        basis (coordinate-system->oneform-basis coordsys)\\n        components (down d:dx d:dy)]\\n    (= components\\n       (-> components\\n           (basis-components->oneform-field basis)\\n           (oneform-field->basis-components vb))))\\n  ```\\\"\\n  [w vector-basis]\\n  (s/mapr w vector-basis))\", :nextjournal/opts {:id \"emmy.calculus.form-field/oneform-field->basis-components-code\", :loc {:line 327, :end-line 344, :column 1, :end-column 27}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$oneform_field__GT_basis_components 0x454259e7 \\\"emmy.calculus.form_field$oneform_field__GT_basis_components@454259e7\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/oneform-field->basis-components-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/oneform-field->basis-components-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn function->oneform-field\\n  \\\"One of the two incompatible definitions of differential.\\n\\n  This differential is a special case of exterior derivative. The other one\\n  lives at [[map/differential]].\\\"\\n  [f]\\n  {:pre [(f/function? f)]}\\n  (let [op (fn [vf-structure]\\n             (s/mapr (fn [vf]\\n                       {:pre [(vf/vector-field? vf)]}\\n                       (fn [m] ((vf f) m)))\\n                     vf-structure))\\n        name `(~'d ~(v/freeze f))]\\n    (procedure->oneform-field op name)))\", :nextjournal/opts {:id \"emmy.calculus.form-field/function->oneform-field-code\", :loc {:line 346, :end-line 359, :column 1, :end-column 41}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$function__GT_oneform_field 0x5a8a59d6 \\\"emmy.calculus.form_field$function__GT_oneform_field@5a8a59d6\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/function->oneform-field-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/function->oneform-field-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def differential-of-function\\n  \\\"Alias for [[function->oneform-field]].\\n  One of the two incompatible definitions of differential.\\n\\n  This differential is a special case of exterior derivative. The other one\\n  lives at [[map/differential]].\\\"\\n  function->oneform-field)\", :nextjournal/opts {:id \"emmy.calculus.form-field/differential-of-function-code\", :loc {:line 361, :end-line 367, :column 1, :end-column 27}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$function__GT_oneform_field 0x5a8a59d6 \\\"emmy.calculus.form_field$function__GT_oneform_field@5a8a59d6\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/differential-of-function-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/differential-of-function-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.calculus.form-field/markdown-5du2QyS5ipHqTVYuUiHii3cCqWWZaP\"} [\"h2\" {:id \"wedge-product-(from-wedge.scm)\"} [:<> \"Wedge Product (from Wedge.scm)\"]] [:p [:<> \"Now we transition to wedge.\"]] [:p [:<> \"Higher rank forms can be constructed from 1forms by wedging them together.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"This antisymmetric tensor product is computed as a determinant. The purpose\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"of this is to allow us to use the construction dx^dy to compute the area\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"described by the vectors that are given to it.\"]]], :nextjournal/opts {:id \"emmy.calculus.form-field/markdown-5du2QyS5ipHqTVYuUiHii3cCqWWZaP\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn- wedge2\\n  \\\"Binary and unary cases of the wedge product.\\\"\\n  ([form1] form1)\\n  ([form1 form2]\\n   (let [n1 (get-rank form1)\\n         n2 (get-rank form2)]\\n     (if (or (zero? n1) (zero? n2))\\n       (g/* form1 form2)\\n       (let [n (+ n1 n2)\\n             k (/ 1\\n                  (* (factorial n1)\\n                     (factorial n2)))\\n             w (fn [& args]\\n                 (assert (= (count args) n)\\n                         (str \\\"Wrong number of args to wedge product: \\\"\\n                              (count args) \\\" vs required \\\" n))\\n                 ;; \\\"Error in Singer\\\" comment from GJS.\\n                 (g/* k (apply\\n                         g/+ (map (fn [permutation parity]\\n                                    (let [[a1 a2] (split-at n1 permutation)]\\n                                      (g/* parity\\n                                           (apply form1 a1)\\n                                           (apply form2 a2))))\\n                                  (permute/permutation-sequence args)\\n                                  (cycle [1 -1])))))\\n             name `(~'wedge\\n                    ~(v/freeze form1)\\n                    ~(v/freeze form2))]\\n         (procedure->nform-field w n name))))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/wedge2-code\", :loc {:line 378, :end-line 406, :column 1, :end-column 48}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$wedge2 0x1bafa694 \\\"emmy.calculus.form_field$wedge2@1bafa694\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/wedge2-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/wedge2-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn wedge\\n  \\\"Computes the wedge product of the sequence `fs` of one-forms.\\n\\n  Higher rank forms can be constructed from one-forms by wedging them together.\\n  This antisymmetric tensor product is computed as a determinant. The purpose of\\n  this is to allow us to use the construction dx^dy to compute the area\\n  described by the vectors that are given to it.\\n\\n  See Spivak p275 v1 of 'Differential Geometry' to see the correct definition.\\n  The key is that the wedge of the coordinate basis forms had better be the\\n  volume element.\\\"\\n  ([] (constantly 1))\\n  ([f] f)\\n  ([f & fs]\\n   (reduce (fn [r l]\\n             (wedge2 l r))\\n           (reverse (cons f fs)))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/wedge-code\", :loc {:line 408, :end-line 424, :column 1, :end-column 36}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$wedge 0x14c85579 \\\"emmy.calculus.form_field$wedge@14c85579\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/wedge-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/wedge-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.calculus.form-field/markdown-5dstpPkMwXZnuJa7CUMrUED1woEM7E\"} [:p [:<> \"One-form fields multiply by [[wedge]].\"]]], :nextjournal/opts {:id \"emmy.calculus.form-field/markdown-5dstpPkMwXZnuJa7CUMrUED1woEM7E\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defmethod g/mul [::form-field ::form-field] [a b]\\n  (wedge2 a b))\", :nextjournal/opts {:id \"emmy.calculus.form-field/anon-expr-5dtZrwixCQiAgpZiaHxd3eeAz79mqm-code\", :loc {:line 428, :end-line 429, :column 1, :end-column 16}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[clojure.lang.MultiFn 0x4392bb66 \\\"clojure.lang.MultiFn@4392bb66\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/anon-expr-5dtZrwixCQiAgpZiaHxd3eeAz79mqm-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtEZ8D6ccvpR7kSfN6jhyffZyyztK\"}, :nextjournal/opts {:id \"emmy.calculus.form-field/anon-expr-5dtZrwixCQiAgpZiaHxd3eeAz79mqm-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.calculus.form-field/markdown-5dsbeyNfxN46W9gUVoFeR5dFbuiQ8k\"} [:p [:<> \"Alternative definition in terms of alternation.\"]]], :nextjournal/opts {:id \"emmy.calculus.form-field/markdown-5dsbeyNfxN46W9gUVoFeR5dFbuiQ8k\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn Alt\\n  \\\"Returns the alternation of the supplied differential `form`.\\\"\\n  [form]\\n  (let [n (get-rank form)]\\n    (if (zero? n)\\n      form\\n      (letfn [(alternation [& args]\\n                (assert (= (count args) n)\\n                        \\\"Wrong number of args to alternation\\\")\\n                (g/* (/ 1 (factorial n))\\n                     (ua/generic-sum\\n                      (map (fn [permutation parity]\\n                             (g/* parity (apply form permutation)))\\n                           (permute/permutation-sequence args)\\n                           (cycle [1 -1])))))]\\n        (procedure->nform-field\\n         alternation n `(~'Alt ~(v/freeze form)))))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/Alt-code\", :loc {:line 433, :end-line 449, :column 1, :end-column 54}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$Alt 0x4bde0e2b \\\"emmy.calculus.form_field$Alt@4bde0e2b\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/Alt-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/Alt-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn- tensor-product2\\n  ([t1] t1)\\n  ([t1 t2]\\n   (let [n1 (get-rank t1)\\n         n2 (get-rank t2)]\\n     (if (or (zero? n1) (zero? n2))\\n       (g/* t1 t2)\\n       (let [n  (+ n1 n2)\\n             tp (fn [& args]\\n                  (assert (= (count args) n)\\n                          \\\"Wrong number of args to tensor product\\\")\\n                  (let [[a1 a2] (split-at n1 args)]\\n                    (g/* (apply t1 a1)\\n                         (apply t2 a2))))]\\n         (procedure->nform-field\\n          tp n `(~'tensor-product\\n                 ~(v/freeze t1)\\n                 ~(v/freeze t2))))))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/tensor-product2-code\", :loc {:line 451, :end-line 468, :column 1, :end-column 39}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$tensor_product2 0x2da38ac2 \\\"emmy.calculus.form_field$tensor_product2@2da38ac2\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/tensor-product2-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/tensor-product2-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn- w2\\n  ([form1] form1)\\n  ([form1 form2]\\n   (let [n1 (get-rank form1)\\n         n2 (get-rank form2)]\\n     (g/* (/ (factorial (+ n1 n2))\\n             (* (factorial n1)\\n                (factorial n2)))\\n          (Alt (tensor-product2 form1 form2))))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/w2-code\", :loc {:line 470, :end-line 478, :column 1, :end-column 50}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$w2 0x7b967192 \\\"emmy.calculus.form_field$w2@7b967192\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/w2-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/w2-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(defn alt-wedge\\n  \\\"Alternative definition of [[wedge]] in terms of alternation.\\\"\\n  [& args]\\n  (reduce w2 (constantly 1) args))\", :nextjournal/opts {:id \"emmy.calculus.form-field/alt-wedge-code\", :loc {:line 480, :end-line 483, :column 1, :end-column 35}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$alt_wedge 0x2d89bc0d \\\"emmy.calculus.form_field$alt_wedge@2d89bc0d\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/alt-wedge-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/alt-wedge-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id \"emmy.calculus.form-field/markdown-5drXqsJA9XRSwzqxxT6q1kKULwRT6q\"} [\"h2\" {:id \"exterior-derivative\"} [:<> \"Exterior Derivative\"]] [:p [:<> \"A form field is a function of a place and a number of vector fields. The\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"exterior derivative of this form field is a derivative of the form with\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"respect to the place, removing any dependence on place of the vector fields.\"]] [:p [:<> \"Consider w(v)(x), where b is the coefficient function for w in coordinates X:\"]] [:p [:<> \"v1(w(v2))(x) - v2(w(v1))(x)\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"= v1(b v2(X))(x) - v2(b v1(X))(x)\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"= v1(b)(x) v2(X)(x) + b(x) v1(v2(X))(x)\"]] [:ul [:li [:<> [:<> \"v2(b)(x) v1(X)(x) - b(x) v2(v1(X))(x)\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"= v1(b)(x) v2(X)(x) - v2(b)(x) v1(X)(x) + b(x)\"] [:a {:href \"X\"} [:<> \"v1, v2\"]] [:<> \"(x)\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"= v1(b)(x) v2(X)(x) - v2(b)(x) v1(X)(x) + w([v1, v2])(x)\"]]]] [:p [:<> \"We define exterior derivative as follows:\"]] [:p [:<> \"dw(v1, v2)(x)\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"= v1(b)(x) v2(X)(x) - v2(b)(x) v1(X)(x)\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"= v1(w(v2))(x) - v2(w(v1))(x) - w([v1, v2])(x)\"]] [:p [:<> \"It is not obvious that this is equivalent to the standard definition. See\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"page 91 in Spivak.\"]] [:p [:<> \"Another way to think about this is that if we were able to define constant\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"vector fields (v1_bar, v2_bar) that have constant coefficient functions equal\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to the value of the coefficient function at the point, then dw(v1, v2)(x)\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"would be just v1_bar(w(v2_bar))(x) - v2_bar(w(v1_bar))(x).\"]] [:p [:<> \"This definition is a generalization to k-forms, by recursion on the vector\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"argument list.\"]] [:p [:<> \"The test for k<n is best if the n is the dimension of the manifold under\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"study. However, if the manifold is embedded in a higher dimensional manifold\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"n will be the dimension of the bigger manifold, making this test less\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"effective (cutting off fewer branches).\"]] [:p [:<> \"Formula is from Spivak Vol. 1 p289.\"]] [:p [:<> \"NOTE: This is an excessively complicated program. Another, more elementary\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"program would, for a k-form, extract the cofficient functions relative to a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"literal basis, by applying it to the basis vectors, do the derivatives of the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"coefficients, to make one forms, and form the sum of the wedges of the new\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"1-forms with the wedges of the corresponding dual basis elements.\"]]], :nextjournal/opts {:id \"emmy.calculus.form-field/markdown-5drXqsJA9XRSwzqxxT6q1kKULwRT6q\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-with-react-key, :hash \"5drtFhRgc8WMLrXw6DB4bZLsNZjHHp\"}} {:path [], :nextjournal/value \"(defn- exterior-derivative-procedure [kform]\\n  (let [k (get-rank kform)]\\n    (if (= k 0)\\n      (differential-of-function kform)\\n      (let [without #(concat (take %1 %2)\\n                             (drop (inc %1) %2))\\n            k+1form (fn [& vectors]\\n                      (assert (= (count vectors) (inc k)))\\n                      (fn [point]\\n                        (let [n (:dimension\\n                                 (m/point->manifold point))]\\n                          (if (< k n)\\n                            (ua/generic-sum\\n                             (fn [i]\\n                               (let [rest (without i vectors)]\\n                                 (g/+ (g/* (if (even? i) 1 -1)\\n                                           (((nth vectors i) (apply kform rest))\\n                                            point))\\n                                      (ua/generic-sum\\n                                       (fn [j]\\n                                         (g/* (if (even? (+ i j)) 1 -1)\\n                                              ((apply kform\\n                                                      (cons\\n                                                       (o/commutator (nth vectors i)\\n                                                                     (nth vectors j))\\n                                                       ;; (dec j) because\\n                                                       ;; already deleted i.\\n                                                       (without (dec j) rest)))\\n                                               point)))\\n                                       (inc i)\\n                                       (inc k)))))\\n                             0 (inc k))\\n                            0))))]\\n        (procedure->nform-field\\n         k+1form (inc k) `(~'d ~(v/freeze kform)))))))\", :nextjournal/opts {:id \"emmy.calculus.form-field/exterior-derivative-procedure-code\", :loc {:line 531, :end-line 565, :column 1, :end-column 55}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"#object[emmy.calculus.form_field$exterior_derivative_procedure 0x1810d2ad \\\"emmy.calculus.form_field$exterior_derivative_procedure@1810d2ad\\\"]\", :nextjournal/opts {:id \"emmy.calculus.form-field/exterior-derivative-procedure-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id nil}, :nextjournal/opts {:id \"emmy.calculus.form-field/exterior-derivative-procedure-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def exterior-derivative\\n  (o/make-operator\\n   exterior-derivative-procedure 'd))\", :nextjournal/opts {:id \"emmy.calculus.form-field/exterior-derivative-code\", :loc {:line 567, :end-line 569, :column 1, :end-column 38}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"d\", :nextjournal/opts {:id \"emmy.calculus.form-field/exterior-derivative-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dtwXUaCKoHEggByMp7g1RvicwX4KD\"}, :nextjournal/opts {:id \"emmy.calculus.form-field/exterior-derivative-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:path [], :nextjournal/value \"(def d exterior-derivative)\", :nextjournal/opts {:id \"emmy.calculus.form-field/d-code\", :loc {:line 571, :end-line 571, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash \"5dru1FUcVRTRrVKJFbNw4FG2wXmiwB\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value \"d\", :nextjournal/opts {:id \"emmy.calculus.form-field/d-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (read-string x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash \"5driNqLjrByEWrhxqnAqaiYK9eiYCv\"}}, :nextjournal/blob-id \"5dsjKvwJPd3PFaHaeJPy3fiKhWnFsC\"}, :nextjournal/opts {:id \"emmy.calculus.form-field/d-result\"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}}], :css-class nil}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5duAFDxE4sCnRX71Wo6zeCpC9C3djE\"}}}, :index \"dev/emmy/notebook.clj\", :browse? false, :git/url \"https://github.com/mentat-collective/emmy\", :paths [\"src/emmy/abstract/number.cljc\" \"src/emmy/special/elliptic.cljc\" \"src/emmy/polynomial/interpolate.cljc\" \"src/emmy/numerical/quadrature/midpoint.cljc\" \"src/emmy/numerical/quadrature/trapezoid.cljc\" \"src/emmy/sci.cljc\" \"src/emmy/calculus/map.cljc\" \"src/emmy/pattern/rule.cljc\" \"src/emmy/mechanics/time_evolution.cljc\" \"src/emmy/util/permute.cljc\" \"src/emmy/expression/cse.cljc\" \"src/emmy/complex.cljc\" \"src/emmy/generic.cljc\" \"src/emmy/expression/compile.cljc\" \"src/emmy/sr/frames.cljc\" \"src/emmy/function.cljc\" \"src/emmy/polynomial/richardson.cljc\" \"src/emmy/numerical/unimin/brent.cljc\" \"src/emmy/numsymb.cljc\" \"src/emmy/calculus/vector_field.cljc\" \"src/emmy/numerical/minimize.cljc\" \"src/emmy/rational_function.cljc\" \"src/emmy/mechanics/noether.cljc\" \"src/emmy/calculus/hodge_star.cljc\" \"src/emmy/series.cljc\" \"src/emmy/series/impl.cljc\" \"src/emmy/calculus/manifold.cljc\" \"src/emmy/util/logic.cljc\" \"src/emmy/util/stopwatch.cljc\" \"src/emmy/numerical/quadrature/adaptive.cljc\" \"src/emmy/mechanics/rotation.cljc\" \"src/emmy/numerical/ode.cljc\" \"src/emmy/numerical/quadrature/riemann.cljc\" \"src/emmy/calculus/connection.cljc\" \"src/emmy/numbers.cljc\" \"src/emmy/algebra/fold.cljc\" \"src/emmy/numerical/multimin/nelder_mead.cljc\" \"src/emmy/polynomial/exponent.cljc\" \"src/emmy/polynomial/factor.cljc\" \"src/emmy/util/def.cljc\" \"src/emmy/abstract/function.cljc\" \"src/emmy/calculus/indexed.cljc\" \"src/emmy/numerical/quadrature.cljc\" \"src/emmy/numerical/quadrature/infinite.cljc\" \"src/emmy/mechanics/routhian.cljc\" \"src/emmy/numerical/quadrature/bulirsch_stoer.cljc\" \"src/emmy/ratio.cljc\" \"src/emmy/calculus/curvature.cljc\" \"src/emmy/numerical/quadrature/milne.cljc\" \"src/emmy/calculus/form_field.cljc\" \"src/emmy/mechanics/hamilton.cljc\" \"src/emmy/expression/render.cljc\" \"src/emmy/util/stream.cljc\" \"src/emmy/calculus/derivative.cljc\" \"dev/emmy/notebook.clj\" \"src/emmy/util/aggregate.cljc\" \"src/emmy/numerical/quadrature/romberg.cljc\" \"src/emmy/numerical/quadrature/boole.cljc\" \"src/emmy/pattern/match.cljc\" \"src/emmy/calculus/metric.cljc\" \"src/emmy/polynomial/gcd.cljc\" \"src/emmy/numerical/quadrature/substitute.cljc\" \"src/emmy/euclid.cljc\" \"src/emmy/calculus/vector_calculus.cljc\" \"src/emmy/collection.cljc\" \"src/emmy/numerical/quadrature/simpson.cljc\" \"src/emmy/calculus/basis.cljc\" \"src/emmy/util/vector_set.cljc\" \"src/emmy/pattern/syntax.cljc\" \"src/emmy/numerical/quadrature/common.cljc\" \"src/emmy/sr/boost.cljc\" \"src/emmy/calculus/coordinate.cljc\" \"src/emmy/calculus/covariant.cljc\" \"src/emmy/numerical/derivative.cljc\" \"src/emmy/simplify/rules.cljc\" \"src/emmy/mechanics/rigid.cljc\" \"src/emmy/quaternion.cljc\" \"src/emmy/rational_function/interpolate.cljc\" \"src/emmy/numerical/unimin/bracket.cljc\" \"src/emmy/numerical/roots/bisect.cljc\" \"src/emmy/numerical/quadrature/simpson38.cljc\" \"src/emmy/mechanics/lagrange.cljc\" \"src/emmy/expression/analyze.cljc\" \"src/emmy/calculus/frame.cljc\" \"src/emmy/pattern/consequence.cljc\" \"src/emmy/env.cljc\" \"src/emmy/util.cljc\" \"src/emmy/matrix.cljc\" \"src/emmy/sci/macros.cljc\" \"src/emmy/numerical/unimin/golden.cljc\" \"src/emmy/special/factorial.cljc\" \"src/emmy/polynomial/impl.cljc\" \"src/emmy/modint.cljc\"], :resource->url {\"/js/viewer.js\" \"https://storage.clerk.garden/nextjournal/clerk-assets@4NdW4yYfmUzzw9xCkmyrJ75nH75d/viewer.js?immutable=true\"}, :current-path \"src/emmy/calculus/form_field.cljc\", :bundle? false, :git/sha \"9ab30af2a7d82d37c83d7d3b2821e923762ec2e7\", :path->url {\"src/emmy/abstract/number.cljc\" \"src/emmy/abstract/number.html\", \"src/emmy/special/elliptic.cljc\" \"src/emmy/special/elliptic.html\", \"src/emmy/polynomial/interpolate.cljc\" \"src/emmy/polynomial/interpolate.html\", \"src/emmy/numerical/quadrature/midpoint.cljc\" \"src/emmy/numerical/quadrature/midpoint.html\", \"src/emmy/numerical/quadrature/trapezoid.cljc\" \"src/emmy/numerical/quadrature/trapezoid.html\", \"src/emmy/sci.cljc\" \"src/emmy/sci.html\", \"src/emmy/calculus/map.cljc\" \"src/emmy/calculus/map.html\", \"src/emmy/pattern/rule.cljc\" \"src/emmy/pattern/rule.html\", \"src/emmy/mechanics/time_evolution.cljc\" \"src/emmy/mechanics/time_evolution.html\", \"src/emmy/util/permute.cljc\" \"src/emmy/util/permute.html\", \"src/emmy/expression/cse.cljc\" \"src/emmy/expression/cse.html\", \"src/emmy/complex.cljc\" \"src/emmy/complex.html\", \"src/emmy/generic.cljc\" \"src/emmy/generic.html\", \"src/emmy/expression/compile.cljc\" \"src/emmy/expression/compile.html\", \"src/emmy/sr/frames.cljc\" \"src/emmy/sr/frames.html\", \"src/emmy/function.cljc\" \"src/emmy/function.html\", \"src/emmy/polynomial/richardson.cljc\" \"src/emmy/polynomial/richardson.html\", \"src/emmy/numerical/unimin/brent.cljc\" \"src/emmy/numerical/unimin/brent.html\", \"src/emmy/numsymb.cljc\" \"src/emmy/numsymb.html\", \"src/emmy/calculus/vector_field.cljc\" \"src/emmy/calculus/vector_field.html\", \"src/emmy/numerical/minimize.cljc\" \"src/emmy/numerical/minimize.html\", \"src/emmy/rational_function.cljc\" \"src/emmy/rational_function.html\", \"src/emmy/mechanics/noether.cljc\" \"src/emmy/mechanics/noether.html\", \"src/emmy/calculus/hodge_star.cljc\" \"src/emmy/calculus/hodge_star.html\", \"src/emmy/series.cljc\" \"src/emmy/series.html\", \"src/emmy/series/impl.cljc\" \"src/emmy/series/impl.html\", \"src/emmy/calculus/manifold.cljc\" \"src/emmy/calculus/manifold.html\", \"src/emmy/util/logic.cljc\" \"src/emmy/util/logic.html\", \"src/emmy/util/stopwatch.cljc\" \"src/emmy/util/stopwatch.html\", \"src/emmy/numerical/quadrature/adaptive.cljc\" \"src/emmy/numerical/quadrature/adaptive.html\", \"src/emmy/mechanics/rotation.cljc\" \"src/emmy/mechanics/rotation.html\", \"src/emmy/numerical/ode.cljc\" \"src/emmy/numerical/ode.html\", \"src/emmy/numerical/quadrature/riemann.cljc\" \"src/emmy/numerical/quadrature/riemann.html\", \"src/emmy/calculus/connection.cljc\" \"src/emmy/calculus/connection.html\", \"src/emmy/numbers.cljc\" \"src/emmy/numbers.html\", \"src/emmy/algebra/fold.cljc\" \"src/emmy/algebra/fold.html\", \"src/emmy/numerical/multimin/nelder_mead.cljc\" \"src/emmy/numerical/multimin/nelder_mead.html\", \"src/emmy/polynomial/exponent.cljc\" \"src/emmy/polynomial/exponent.html\", \"src/emmy/polynomial/factor.cljc\" \"src/emmy/polynomial/factor.html\", \"src/emmy/util/def.cljc\" \"src/emmy/util/def.html\", \"src/emmy/abstract/function.cljc\" \"src/emmy/abstract/function.html\", \"src/emmy/calculus/indexed.cljc\" \"src/emmy/calculus/indexed.html\", \"src/emmy/numerical/quadrature.cljc\" \"src/emmy/numerical/quadrature.html\", \"src/emmy/numerical/quadrature/infinite.cljc\" \"src/emmy/numerical/quadrature/infinite.html\", \"src/emmy/mechanics/routhian.cljc\" \"src/emmy/mechanics/routhian.html\", \"src/emmy/numerical/quadrature/bulirsch_stoer.cljc\" \"src/emmy/numerical/quadrature/bulirsch_stoer.html\", \"src/emmy/ratio.cljc\" \"src/emmy/ratio.html\", \"src/emmy/calculus/curvature.cljc\" \"src/emmy/calculus/curvature.html\", \"src/emmy/numerical/quadrature/milne.cljc\" \"src/emmy/numerical/quadrature/milne.html\", \"src/emmy/calculus/form_field.cljc\" \"src/emmy/calculus/form_field.html\", \"src/emmy/mechanics/hamilton.cljc\" \"src/emmy/mechanics/hamilton.html\", \"src/emmy/expression/render.cljc\" \"src/emmy/expression/render.html\", \"src/emmy/util/stream.cljc\" \"src/emmy/util/stream.html\", \"src/emmy/calculus/derivative.cljc\" \"src/emmy/calculus/derivative.html\", \"dev/emmy/notebook.clj\" \"\", \"src/emmy/util/aggregate.cljc\" \"src/emmy/util/aggregate.html\", \"src/emmy/numerical/quadrature/romberg.cljc\" \"src/emmy/numerical/quadrature/romberg.html\", \"src/emmy/numerical/quadrature/boole.cljc\" \"src/emmy/numerical/quadrature/boole.html\", \"src/emmy/pattern/match.cljc\" \"src/emmy/pattern/match.html\", \"src/emmy/calculus/metric.cljc\" \"src/emmy/calculus/metric.html\", \"src/emmy/polynomial/gcd.cljc\" \"src/emmy/polynomial/gcd.html\", \"src/emmy/numerical/quadrature/substitute.cljc\" \"src/emmy/numerical/quadrature/substitute.html\", \"src/emmy/euclid.cljc\" \"src/emmy/euclid.html\", \"src/emmy/calculus/vector_calculus.cljc\" \"src/emmy/calculus/vector_calculus.html\", \"src/emmy/collection.cljc\" \"src/emmy/collection.html\", \"src/emmy/numerical/quadrature/simpson.cljc\" \"src/emmy/numerical/quadrature/simpson.html\", \"src/emmy/calculus/basis.cljc\" \"src/emmy/calculus/basis.html\", \"src/emmy/util/vector_set.cljc\" \"src/emmy/util/vector_set.html\", \"src/emmy/pattern/syntax.cljc\" \"src/emmy/pattern/syntax.html\", \"src/emmy/numerical/quadrature/common.cljc\" \"src/emmy/numerical/quadrature/common.html\", \"src/emmy/sr/boost.cljc\" \"src/emmy/sr/boost.html\", \"src/emmy/calculus/coordinate.cljc\" \"src/emmy/calculus/coordinate.html\", \"src/emmy/calculus/covariant.cljc\" \"src/emmy/calculus/covariant.html\", \"src/emmy/numerical/derivative.cljc\" \"src/emmy/numerical/derivative.html\", \"src/emmy/simplify/rules.cljc\" \"src/emmy/simplify/rules.html\", \"src/emmy/mechanics/rigid.cljc\" \"src/emmy/mechanics/rigid.html\", \"src/emmy/quaternion.cljc\" \"src/emmy/quaternion.html\", \"src/emmy/rational_function/interpolate.cljc\" \"src/emmy/rational_function/interpolate.html\", \"src/emmy/numerical/unimin/bracket.cljc\" \"src/emmy/numerical/unimin/bracket.html\", \"src/emmy/numerical/roots/bisect.cljc\" \"src/emmy/numerical/roots/bisect.html\", \"src/emmy/numerical/quadrature/simpson38.cljc\" \"src/emmy/numerical/quadrature/simpson38.html\", \"src/emmy/mechanics/lagrange.cljc\" \"src/emmy/mechanics/lagrange.html\", \"src/emmy/expression/analyze.cljc\" \"src/emmy/expression/analyze.html\", \"src/emmy/calculus/frame.cljc\" \"src/emmy/calculus/frame.html\", \"src/emmy/pattern/consequence.cljc\" \"src/emmy/pattern/consequence.html\", \"src/emmy/env.cljc\" \"src/emmy/env.html\", \"src/emmy/util.cljc\" \"src/emmy/util.html\", \"src/emmy/matrix.cljc\" \"src/emmy/matrix.html\", \"src/emmy/sci/macros.cljc\" \"src/emmy/sci/macros.html\", \"src/emmy/numerical/unimin/golden.cljc\" \"src/emmy/numerical/unimin/golden.html\", \"src/emmy/special/factorial.cljc\" \"src/emmy/special/factorial.html\", \"src/emmy/polynomial/impl.cljc\" \"src/emmy/polynomial/impl.html\", \"src/emmy/modint.cljc\" \"src/emmy/modint.html\"}, :expanded-paths [\"src/emmy/special/elliptic.cljc\" \"src/emmy/special/factorial.cljc\" \"src/emmy/sr/frames.cljc\" \"src/emmy/sr/boost.cljc\" \"src/emmy/rational_function/interpolate.cljc\" \"src/emmy/calculus/connection.cljc\" \"src/emmy/calculus/manifold.cljc\" \"src/emmy/calculus/derivative.cljc\" \"src/emmy/calculus/frame.cljc\" \"src/emmy/calculus/coordinate.cljc\" \"src/emmy/calculus/vector_calculus.cljc\" \"src/emmy/calculus/map.cljc\" \"src/emmy/calculus/form_field.cljc\" \"src/emmy/calculus/hodge_star.cljc\" \"src/emmy/calculus/basis.cljc\" \"src/emmy/calculus/covariant.cljc\" \"src/emmy/calculus/curvature.cljc\" \"src/emmy/calculus/indexed.cljc\" \"src/emmy/calculus/vector_field.cljc\" \"src/emmy/calculus/metric.cljc\" \"src/emmy/numerical/multimin/nelder_mead.cljc\" \"src/emmy/numerical/quadrature/midpoint.cljc\" \"src/emmy/numerical/quadrature/substitute.cljc\" \"src/emmy/numerical/quadrature/milne.cljc\" \"src/emmy/numerical/quadrature/riemann.cljc\" \"src/emmy/numerical/quadrature/simpson38.cljc\" \"src/emmy/numerical/quadrature/boole.cljc\" \"src/emmy/numerical/quadrature/romberg.cljc\" \"src/emmy/numerical/quadrature/infinite.cljc\" \"src/emmy/numerical/quadrature/bulirsch_stoer.cljc\" \"src/emmy/numerical/quadrature/trapezoid.cljc\" \"src/emmy/numerical/quadrature/adaptive.cljc\" \"src/emmy/numerical/quadrature/common.cljc\" \"src/emmy/numerical/quadrature/simpson.cljc\" \"src/emmy/numerical/derivative.cljc\" \"src/emmy/numerical/quadrature.cljc\" \"src/emmy/numerical/minimize.cljc\" \"src/emmy/numerical/roots/bisect.cljc\" \"src/emmy/numerical/ode.cljc\" \"src/emmy/numerical/unimin/golden.cljc\" \"src/emmy/numerical/unimin/brent.cljc\" \"src/emmy/numerical/unimin/bracket.cljc\" \"src/emmy/algebra/fold.cljc\" \"src/emmy/util/stopwatch.cljc\" \"src/emmy/util/vector_set.cljc\" \"src/emmy/util/def.cljc\" \"src/emmy/util/stream.cljc\" \"src/emmy/util/permute.cljc\" \"src/emmy/util/aggregate.cljc\" \"src/emmy/util/logic.cljc\" \"src/emmy/abstract/number.cljc\" \"src/emmy/abstract/function.cljc\" \"src/emmy/expression/cse.cljc\" \"src/emmy/expression/compile.cljc\" \"src/emmy/expression/analyze.cljc\" \"src/emmy/expression/render.cljc\" \"src/emmy/pattern/match.cljc\" \"src/emmy/pattern/rule.cljc\" \"src/emmy/pattern/consequence.cljc\" \"src/emmy/pattern/syntax.cljc\" \"src/emmy/mechanics/time_evolution.cljc\" \"src/emmy/mechanics/lagrange.cljc\" \"src/emmy/mechanics/routhian.cljc\" \"src/emmy/mechanics/noether.cljc\" \"src/emmy/mechanics/rotation.cljc\" \"src/emmy/mechanics/rigid.cljc\" \"src/emmy/mechanics/hamilton.cljc\" \"src/emmy/sci/macros.cljc\" \"src/emmy/polynomial/impl.cljc\" \"src/emmy/polynomial/richardson.cljc\" \"src/emmy/polynomial/interpolate.cljc\" \"src/emmy/polynomial/factor.cljc\" \"src/emmy/polynomial/gcd.cljc\" \"src/emmy/polynomial/exponent.cljc\" \"src/emmy/simplify/rules.cljc\" \"src/emmy/series/impl.cljc\" \"src/emmy/collection.cljc\" \"src/emmy/complex.cljc\" \"src/emmy/euclid.cljc\" \"src/emmy/env.cljc\" \"src/emmy/function.cljc\" \"src/emmy/generic.cljc\" \"src/emmy/matrix.cljc\" \"src/emmy/modint.cljc\" \"src/emmy/numbers.cljc\" \"src/emmy/numsymb.cljc\" \"src/emmy/quaternion.cljc\" \"src/emmy/ratio.cljc\" \"src/emmy/rational_function.cljc\" \"src/emmy/sci.cljc\" \"src/emmy/series.cljc\" \"src/emmy/util.cljc\" \"dev/emmy/notebook.clj\"], :cname \"emmy.mentat.org\", :watch-paths [\"src\" \"dev\"], :report-fn #object[nextjournal.clerk.builder$stdout_reporter 0x1a71b5fd \"nextjournal.clerk.builder$stdout_reporter@1a71b5fd\"]}".replaceAll('nextjournal.clerk.view/escape-closing-script-tag', 'script')
let opts = nextjournal.clerk.sci_env.read_string(state)
nextjournal.clerk.static_app.init(opts)
</script></body></html>